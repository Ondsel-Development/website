<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-blog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Don&#x27;t hold your breath for FreeCAD&#x27;s topological naming fix | Ondsel</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ondsel.com/blog/freecad-topological-naming"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Don&#x27;t hold your breath for FreeCAD&#x27;s topological naming fix | Ondsel"><meta data-rh="true" name="description" content="FreeCAD&#x27;s &#x27;topological naming problem&#x27; is legendary. It&#x27;s frequently cited as the number one reason holding back widespread adoption of FreeCAD for commercial use."><meta data-rh="true" property="og:description" content="FreeCAD&#x27;s &#x27;topological naming problem&#x27; is legendary. It&#x27;s frequently cited as the number one reason holding back widespread adoption of FreeCAD for commercial use."><meta data-rh="true" property="og:image" content="https://ondsel.com/assets/images/titlecard-b00633fdbf76d5dc177c51634100fd28.png"><meta data-rh="true" name="twitter:image" content="https://ondsel.com/assets/images/titlecard-b00633fdbf76d5dc177c51634100fd28.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-02-18T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/sliptonic,https://www.thebasementoffice.co.uk"><meta data-rh="true" property="article:tag" content="freecad,development"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ondsel.com/blog/freecad-topological-naming"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/freecad-topological-naming" hreflang="en"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/freecad-topological-naming" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-37JG1KMTYS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-37JG1KMTYS",{anonymize_ip:!0})</script>


<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ondsel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ondsel Atom Feed">
<script src="https://boards.greenhouse.io/embed/job_board/js?for=ondsel"></script><link rel="stylesheet" href="/assets/css/styles.754822dd.css">
<link rel="preload" href="/assets/js/runtime~main.4492bf99.js" as="script">
<link rel="preload" href="/assets/js/main.4c870196.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar backimg navbar--fixed-top"><div class="wrapper"><div class="menu_button"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div><div class="navbar__inner"><div class="navbar__items navbar_layout"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items desktop c_grey"><a class="c_grey navbar__item navbar__link" href="/">Home</a><a class="c_grey navbar__item navbar__link" href="/about">About Us</a><a class="c_grey navbar__item navbar__link" href="/careers/">Careers</a><a aria-current="page" class="c_grey navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right desktop c_grey"><a href="https://github.com/Ondsel-Development" target="_blank" rel="noopener noreferrer" class="c_grey navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_H2mL"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/default-assembly-workbench-6">Exploring BodyBuilder, Manipulator, and Part-o-magic</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/default-assembly-workbench-5">Exploring the Assembly 4 workbench</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/default-assembly-workbench-4">Exploring the Assembly 3 workbench</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/default-assembly-workbench-3">Exploring the A2plus workbench</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/default-assembly-workbench-2">Exploring the Assembly 2 workbench</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-b00633fdbf76d5dc177c51634100fd28.png"><header><h1 class="title_f1Hy" itemprop="headline">Don&#x27;t hold your breath for FreeCAD&#x27;s topological naming fix</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-02-18T00:00:00.000Z" itemprop="datePublished">February 18, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://media.licdn.com/dms/image/C4D03AQGTVXyi5Pa-xg/profile-displayphoto-shrink_800_800/0/1596530840324?e=1681344000&amp;v=beta&amp;t=PjdEzZGYbqOsAqVWUE1bsjNuVxMsknVkZfStHx863-s" alt="Rebecca Dodd"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rebecca Dodd</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>FreeCAD&#x27;s &#x27;<a href="https://wiki.freecad.org/Topological_naming_problem" target="_blank" rel="noopener noreferrer">topological naming problem</a>&#x27; is legendary. It&#x27;s frequently cited as the number one reason holding back widespread adoption of FreeCAD for commercial use.</p><p>Developer <a href="https://github.com/realthunder" target="_blank" rel="noopener noreferrer">RealThunder</a> introduced <a href="https://forum.freecad.org/viewtopic.php?t=27278" target="_blank" rel="noopener noreferrer">a fix to the problem</a> years ago, but it has never been fully incorporated into the core product.</p><p>Will FreeCAD <em>ever</em> have a solution? Yes. But it’s going to take time.</p><p>Let’s back up a bit.</p><h1>What is topological naming, and why is it a problem in FreeCAD?</h1><p>Topological naming is the process of giving persistent names to elements of a solid model, such as faces, edges, and vertices. By naming these elements, we can attach features, dimensions, and other attributes to them.</p><p>The hard part of topological naming is making the names persistent even if the model is modified. Modern parametric designs are built up through a series of modifications which change the elements in the model. Faces may merge or be split. Edges may be chamfered, turning into multiple edges. If the computer is unable to maintain correct persistence of the naming—even when the underlying topology changes—the model breaks and recovery is difficult. <a href="https://youtu.be/QSsVFu929jo?t=33" target="_blank" rel="noopener noreferrer">Maker Tales has a good explanation here</a>.</p><p>The problem is ubiquitous in CAD. All applications suffer from it to some extent. The problem cannot be <em>solved</em> in the traditional sense. It can only be mitigated and most applications do a good job of avoiding the problem by either limiting the user’s actions or algorithmically tracking changes to the named features.</p><p>The current state of FreeCAD is weak in this regard. For simple models, the problem is fairly easy to avoid and a broken model is easy to repair. As models get more complicated, only a very disciplined approach to design will keep models intact. This requires experience that many new and casual users don’t have. That is why the problem is so frustrating—it bites you when you’ve already invested a lot of time learning the tool and building the design.</p><h1>RealThunder’s fix works. Why not use it?</h1><p>It seems obvious. We have a working branch of FreeCAD that isn’t plagued by the topological naming problem. Why wouldn’t we just merge it in and be done with it?</p><p>“The fact that this solvable topology naming problem is so serious yet so long-standing, tells me that this is really a people problem in the FreeCAD project. Because of this, as much as I want to use it, I simply can not afford this &quot;free&quot; software. The community needs to push out whomever is standing in the way of progress. And crowd-source some funds to hire a pro to fix the topology-naming issue as well as do some much-needed integration work.” — <a href="https://www.youtube.com/watch?v=QSsVFu929jo&amp;lc=UgzY-2eximqNDrWgxkF4AaABAg" target="_blank" rel="noopener noreferrer">agnichatian on YouTube</a></p><p>This opinion is understandable and certainly not unusual. As much as we relate to the frustrations expressed here, it’s not as simple as just merging in RealThunder’s branch or bringing in one paid developer to do it once and for all. Why?</p><p>It’s important to appreciate how pervasive feature naming is within FreeCAD—or <em>any</em> CAD. Identifying features and attaching attributes to them is what modern parametric design is all about. Implementing a solution is not a straightforward task and implementing it incorrectly would cause user models to break irreparably. Even a <em>properly</em> implemented solution is guaranteed to have bugs and border-cases for a long time.</p><p>For all these reasons, the project leaders have chosen to move cautiously and to allow the solution to stabilize and be proven before merging it into the main branch.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-it-so-hard-to-merge">Why is it so hard to merge?<a href="#why-is-it-so-hard-to-merge" class="hash-link" aria-label="Direct link to Why is it so hard to merge?" title="Direct link to Why is it so hard to merge?">​</a></h2><p>There are two factors:</p><p>First is the sheer size and number of code changes necessary to implement this solution. Many, if not most, files in FreeCAD need to be modified to incorporate the solution.
Second is the pace of other development work. The rest of FreeCAD’s development has only accelerated in recent years. Work is being done by many developers in many parts of the application.</p><p>Before new code can be merged, it has to be rebased onto the current version of source code. If there are conflicts, they have to be resolved manually. With a large, pervasive change like this, there are <em>always</em> conflicts. By the time rebasing is complete, the master branch has moved ahead and the process has to start again.</p><p>One solution could be to freeze the master branch and block any further changes until the topological naming solution is merged, but this might take many months to accomplish and just isn’t practical. There are many more features other developers are working on, and, more importantly, problems they are fixing. If we were to freeze the master branch in favor of one fix, other features will again have the same rebasing issue.</p><p>Of course, users could switch to using RealThunder’s branch exclusively. Some users who are particularly sensitive to the problem have done so successfully. For commercial users this may be hard to sell to leadership because RealThunder’s branch isn’t able to keep pace with the development of new features in the upstream FreeCAD application. They have to make a choice between relatively stable models and having access to the new and advanced features being developed throughout the rest of FreeCAD.</p><h1>What’s the path forward?</h1><p>At the FreeCAD Day meetup in Brussels in February 2023, Ondsel and other project leaders <a href="https://forum.freecad.org/viewtopic.php?p=658250#p658250" target="_blank" rel="noopener noreferrer">proposed a different strategy for resolving the issue</a>: Instead of attempting to merge RealThunder’s solution as a monolithic unit, we would, instead, consider it a proof-of-concept. The solution has been running in RealThunder’s LinksStage3 branch for two years and can be considered proven. Now we need to treat it as a roadmap to guide us towards implementing the solution in FreeCAD itself without disrupting current functionality or slowing down development.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="progress-without-regression">Progress without regression<a href="#progress-without-regression" class="hash-link" aria-label="Direct link to Progress without regression" title="Direct link to Progress without regression">​</a></h2><p>Rather than merging the code directly, our proposal is to break the code into functional pieces, each of which can be merged directly into the master branch without breaking the current functionality. This will require additional testing at each step and might require additional code to permit the merging without regression.</p><p>With this approach, each piece will be merged directly to master along with the relevant unit tests. This will avoid the need for a long-lived feature branch that requires constant rebasing.  There will be no single point where suddenly the problem is ‘fixed.’ Instead the necessary changes will be merged gradually and model stability will increase over time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="laying-the-foundation-for-long-term-change">Laying the foundation for long-term change<a href="#laying-the-foundation-for-long-term-change" class="hash-link" aria-label="Direct link to Laying the foundation for long-term change" title="Direct link to Laying the foundation for long-term change">​</a></h2><p>The first pieces to be merged may not provide any value to the end-user but will provide a solid foundation that later pieces can build on. As each piece is added, additional unit tests can be developed and better code conventions adopted for implementing the actual name resolution.</p><p>This path isn’t fast. It will take time and the collective expertise of many developers. It will take cooperation throughout the community and patience from our users.</p><h1>What is Ondsel’s role in all this? Is Ondsel going to solve the toponaming problem?</h1><p>Ondsel has already started a thorough survey of RealThunder’s solution in order to build a roadmap for integrating it.</p><p>Ondsel will help coordinate the change and will participate in delivering a resolution. We can bring professional engineering talent to the problem but we <em>cannot</em> do it alone. It will take time and the expertise of many software engineers across the community.</p><p>There’s no “one and done” fix, which means the FreeCAD development community needs broad institutional knowledge of the solution. The toponaming problem belongs to FreeCAD and, therefore, so must the solution.</p><p>For more context and to follow developments as we work on breaking down and gradually merging RealThunder’s fix, subscribe to <a href="https://github.com/FreeCAD/FreeCAD/issues/8432" target="_blank" rel="noopener noreferrer">the GitHub issue</a>.</p><p>To help us make FreeCAD better and build the Ondsel product, consider <a href="https://ondsel.com/careers/" target="_blank" rel="noopener noreferrer">joining us</a>.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Note...</summary><div><div class="collapsibleContent_i85q"><div><div>I’m Brad Collette, longtime FreeCAD contributor and CTO of Ondsel, a new open core company built on top of FreeCAD. Ondsel helps you share useful aspects of your solid models without giving away your designs. We’re working on improving collaboration and feature accessibility and integrating with your existing tools. You can read more about my vision for FreeCAD and Ondsel <a href="https://opencoreventures.com/blog/2023-01-ondsel-freecad-launch/" target="_blank" rel="noopener noreferrer">here</a></div><br></div></div></div></details></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/evaluating-github-profile"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">I hire people to work on a FOSS project. Here&#x27;s how I evaluate GitHub profiles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/chatgpt-screwtape"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">ChatGPT acts demonic about open-source software</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-is-it-so-hard-to-merge" class="table-of-contents__link toc-highlight">Why is it so hard to merge?</a></li><li><a href="#progress-without-regression" class="table-of-contents__link toc-highlight">Progress without regression</a></li><li><a href="#laying-the-foundation-for-long-term-change" class="table-of-contents__link toc-highlight">Laying the foundation for long-term change</a></li></ul></div></div></div></div></div><footer class="footer transparent footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col flex footer-layout"><div><div class="footer__title">Contact Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:contact@ondsel.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">contact@ondsel.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">FreeCAD</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://freecad.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/FreeCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="footer__bottom copy_right text--center"><div class="footer__copyright">Copyright © 2023 Ondsel, Inc. </div></div></div></footer></div>
<script src="/assets/js/runtime~main.4492bf99.js"></script>
<script src="/assets/js/main.4c870196.js"></script>
</body>
</html>