<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-blog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Blog | Ondsel</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ondsel.com/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Ondsel"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ondsel.com/blog/page/2"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/page/2" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-37JG1KMTYS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-37JG1KMTYS",{anonymize_ip:!0})</script>


<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ondsel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ondsel Atom Feed">
<script src="https://boards.greenhouse.io/embed/job_board/js?for=ondsel"></script><link rel="stylesheet" href="/assets/css/styles.1e83884c.css">
<link rel="preload" href="/assets/js/runtime~main.84dc5416.js" as="script">
<link rel="preload" href="/assets/js/main.a1d46ae7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar bg-grid-pattern navbar--fixed-top"><div class="wrapper"><div class="menu_button"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div><div class="navbar__inner"><div class="navbar__items navbar_layout"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items desktop text_gray"><a class="text_gray navbar__item navbar__link" href="/">Home</a><a class="text_gray navbar__item navbar__link" href="/about">About Us</a><a class="text_gray navbar__item navbar__link" href="/pricing">Pricing</a><a class="text_gray navbar__item navbar__link" href="/contact">Contact</a><a class="text_gray navbar__item navbar__link" href="/careers">Careers</a><a aria-current="page" class="text_gray navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right desktop text_gray"><a href="https://github.com/Ondsel-Development" target="_blank" rel="noopener noreferrer" class="text_gray navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_H2mL"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ondsel-made-constraining-sketches-faster-and-easier">Ondsel made constraining sketches faster and easier</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/merge-meeting">Live merge meetings: What we learned from merging 75 Pull Requests in 30 days</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-road-to-freecad-1-0-is-shorter-than-you-think">The road to FreeCAD 1.0 is shorter than you think</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dont-lose-your-open-source-soul">Don’t lose your (open-source) soul: Why we founded Ondsel as a Public Benefit Company</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/freecad-needs-a-first-run-wizard">FreeCAD needs a first-run wizard, but nobody knows what it should do</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-b87cffa156af0fd62d7287d6469ca5ba.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-needs-a-better-materials-system">FreeCAD Needs A Better Materials System</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-06-09T00:00:00.000Z" itemprop="datePublished">June 9, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/davesrocketshop" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Dave Carter</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>FreeCAD has a basic implementation of a materials system. While it works in some use cases, we think it can be vastly improved to become a lot more useful. Let’s discuss what’s already available, what’s missing, and what’s a possible way forward with this. But first, why are we even discussing it?</p><p>We are introducing a new co-author in this post. Dave Carter has been a FreeCAD user since v0.16 (primarily for rocketry and 3D printing). He worked over 40 years as a software developer in government, supply chain, and automotive industries. He is the main person behind the <a href="https://github.com/davesrocketshop/Rocket" target="_blank" rel="noopener noreferrer">Rocket</a> workbench that helps design model and amateur rockets and components for them. Dave volunteered to lead the effort creating an updated materials system for FreeCAD and has been actively working towards that goal for the past several weeks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-a-good-materials-system-is-important">Why A Good Materials System Is Important<a href="#why-a-good-materials-system-is-important" class="hash-link" aria-label="Direct link to Why A Good Materials System Is Important" title="Direct link to Why A Good Materials System Is Important">​</a></h2><p>Materials are a lot more than the color of solids in the viewport. As engineers, we need basic mechanical properties like density to calculate mass. We need advanced mechanical properties, as well as thermal and electrical properties to run various simulations (think finite element analysis). We need vendor-specific data to make an estimation of material cost. We also need materials to make commercial-grade rendering easy.</p><p>So a good materials system needs a database of materials with mechanical, thermal, electrical, architectural, and other properties. But it goes even further than that.</p><p>We know that materials behave differently depending on environment conditions. For example, we know that Young&#x27;s modulus of metals decreases when temperature increases. So a materials system has to provide tools to build relationships between different material properties. Otherwise simulations won’t provide usable results.</p><p>Is that all? Nope. A concrete wall will have a first coat and then a finish. A model rocket will have a primer paint on top of the body, and then a coat of spray paint on top of parts of the primer paint. So a good materials system has to be able to deal with compound materials / multi-materials.</p><p>It’s also a great idea to have a more or less uniform UX/UI for working with materials in different scenarios. An architect by trade can be a tinkerer in their spare time, making Arduino-based devices, small home automation projects, and the like. They would appreciate not having to re-learn everything just because it’s a different set of tools in the same CAD system they use.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-whats-wrong-with-what-we-already-have">So What’s Wrong With What We Already Have?<a href="#so-whats-wrong-with-what-we-already-have" class="hash-link" aria-label="Direct link to So What’s Wrong With What We Already Have?" title="Direct link to So What’s Wrong With What We Already Have?">​</a></h2><p>Let’s take a closer look at what’s currently available in FreeCAD. A major part of the existing materials system is the Material Editor:</p><p><img loading="lazy" alt="Existing materials editor" src="/assets/images/current-materials-editor-ef0301422381273b27ee5989224849cc.png" width="1308" height="1135" class="img_ev3q"></p><p>It relies on a small catalog of materials (slightly over 100) available throughout FreeCAD. For each material, it’s possible to set properties in several categories:</p><ul><li>Mechanical</li><li>Thermal</li><li>Electrical</li><li>Architectural</li><li>Rendering</li><li>Vector Rendering (hatching)</li><li>Cost (vendor-specific)</li><li>User-defined</li></ul><p>Custom properties can be added to the user-defined category to accommodate for workflow specifics.</p><p>The existing materials system is currently used in FEM and Arch workbenches that are available by default, as well as in 3rd-party workbenches like <a href="https://wiki.freecad.org/Rocket_Workbench" target="_blank" rel="noopener noreferrer">Rocket</a> and <a href="https://github.com/FreeCAD/FreeCAD-render" target="_blank" rel="noopener noreferrer">Render</a>.</p><p>All this is a great start. But there are also various issues. Here are just some of the more obvious ones:</p><ul><li>It is impossible to set a different material to every face of a part. You can have a piece of metal or block of concrete with a coating on one side and nothing at all on the other one.</li><li>Multi-materials are only possible in the Arch workbench, but that is not enough. Any metallic or plastic solid and a paint job already make it <em>at least</em> two materials.</li><li>It should be possible to override properties set in the material card in a more or less uniform way. Maybe a variation of a material has slightly different mechanical or thermal properties, or maybe a building materials supplier is setting a different cost on a per-project basis.</li><li>Material cards do not account for real-life behavior of materials, e.g. some physical properties may vary with temperature. A common use case is <a href="https://forum.freecad.org/viewtopic.php?p=461640&amp;sid=cb795e11170e14ba824af3b437645500#p461640" target="_blank" rel="noopener noreferrer">describing different CTEs at different temperatures for FEM</a>. Moreover, the existing system only allows for isotropic materials that behave consistently regardless of direction. Orthotropic materials, such as wood, have different characteristics depending on direction: against the grain is stronger than with the grain.</li><li>Texture mapping is separate from the material settings and only allows loading a texture file, with no positioning settings.</li><li>Material information is not accounted for when importing/exporting from/to some file formats.</li><li>There are no built-in functions to use the material data to make basic calculations such as weight, or cost.</li><li>There’s no easy way to tell which part of an assembly doesn’t have an assigned material.</li><li>The material editor has no UI for categories. It works as long as the list of materials is relatively small, but this will become a problem once the list is expanded.</li></ul><p>This is just scratching the surface.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="previous-attempt-at-fixing-the-materials-system">Previous Attempt at Fixing The Materials System<a href="#previous-attempt-at-fixing-the-materials-system" class="hash-link" aria-label="Direct link to Previous Attempt at Fixing The Materials System" title="Direct link to Previous Attempt at Fixing The Materials System">​</a></h2><p>The topic of improving the existing materials system has been brought up before. Around 2016, a contributor named Eivind Kvedalen attempted to fix some of the issues, in particular: arbitrary properties, per-face materials, infrastructure for a material database. He made two commits in a public fork on GitHub, and continued the discussion. But eventually this initiative went into slumber. Right now, the fork needs further work to even compile.</p><p>As is usual in the FreeCAD ecosystem, people also attempted to come up with various workarounds. The 3rd-party <a href="https://github.com/furti/FreeCAD-ArchTextures" target="_blank" rel="noopener noreferrer">Arch Textures</a> workbench exists solely to work around the limitations of the built-in texture mapper. The <a href="https://github.com/andreasBihlmaier/FreeCAD" target="_blank" rel="noopener noreferrer">FCinfo</a> macro helps make basic calculations based on mechanical properties.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-the-updated-materials-system-should-be-like">What The Updated Materials System Should Be Like<a href="#what-the-updated-materials-system-should-be-like" class="hash-link" aria-label="Direct link to What The Updated Materials System Should Be Like" title="Direct link to What The Updated Materials System Should Be Like">​</a></h2><p>Having studied the subject, here’s the gist of what we think the new system should be like.</p><p>FreeCAD needs a <strong>way to store materials data</strong> in the project. If you created an assembly and used materials with custom properties (even if it’s just the material cost because you got a discount from your supplier), your team or contractors should be able to open that file and see assigned materials and related data.</p><p>There have to be <strong>per-face / per-solid materials and multi-materials</strong>. This shouldn’t be an Arch-specific feature like it is now, it has to be available for all workbenches.</p><p>There needs to be a <strong>more uniform UX/UI for selecting material and overriding its properties</strong> one way or another. The set of properties may vary between workbenches, but UI for overriding should follow the same design pattern.</p><p>It would be an absolute must to have an easily<strong> accessible calculation of basic part properties</strong>. Users should be able to easily see the weight of one part or an entire assembly.</p><p>We definitely see interest in having <strong>texture mapping and probably hatching</strong> as part of a material, with advanced settings. Advanced UV editing could be done by 3rd-party tools, but the basics of texture mapping should be there.</p><p>The <strong>material editor has to be enhanced</strong>: materials should be pre-organized into categories, have tags, rendering preview etc. The list of materials should be searchable.</p><p>There’s a strong requirement to be able to <strong>set relationships between properties for realistic simulations</strong>. There are multiple approaches to do that. We can do it with curves (like SolidWorks does) or by making multiple entries with an associated temperature range (or pressure, or whatever).</p><p>It’s generally a good idea to have <strong>easy access to up-to-date vendor data on materials</strong> where possible. There are many existing materials systems, <a href="https://github.com/Moult/IfcClassification" target="_blank" rel="noopener noreferrer">here</a> are just some of those in the architecture department. We know that accessing up-to-date information won’t be easy. When APIs even exist, they are typically not public or documented. And even there we’d be extremely cautious, because setting cost implies responsibility, and FreeCAD needs to be very clear where that responsibility is.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-forward">The Way Forward<a href="#the-way-forward" class="hash-link" aria-label="Direct link to The Way Forward" title="Direct link to The Way Forward">​</a></h2><p>Because of how far-reaching the implications of the materials system are, we think bringing it to the state of the art needs to be a community project with all major stakeholders involved.</p><p>There’s a small task force building around this project.</p><p>Ondsel made a start on analyzing what makes a materials system great, explored implementations in various other CAD programs (SolidWorks, Inventor, Onshape, Revit, Archicad), studied the existing implementation in FreeCAD, and put together an initial list of requirements.</p><p>Dave Carter, the developer behind the Rocket workbench, volunteered to lead the effort and already <a href="https://forum.freecad.org/viewtopic.php?style=4&amp;p=685834#p685834" target="_blank" rel="noopener noreferrer">made good progress</a> towards designing a better material editor and replacing the old material cards storage system with human-readable YAML files.</p><p><img loading="lazy" alt="New materials editor" src="/assets/images/new-materials-editor-alpha-380ee9be228aa714739f575845c94782.png" width="852" height="747" class="img_ev3q"></p><p>The first stage of this project is just that: new materials editor UI, new file format for material cards, and over 600 categorized materials. It’s a work in progress, you can see the updated material card UI on the screenshot above. </p><p>The second stage will involve physical properties, relationships between those, and appearance settings.</p><p>After that, work has to be done on finalizing the UI, polishing icons, writing documentation etc.</p><p>There are also a number of considerations to be made, depending on feedback from users and developers. More on that below.</p><p>Once we collect more information, we will analyze it and submit a public proposal in FreeCAD’s issue tracker for everyone to see and comment on. We’ll then do our best to help all interested parties to complete this project. We discussed it with the FPA, and a grant is possible.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-ondsels-interest-in-a-materials-system">What’s Ondsel’s Interest In A Materials System<a href="#whats-ondsels-interest-in-a-materials-system" class="hash-link" aria-label="Direct link to What’s Ondsel’s Interest In A Materials System" title="Direct link to What’s Ondsel’s Interest In A Materials System">​</a></h2><p>There are multiple reasons for Ondsel to be involved with (and lead) this initiative.</p><p>Ondsel’s platform is primarily FreeCAD users, so the better FreeCAD is, the more users it has, the more customers the company gets (and thus the more Ondsel can invest into improving FreeCAD further). So the company needs FreeCAD to be excellent in every aspect. A great materials system is part of that.</p><p>Ondsel is also considering implementation of some features like commercial-grade ray-tracing in the online service that will directly depend on a materials system.</p><p>Thus the company is interested in working with anyone willing to implement a better materials system and support them as much as we can. Dave made an impressive start on revamping the entire system, but he will need help.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-you-can-do">What You Can Do<a href="#what-you-can-do" class="hash-link" aria-label="Direct link to What You Can Do" title="Direct link to What You Can Do">​</a></h2><p>There definitely are ways you can be part of this initiative.</p><p>If you are a user, we are interested to know more about your workflow specifics:</p><ul><li>How do you use materials in FreeCAD or elsewhere?</li><li>What materials-dependent simulations do you run? What material properties do they rely on?</li><li>What type of materials do you deal with on a daily basis? What’s their variety? How often do you add custom materials?</li><li>Are there specific material vendors you deal with? Do they make it easy to access materials data?</li><li>Do you use the Appearance dialog to change the look of parts? How would replacing it with something actually based on materials’ appearance settings affect your workflow? </li><li>What file formats do you import/export that require materials support?</li><li>What are your appearance/texturing requirements for materials?</li><li>What are your sources of material physical properties?</li><li>Would you be more comfortable with a purely offline materials database, an online materials database like <a href="https://materialsproject.org/" target="_blank" rel="noopener noreferrer">Materials Project</a>, or a combination of both?</li></ul><p>If you are a workbench/macro developer, what specific requirements for a materials system does the materials team need to know about? If you are a developer with experience programming materials’ look and feel, please contact Dave.</p><p>We’d love to have you join the <a href="https://forum.freecad.org/viewtopic.php?style=4&amp;t=78242" target="_blank" rel="noopener noreferrer">discussion</a>. If you agree that better materials will help make FreeCAD great and don&#x27;t have any feedback to offer, please consider <a href="https://wiki.freecad.org/Donate" target="_blank" rel="noopener noreferrer">donating to the FPA</a> so that more contributors get support for improving FreeCAD.</p><p>And last but not least, Dave Carter’s initiative to take matters into his own hands is precisely the kind of practical approach to improving FreeCAD that we’d love to see more of. If you are a user who shares this view, please consider donating to FreeCAD Project Association’s <a href="https://fpa.freecad.org/programs/fpadf-announcement" target="_blank" rel="noopener noreferrer">developer fund</a>, so that active contributors getting funding would become the norm.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-1b83d0eb636aea461e45a865d9bacd3e.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/better-github-issues">What does it mean that my GitHub project has 900 open issues?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-30T00:00:00.000Z" itemprop="datePublished">May 30, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/Rebecca-Dodd-profile.JPEG" alt="Rebecca Dodd"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rebecca Dodd</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Discussions about FOSS issue practices often center around getting issue creation right. Have we set contributors up for success with guidelines and issue templates? Are we asking them to look at existing issues for their proposal first? These are bare minimum requirements. </p><p>We act like someone creates an issue and throws it over the wall, after which someone else picks it up to move it forward—all of which hinges on writing a good issue. If the issue goes stale, it wasn&#x27;t a good issue, right?</p><p>But issue creation should be <em>the start of a conversation</em>, and for that, maintainers should be heavily involved in collaborating on issues. <a href="http://danluu.com/discourage-oss/" target="_blank" rel="noopener noreferrer">Stale PRs</a> get a lot of airtime, but issues habitually going stale is just as bad for open source project velocity.  Effective issues—the ones that actually result in meaningful change—invite conversation and encourage action, and maintainers can play more of a role in fostering that type of issue than you might think.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-makes-a-good-issue">What makes a good issue?<a href="#what-makes-a-good-issue" class="hash-link" aria-label="Direct link to What makes a good issue?" title="Direct link to What makes a good issue?">​</a></h2><p><a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">FreeCAD&#x27;s contributing document</a> and <a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md#6-process" target="_blank" rel="noopener noreferrer">process for contributions</a> serve a number of <a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md#1-goals" target="_blank" rel="noopener noreferrer">goals</a>, such as providing transparency and fairness, and enabling faster inclusion of contributions while preserving code quality. We can extrapolate a lot about what makes a good vs bad issue from the <a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md#5-contribution-requirements" target="_blank" rel="noopener noreferrer">Contribution Requirements</a>. </p><table><thead><tr><th>What is a &quot;bad&quot; issue?</th><th>What makes a &quot;good&quot; issue?</th></tr></thead><tbody><tr><td>Raises a suite of problems</td><td>Focuses on one problem to solve</td></tr><tr><td>Focuses on the desired feature or functionality, what it looks like, how it behaves, what options it offers</td><td>Describes the user&#x27;s goal and what is standing in the way</td></tr><tr><td>Tells the developer what to do</td><td>Tells the developer about the problem the submitter is trying to solve (including current workarounds that help devs to understand user intent)</td></tr><tr><td>Requires maintainers to visit external links and read other material to gain context</td><td>Is complete and self contained</td></tr><tr><td>Proposes something that&#x27;s out of scope for the project/doesn&#x27;t seem to fit with roadmap</td><td>Fits naturally into project roadmap and can be justified by it</td></tr></tbody></table><p>Well defined issues are like <a href="https://xkcd.com/356/" target="_blank" rel="noopener noreferrer">Nerd Sniping</a>. They&#x27;re hard to ignore and inspire creative problem solving. We can expect issue authors to at least familiarize themselves with a project&#x27;s contribution guidelines and issue templates and make an effort to provide a complete issue. If an issue isn&#x27;t getting continuous attention though, that&#x27;s a sign that the issue needs improvement.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-role-of-maintainers">The role of maintainers<a href="#the-role-of-maintainers" class="hash-link" aria-label="Direct link to The role of maintainers" title="Direct link to The role of maintainers">​</a></h2><p>Beyond the usual <a href="https://ondsel.com/blog/contribution-barriers/" target="_blank" rel="noopener noreferrer">expectations of maintainers</a> (engage kindly with contributors, respond in a timely manner, give regular updates), we can think about maintainers&#x27; responsibilities in two stages:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="before-an-issue-is-created">Before an issue is created<a href="#before-an-issue-is-created" class="hash-link" aria-label="Direct link to Before an issue is created" title="Direct link to Before an issue is created">​</a></h3><p>The discourse around open source project issues tends to focus on this stage, and the common advice is to provide adequate guidelines and issue templates to help contributors create issues that meet requirements. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="after-an-issue-is-created">After an issue is created<a href="#after-an-issue-is-created" class="hash-link" aria-label="Direct link to After an issue is created" title="Direct link to After an issue is created">​</a></h3><p>Beyond contribution guidelines, maintainers should use automations to streamline the contribution process and encourage momentum. <a href="https://github.com/raycastbot" target="_blank" rel="noopener noreferrer">raycastbot</a> automatically @ mentions contributors who have worked on that specific Raycast extension in the past:</p><p><img loading="lazy" alt="raycastimage" src="/assets/images/image1-60532b1087a5ff053c97730a3db79e08.png" width="1944" height="496" class="img_ev3q"></p><p>VS Code has a host of <a href="https://github.com/microsoft/vscode-github-triage-actions" target="_blank" rel="noopener noreferrer">Issue Triage GitHub Actions</a> that perform housekeeping tasks like <a href="https://github.com/microsoft/vscode-github-triage-actions#stale-closer" target="_blank" rel="noopener noreferrer">closing stale issues</a> or <a href="https://github.com/microsoft/vscode-github-triage-actions#english-please" target="_blank" rel="noopener noreferrer">requesting a translation of issues not written in English</a>.</p><p>These practices can relieve some of the burden on maintainers so they have more time to dedicate to the more impactful, vital part of a maintainer&#x27;s role in issue management:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="proactive-involvement-and-collaboration-on-issues">Proactive involvement and collaboration on issues<a href="#proactive-involvement-and-collaboration-on-issues" class="hash-link" aria-label="Direct link to Proactive involvement and collaboration on issues" title="Direct link to Proactive involvement and collaboration on issues">​</a></h4><p>Even with the above practices in place, sometimes even a well defined issue goes stale. It might represent an extreme edge case or an inconvenience that users have found ways to work around. These issues often get overlooked because they aren’t seen as part of a bigger initiative. Maintainers can help by tagging these issues appropriately and adding them to projects where they form part of a bigger context. </p><p>For example, an issue describing a minor UI tweak might be widely regarded as a good idea and still might be ignored because it’s always judged as less important than something else. But if the same issue is put into a project for general UI improvements, then its relevance and potential impact is more pronounced.</p><p>This is one example of how maintainers can help by making a conscious effort to review and revise issues. Holding regular meetings to walk through and refactor issues can turn non-starter issues into active and actionable discussions, just by:</p><ul><li>Improving the titles to make them more clearly describe the problem to be solved</li><li>Proposing solutions and workarounds</li><li>Requesting clarification from the submitter</li><li>Writing user stories</li><li>Narrowing the scope or splitting the issue into multiple, more manageable ones</li><li>Merging duplicates</li><li>Tagging and labeling</li><li>@ mentioning the right people to get conversation going</li><li>Closing issues that are out of scope or stale</li></ul><p>Some of these actions can be automated as described above, but meeting regularly to review open issues lets you catch ones that have slipped through the cracks.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thinking-beyond-bugs-and-problems-to-solve">Thinking beyond bugs and problems to solve<a href="#thinking-beyond-bugs-and-problems-to-solve" class="hash-link" aria-label="Direct link to Thinking beyond bugs and problems to solve" title="Direct link to Thinking beyond bugs and problems to solve">​</a></h3><p>For maximum effect, the scope of issues should extend beyond new features and problems to solve, to housekeeping and project maintenance.</p><p>FreeCAD&#x27;s issue requirements may be thorough, but there are other aspects of the project that aren&#x27;t managed as well. For example, the project&#x27;s backporting requests are currently managed in a <a href="https://forum.freecad.org/viewtopic.php?t=69437&amp;start=70" target="_blank" rel="noopener noreferrer">forum thread</a>, which isn&#x27;t great for organization or visibility. </p><p>If backporting was managed via issues grouped into a project, we&#x27;d have better visibility into progress and the status of the release as well as the ability to build release notes easily.</p><p>Giving greater status and attention to issues as a primary vehicle through which discussion happens and progress is made also has the effect of bringing forward discussions and debates about value judgments. When these discussions happen early in the cycle, rather than at the PR stage, you&#x27;re more likely to get changes and new developments that align with your roadmap and move your project forward.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-you-can-help">How you can help<a href="#how-you-can-help" class="hash-link" aria-label="Direct link to How you can help" title="Direct link to How you can help">​</a></h2><p>You don&#x27;t have to be a maintainer to be part of the solution. <a href="https://github.com/FreeCAD" target="_blank" rel="noopener noreferrer">FreeCAD</a> is experimenting with GitHub projects and could use a lot of help with organizing the issues in line with <a href="#proactive-involvement-and-collaboration-on-issues">the improvements outlined above</a>. Your contributions are welcome!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-a46e1216bbe647b07953ef21f41ec4b9.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-unpredictable-release-schedule-hurts-users-and-developers">FreeCAD&#x27;s unpredictable release schedule hurts users and developers</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-18T00:00:00.000Z" itemprop="datePublished">May 18, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>There&#x27;s a problem with running development FreeCAD builds for actual work and it&#x27;s going to get uglier soon. Here&#x27;s the deal.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-wrong-with-the-dev-builds">What&#x27;s Wrong With The Dev Builds?<a href="#whats-wrong-with-the-dev-builds" class="hash-link" aria-label="Direct link to What&#x27;s Wrong With The Dev Builds?" title="Direct link to What&#x27;s Wrong With The Dev Builds?">​</a></h2><p>What users want from FreeCAD is a stable, reliable platform that is trustworthy for doing their work. What they also want are various new features and quality-of-life improvements.</p><p>But FreeCAD has a relatively long and unpredictable release cycle — <a href="https://en.wikipedia.org/wiki/FreeCAD#Release_history" target="_blank" rel="noopener noreferrer">typically over a year</a> between major releases, and no one can put a date on a release in advance. This irregular release schedule has historical reasons (“it’s ready when it’s ready”), but also because over the last several years, contributors did a tremendous amount of work that wasn’t split into smaller chunks. And thus there were large gaps between releases when the team ported FreeCAD from Python2 to Python 3, and then from Qt4 to Qt5.</p><p>With the current effort to resolve topological naming, FreeCAD development is moving toward a more incremental approach. Large changes are merged incrementally rather than waiting until the whole thing is done. This should accelerate the pace of development and reduce the time between releases. It also implies that the development branch will experience more instability than it has in the past.
There’s an obvious conflict between the need for stability and the desire for new features. You can get an increasingly reliable platform by sticking with point releases. Or you can get the latest and greatest by using development builds at the risk of experiencing more glitches or even losing your work due to a crash.</p><p>We encourage everyone doing “real work” to use a stable build and avoid the risk, but for people who accept the risk and run dev builds, things are likely to get even worse soon. Once the project releases version 0.21, the next batch of topo-naming issue fixes will start landing to the main development branch. Because of what these fixes do, FreeCAD is expected to <a href="https://github.com/FreeCAD/FreeCAD/issues/8432#issuecomment-1452672655" target="_blank" rel="noopener noreferrer">take a performance hit</a> until optimizations follow at a later stage of development.  Bottom line: the development build is going to get slower for a while.</p><p>In our opinion, this is the perfect time for FreeCAD, as a project, to revisit its release policy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time-based-schedule">Time-Based Schedule<a href="#time-based-schedule" class="hash-link" aria-label="Direct link to Time-Based Schedule" title="Direct link to Time-Based Schedule">​</a></h2><p>The first part of our proposal is for the FreeCAD project to have more frequent and predictable releases. Effectively — a time-based release schedule. This is common for projects with some kind of financial backing for the core team of developers, like <a href="https://code.blender.org/2021/10/blender-3-x-roadmap/" target="_blank" rel="noopener noreferrer">Blender</a>. But it also works for large projects that receive little-to-no funding on a regular basis, like <a href="https://kdenlive.org/" target="_blank" rel="noopener noreferrer">Kdenlive</a> (3 releases a year, following the KDE’s release cycle) and <a href="https://www.darktable.org/" target="_blank" rel="noopener noreferrer">darktable</a> (2 releases a year since 2020).</p><p>How often should FreeCAD be released? So far, the project has been struggling to do annual releases on time. So shooting for 2 releases a year and working from there seems like a good initial goal. There are existing release policies like <a href="https://www.openstack.org/software/roadmap/" target="_blank" rel="noopener noreferrer">the one at OpenStack</a> that <a href="https://www.researchgate.net/publication/316357251_Release_Early_Release_Often_and_Release_on_Time_An_Empirical_Case_Study_of_Release_Management" target="_blank" rel="noopener noreferrer">have been studied</a> and could be learned from.</p><p>Let&#x27;s say we all agree on bi-annual releases. What does it really mean?</p><p><strong>We remove the element of uncertainty for users and developers alike.</strong> Users can plan their upgrades and only use a dev build when they need to test a fix. Contributors can plan ahead and don&#x27;t need to jeopardize their non-FreeCAD commitments.</p><p><strong>Much shorter development cycle.</strong> This means more focused releases and less urge to include incomplete work, because the next window for merging will open very soon. This also means a much less exhausting period of work for testers and translators.</p><p>Especially in the latter case, contributors are typically expected to either follow development closely and update translations all the time or work like madmen during the strings freeze period because there&#x27;s just so much work to do. Volunteered work should really be more manageable.</p><p><strong>More frequent point releases.</strong> Once the release schedule is set, users will start counting on point releases happening regularly too (see below on another reason for that).</p><p><strong>More focus on building infrastructure and automation.</strong> A time-based release schedule is going to require a more rigorous release process and a higher level of automation. Only a very small part of the C++ code is covered by unit tests at the moment, this really needs to change. And there is always, <em>always</em> more work to be done on Conda builds. All that means more DevOps work.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-backports">Feature Backports<a href="#feature-backports" class="hash-link" aria-label="Direct link to Feature Backports" title="Direct link to Feature Backports">​</a></h2><p>The FreeCAD team already backports bug fixes and security patches from the master branch to the release branch. But we could be doing more. We could be backporting some features and improvements to point releases too. Projects like <a href="https://www.gimp.org/news/2019/01/02/gimp-and-gegl-in-2018/#version-210-release-and-point-releases" target="_blank" rel="noopener noreferrer">GIMP</a> and Scribus have been doing this for years now because they have release cycles even longer than those of FreeCAD. For them, it helps keeping users engaged, but it still means that larger, much desired changes take a very long time to show up in a stable release, and that’s the part we would rather avoid.</p><p>This wouldn&#x27;t render major releases pointless (pun intended). We are thinking primarily of changes that are typically safe and not too time-consuming to backport. If a new feature, however small, comes with an architectural change (API change, file format change etc.), it’s a no-go. But quick UX fixes and other quality-of-life improvements are often possible.</p><p>One way to simplify the process of making this decision is to add a checkbox to the pull request template: “Backportable patch”. The maintainer who does the merge then would see that the PR is supposed to be backportable, check the patch against the backporting criteria, and attempt to cherry-pick the commit(s). Naturally, this implies that the developer who submitted a patch explored how far their change goes and understands whether the fix or the feature can easily be ported to the release branch.</p><p>The net outcome is that users would have even less reasons to keep using development builds and risk their work.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s Next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next" title="Direct link to What&#x27;s Next">​</a></h2><p>So what are the actionable things for contributors to do?
First of all, we need to make the release process more regular.  Documenting the major and point release processes in the Developer Handbook should be a priority.  The current 0.20.3 and 0.21 releases are an excellent opportunity to do this.  </p><p>More conversation is needed about an appropriate release cadence.  Releases that are too frequent will distract from developing new features. Infrequent releases, as we have seen, will push users to the development builds. The goal should be to strike a proper balance between them and increase the value of the stable release with frequent maintenance releases. </p><p>Our suggestion is to make major releases twice a year and point releases depending on the amount and severity of bugs we fix. As long as fixes come in small batches and aren’t fixing anything really bad, we can release them on a monthly basis. A fix for a severe bug like data loss would definitely call for an immediate release.</p><p>We also need to define a general timeframe within each release cycle: when we open the main development branch for new features, when we do a feature freeze, when we do a strings freeze, etc.</p><p>Beyond that, we will also need to revisit our patch inclusion policy to match a much shorter release cycle. This policy would also have to be updated for feature/improvement backports, which means we need criteria of what constitutes an easily portable change.</p><p>To discuss all these things, we created a <a href="https://github.com/orgs/Ondsel-Development/discussions/4" target="_blank" rel="noopener noreferrer">discussion topic</a> on GitHub and invite you to provide your input.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-285754d3e1c85a5d4778ab43cc447a03.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-approach-to-software-development-needs-to-change">FreeCAD’s Approach to Software Development Needs to Change</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-02T00:00:00.000Z" itemprop="datePublished">May 2, 2023</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Historically, the development process in the FreeCAD community has been entirely volunteer-driven. This approach served the community amazingly well — up to a point. We got a very capable 3D CA* program out of it, but as the project grew, it became harder and harder to make significant changes. </p><p>Case in point: the entire toponaming fix is going to span two major releases (0.21 and 1.0). Why? It involves patching a lot of code and writing a lot of unit tests. It also requires knowing the internals of FreeCAD very well and communicating well with lots of people. It takes a particular kind of mind to sit quietly for weeks on end and hack on a boring architectural fix. </p><p>Similarly, improving UX/UI requires specific hands-on experience, as well as ability to cooperate. Fixing one task panel or layout is easy.  Making the whole application feel consistent and polished is quite another. And developing a default assembly workbench implies not only being great at many things at once (math, data structure design, UX/UI), but also encouraging a consensus among multiple stakeholders.  Doing your own thing is infinitely easier.</p><p>Many developers, especially volunteers, join FOSS projects for fun, to learn something new, and to improve their skills.  These people play an incredibly important and central role in FreeCAD’s future.  Sadly, being an individual contributor has become less fun and harder for these same reasons. </p><p>The project is at an inflection point where the old way of working is stifling improvement and new methods are needed. The project is also large and mature enough to attract professional development. Ondsel is only the first company to do so, we have no doubts that more will follow.
What’s needed now is an approach to software development that lets commercial partners add value quickly but still lets individuals make significant contributions, influence the overall direction, and most importantly, have fun. </p><p>As a commercial company with paid developers, we have the opportunity to encourage a different way of working. We see five areas where the project has outgrown its historical development approach.  These are all areas that formally served FreeCAD well but are now holding it back.</p><ol><li><p>Project has historically had no roadmap. We introduced a global roadmap and have our own plan.</p></li><li><p>Project works in features. We&#x27;re beginning to work in the CI methodology.</p></li><li><p>Project drives from pull requests. We drive from issues.</p></li><li><p>Project discusses important topics on the forum. We are using our blog and our GitHub tools to communicate and seek feedback.</p></li><li><p>The project community is mostly individual developers working independently. We work collaboratively and integrate multiple skill sets.</p></li></ol><p>Some of these changes are already finding their way into the upstream project, others will hopefully be adopted by the larger FreeCAD community too. We hope these changes not only speed up the pace of development but also make it easier for volunteers to contribute effectively.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">​</a></h2><p>As a commercial partner, Ondsel isn’t focused only on the short term features and bugfixes.  We’ve also got our eyes on the long-term vision. We started by stepping back and looking at the big picture. What are the fundamental limitations that are holding FreeCAD back from widespread adoption?</p><p>We strongly believe that working off a roadmap will help the entire community to focus on important things and make faster progress by planning features and setting priorities. So we proposed a <a href="https://freecad.github.io/DevelopersHandbook/roadmap/" target="_blank" rel="noopener noreferrer">roadmap</a> for the core project that covers major topics that are universally acknowledged: model stability, integrated assembly workbench, better UX/UI and streamlined workflow, easier extensibility, better documentation etc.</p><p>Some of those items will be picked by volunteers For others, a team like Ondsel will have a better shot at completing a particularly sophisticated task.  In the latter case, we can communicate our proposal to the broader community and solicit input from users and contributors to shape the plan.</p><p>To that end, we are encouraging the use of <a href="https://github.com/orgs/FreeCAD/projects" target="_blank" rel="noopener noreferrer">Projects</a> functionality on GitHub to keep track of the progress on larger issues that are part of that roadmap.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-integration">Continuous Integration<a href="#continuous-integration" class="hash-link" aria-label="Direct link to Continuous Integration" title="Direct link to Continuous Integration">​</a></h2><p>The project typically moves forward one feature at a time. A developer gets an ‘itch’ that they’d like to scratch and works on a feature until it’s complete. They do this work in a dedicated feature branch and then submit a PR to merge the feature branch. There’s two problems with this.</p><p>First, this approach doesn’t work for features or fixes that imply either cooperation of many volunteers or a long solo effort by one contributor. Especially in the latter case, there’s a huge risk that work will be abandoned before it’s completed.</p><p>Secondly, complex features and large changes result in massive pull requests that must be evaluated. Going over commits in a large branch can take a long time. Meanwhile, those feature branches must be continuously rebased until they are accepted and merged. All this means extra work for both the project maintainers and contributors. The FreeCAD community has grown to accept this reality as the normal state of affairs, “it’s done when it’s done”. The outcome of this, however, is that contributors burn out and release cycles grow longer, from an average of 200 days to almost 550 days.</p><p><img loading="lazy" alt="Days between FreeCAD releases" src="/assets/images/days-between-freecad-releases-chart-2b688cb10de35cf5cc24a67e5a5f8ca5.png" width="1022" height="637" class="img_ev3q"></p><p>A better approach is to work in a continuous integration methodology. We can break up large features into many small, atomic commits that don’t break the master build. We can send pull requests for each of them allowing the work to be merged until the final feature is enabled. This will make the entire process far more manageable, which is especially important for modules where maintainers are volunteers. Here at Ondsel, we have already switched to this methodology as part of the work on fixing the toponaming issue.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="driving-from-issues">Driving from Issues<a href="#driving-from-issues" class="hash-link" aria-label="Direct link to Driving from Issues" title="Direct link to Driving from Issues">​</a></h2><p>Ondsel has been working with the FreeCAD developer community and the FPA to formalize the contribution process. The <a href="https://freecad.github.io/DevelopersHandbook/" target="_blank" rel="noopener noreferrer">Developers Guide</a> is one of the outcomes of that. </p><p>Unfortunately, many contributions are still received as PRs that have had no prior discussion. The way it usually works is that someone finds a bug or identifies a missing feature and sends a PR to fix the bug or add the feature. This may be the first time ever that the community has heard of it.</p><p>Out-of-the-blue patches like that can cause problems: </p><ul><li>The community agrees that the problem exists but disagrees about the solution.</li><li>Sometimes a lengthy debate ensues, whether the feature should be accepted at all, whether the assumed bug is actually a feature etc. </li><li>Sometimes a valid solution needs to be implemented elsewhere in the application but the contributor isn’t interested in doing that work because it doesn’t affect them personally.</li></ul><p>There are ways to manage development communication better.</p><p>Ondsel will drive from issues. We’ll submit issues for discussion ahead of time to verify that the bug or feature is legitimate. We can use the input provided by users and other contributors to figure out the best way to achieve the goal before we do the actual work. Then when the PR is finally submitted, the only remaining discussion should be about the quality of the code. We believe this will eliminate some conflict as well as late-stage user feedback, result in less patches sitting in the limbo and half cooked features, and let the entire upstream project move forward even faster.</p><p>We already started doing so, one example is a proposal for making assembly workbenches <a href="https://github.com/FreeCAD/FreeCAD/issues/9278" target="_blank" rel="noopener noreferrer">compatible</a> on the data structure level.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="moving-important-conversations-off-the-forum">Moving important conversations off the forum<a href="#moving-important-conversations-off-the-forum" class="hash-link" aria-label="Direct link to Moving important conversations off the forum" title="Direct link to Moving important conversations off the forum">​</a></h2><p>The FreeCAD forum has long been the center of the FreeCAD ecosystem. It is where development discussion has happened side-by-side with user support, general community discussion, and work coordination for translation, wiki, etc. As the project has grown, we’ve started to outgrow the forum, and communication has become less productive.</p><p>First, the amount of traffic means many important topics get lost. A topic about a bug can rapidly grow to multiple pages and dozens of replies. The conversation often gets off-topic, so it becomes impossible to keep up.</p><p>The same topics can get discussed many times in unrelated threads and multiple languages. Useful and important information becomes difficult to extract, and decisions never get recorded or followed up on.  Most troubling for a software project, the discussion never gets linked to the source code or a pull request discussion.</p><p>The forum still serves an important role but it is less and less effective for technical discussions about the source code and related topics. We think the project should embrace a wide set of communication tools that are each appropriate to the type of conversation needed.  Video meetings via Zoom and Jitsi are great for making plans. Real-time chats via Telegram, Gitter, Matrix, and Discord are great for working collaboratively on technical issues. </p><p>We encourage the project to keep technical discussion as close to the source code as possible. GitHub issues and pull requests allow a richer conversation in context with the source itself. Using labels and projects keeps conversations relevant and organized. This should help eliminate duplicate discussions and make useful input from users and contributors easy to locate and analyze.</p><p>Additionally, we use this blog for sharing ideas that are too broad for issues and pull requests but could serve as a reference on GitHub. The blog lets us take the conversation “up a level” and reflect on topics that deserve more time to consider.  We mostly rely on the traditional “problem statement -&gt; research -&gt; analysis -&gt; proposal” approach.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="collaboration">Collaboration<a href="#collaboration" class="hash-link" aria-label="Direct link to Collaboration" title="Direct link to Collaboration">​</a></h2><p>Most FreeCAD contributors work independently. From time to time, they coordinate their efforts and work together to achieve a larger goal. This requires agreeing on a number of things: what work should be done exactly, who will do which part of it, what time frame for completion should be set etc. This is hard to do as there is little infrastructure or established processes for team work.</p><p>Ondsel engineers can work together in a more organized manner. We can set priorities and goals that are consistent with FreeCAD direction and also work with Ondsel’s product strategy. We can include outside experts and volunteer developers when required.</p><p>We think this kind of collaboration is the most important thing because it flows from doing all the other things better.  By planning, communicating, and working in small discrete steps we can share the burden and collectively move much faster.  We also avoid relying on <a href="https://en.wikipedia.org/wiki/Bus_factor" target="_blank" rel="noopener noreferrer">one or two people with special skills to keep the project afloat.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-conclusion">In Conclusion<a href="#in-conclusion" class="hash-link" aria-label="Direct link to In Conclusion" title="Direct link to In Conclusion">​</a></h2><p>Since much of the work we do directly affects the upstream FreeCAD project, we expect that the proposed work methodology changes — planning the work, atomizing large changes, and keeping discussions structured — will result in a more streamlined development process overall. </p><p>It is our hope that at least some of these changes will prove to be efficient and will eventually become the standard for the larger FreeCAD community.</p><p>As we flesh out the details of new work processes, we will document them in <a href="https://ondsel.com/docs/handbook/" target="_blank" rel="noopener noreferrer">Ondsel’s own developers’ handbook</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-118bcd3293142ab44385468a3bf6194d.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/CAD-in-the-multiverse">In the metaverse nobody uses CAD for design</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-21T00:00:00.000Z" itemprop="datePublished">April 21, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/Rebecca-Dodd-profile.JPEG" alt="Rebecca Dodd"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rebecca Dodd</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Summary/meta: We already have great tools for design. Where VR can really shine is in creating environments to experience those designs in context. </p><p>VR CAD is usually portrayed like Tony Stark designing Iron Man suits, putting the emphasis on VR as an evolution of design tools. This is Hollywood stupid. VR design/UI isn&#x27;t mature enough for that. Instead, we should be thinking about VR as a sharing environment where a designer can demonstrate a model in context. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vr-for-design-is-a-long-way-from-being-useful">VR for design is a long way from being useful<a href="#vr-for-design-is-a-long-way-from-being-useful" class="hash-link" aria-label="Direct link to VR for design is a long way from being useful" title="Direct link to VR for design is a long way from being useful">​</a></h2><p>The current discourse around VR and CAD potential focuses too much on using VR for design: gamifying the experience and building things with goggles on. Design takes time—sometimes a LOT of it. Wearing VR gear for any period of time gets uncomfortable quickly and is both physically and mentally fatiguing. </p><p>We do however have existing tools and applications for design work that already work well (and have decades of investment and optimization to leverage). Our keyboards, mouses, and monitors are still the best tools for this job and still have their place. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-real-opportunity-experiencing-design-in-the-metaverse">The real opportunity: Experiencing design in the metaverse<a href="#the-real-opportunity-experiencing-design-in-the-metaverse" class="hash-link" aria-label="Direct link to The real opportunity: Experiencing design in the metaverse" title="Direct link to The real opportunity: Experiencing design in the metaverse">​</a></h2><p>By getting swept up in ideas about moving to VR for design work, we risk overlooking the more realistic, near-term potential of VR: creating an environment to experience a design in context.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="beyond-visual-twins">Beyond visual twins<a href="#beyond-visual-twins" class="hash-link" aria-label="Direct link to Beyond visual twins" title="Direct link to Beyond visual twins">​</a></h3><p>A digital twin is a virtual copy of something physical: an environment, system, asset, or process. It’s also dynamic, connecting real-world data to the twin, to help not just with visualization but with understanding and forecasting how the real thing will interact with its environment. For example:</p><blockquote><p>“Leaning on Omniverse, Ericsson created a digital twin of an entire city to determine the optimal deployment for their 5G rollout, using Omniverse to judiciously select and configure sites to maximize coverage and signal quality with minimal cost and complexity. To do so, Ericsson’s digital twin city tracks the physical world, with buildings and foliage 100% accurate, down to their surface materials and texture. In that world, Ericsson can accurately assess signal quality at any point in the city with a given deployment. And re-working sites— either upfront or at a later date for upgrade—can easily reveal how the coverage would improve (or not) in real time.” — Alex Herrera, <a href="https://www.cadalyst.com/collaboration/digital-twin/metaverse-separating-wheat-chaff-cad-perspective-78906" target="_blank" rel="noopener noreferrer">The Metaverse: Separating the Wheat from the Chaff, from a CAD Perspective</a></p></blockquote><p>So far though, the concept of digital twins tends to be limited to what we see, but with VR and AR (augmented reality) there’s great potential to take the concept of a digital twin beyond the visual. </p><blockquote><p>“What I&#x27;ve always been interested in is this idea of, how do we experience more of the things we&#x27;re designing when it&#x27;s on the other side of the glass? … What I long for is, for example, taking the many facets of a design and being able to see them work together … we should be able to take an object and, for example, turn it on. And we should see lights flash and you press a button and you understand how it operates. You should hear what it sounds like. … If I was a designer, I want to really understand the scale and proportion. I want to understand what it feels like, I want to see what happens as I interact with it. So these products that we design and make are so much richer.” — <a href="https://cesium.com/open-metaverse-podcast/cad-and-the-metaverse/" target="_blank" rel="noopener noreferrer">Carl Bass, former President and CEO of Autodesk</a></p></blockquote><p>Where VR and AR really shine is in providing <em>context</em> for what the user is experiencing when previewing or interacting with a design. The obvious use case is architecture, where you would be able to walk through a design in scale:</p><p><img loading="lazy" alt="Tweet: Pascal Bornet" src="/assets/images/image1-1c08d74d1c791e3eb089f6ed63cdd07f.png" width="1210" height="1460" class="img_ev3q"></p><p>The same is true for other physical designs. You could show how a part fits into a model (think about an exhaust system under a car). </p><p>You don’t just see the thing, you see the thing <em>in context</em>. You hear ambient sound, feel immersed, and can even interact with other people in a shared context. This is an ideal environment for discussing physical designs. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="immersive-remote-collaboration">Immersive remote collaboration<a href="#immersive-remote-collaboration" class="hash-link" aria-label="Direct link to Immersive remote collaboration" title="Direct link to Immersive remote collaboration">​</a></h3><p>There’s also an obvious use case in enabling the people working on such designs to collaborate remotely with one another in a shared context. Site visits and to get stakeholders in the same room to look at a prototype, while still useful, would no longer be necessary. </p><p>This benefit extends beyond design though, to any remote collaboration. Imagine a FreeCAD HQ room in VR, for contributors to meet, have <a href="https://forum.freecad.org/" target="_blank" rel="noopener noreferrer">discussions</a>, and make plans in real time. Whiteboards and issue boards on the walls would add context to those meetings in a way that is otherwise hard to recreate with remote meetings. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-3d-designs-more-accessible">Making 3D designs more accessible<a href="#making-3d-designs-more-accessible" class="hash-link" aria-label="Direct link to Making 3D designs more accessible" title="Direct link to Making 3D designs more accessible">​</a></h2><p>3D designs are like the source code of the design world: read much more than they are written. While source code is mostly read by programmers and compilers though, 3D designs are read by many different people across many roles… and other systems. Because 3D designs need to be read by so many, the long-term opportunity here is to make them more accessible by enabling people to experience them from anywhere, <em>in</em> context, and <em>outside</em> of a dedicated application. </p><p>If done well, the user experiencing the context doesn’t need to understand the controls of the software. They can look behind them by moving their head. They get an intuitive sense of scale because it’s related to their own bodies. The design becomes more useful by enabling people to access and experience it easily, in a range of different contexts. </p><p>This is another area of rapid innovation and Ondsel doesn’t have all the answers. What we want to do is enable the community of FreeCAD users to explore these ideas—o find new ways to collaborate, create, and share their designs with each other.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-b3ec42aea1e279302a096a83bfed28bb.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/ondsel-100-days">Ondsel at 100...Days</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-14T00:00:00.000Z" itemprop="datePublished">April 14, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="100-days">100 Days<a href="#100-days" class="hash-link" aria-label="Direct link to 100 Days" title="Direct link to 100 Days">​</a></h2><p>It’s hard to believe that it’s been just over three months since Ondsel started operations.  One hundred days, in fact.  I thought it would be fun to take a moment and consider what we’ve been able to accomplish in that time.</p><p>First, we built a team.  Besides myself, Ondsel now has five people working on the future of FreeCAD.  We were able to recruit, interview, hire, equip, and onboard five exceptionally talented people who hit the ground running and started contributing to FreeCAD.</p><p>We attended FOSDEM in Brussels in February where we got to meet with <a href="https://fpa.freecad.org/" target="_blank" rel="noopener noreferrer">project leaders</a>.  We heard from many users who both love FreeCAD but are frustrated with the lack of progress on some big problems.  We learned a ton and we were able to build consensus on a path forward.</p><p>From that, we laid out a plan for finally resolving the topo-naming problem.  One of our people, <a href="https://twitter.com/JohnDupuyCOMO" target="_blank" rel="noopener noreferrer">@JohnDupuyCOMO</a> refined <a href="https://github.com/FreeCAD/FreeCAD/issues/8432" target="_blank" rel="noopener noreferrer">the plan</a> to incorporate <a href="https://twitter.com/RealThunder12" target="_blank" rel="noopener noreferrer">RealThunder</a>’s algorithm, and the developer community not only accepted it but started working with blazing speed to accomplish it.  The first phase was completed in only a couple of weeks.  Now we’ve started phase two.</p><p>We started building the Ondsel brand.  We got a logo designed, put up a <a href="https://ondsel.com/" target="_blank" rel="noopener noreferrer">website</a>, and established accounts on <a href="https://twitter.com/ondsel" target="_blank" rel="noopener noreferrer">Twitter</a>, <a href="https://www.facebook.com/ondsel" target="_blank" rel="noopener noreferrer">Facebook</a>, <a href="https://www.linkedin.com/company/ondsel/" target="_blank" rel="noopener noreferrer">LinkedIn</a>, and other platforms.  We’ve taken our Twitter following from zero to almost two hundred followers.</p><p>We built relationships with some outstanding creators including <a href="https://twitter.com/Basement_Office" target="_blank" rel="noopener noreferrer">Rebecca Dodd</a> and <a href="https://twitter.com/lgworld" target="_blank" rel="noopener noreferrer">Alexandre Prokoudine</a> who are helping to create our blog content and communicate our vision.  </p><p>We worked with <a href="https://reedydesigns.com/" target="_blank" rel="noopener noreferrer">Reedy Designs</a> and to reskin the website in just over a week.</p><p>We initiated the <a href="https://fpa.freecad.org/handbook/" target="_blank" rel="noopener noreferrer">FPA Handbook</a> and contributed content to it.</p><p>We initiated the new<a href="https://freecad.github.io/DevelopersHandbook/" target="_blank" rel="noopener noreferrer"> Developer’s Handbook</a> and are continuing to add new content to it as well.</p><p>We started our own <a href="https://ondsel.com/docs/handbook" target="_blank" rel="noopener noreferrer">handbook</a> which will be an indispensable part of our company culture.</p><p>We published more than a dozen blog posts including a seven-part series on Assembly.</p><p>Our Assembly series started a <a href="https://forum.freecad.org/viewtopic.php?t=76799" target="_blank" rel="noopener noreferrer">community-wide discussion</a> about an integrated assembly workbench — a much-needed core capability of FreeCAD.  The discussion has had more than fifteen thousand views and hundreds of comments.  We got some great insights that helped us shape the vision for this feature.</p><p>Another of our developers <a href="https://twitter.com/ajinkyapdahale" target="_blank" rel="noopener noreferrer">@ajinkyadahale</a> <a href="https://github.com/FreeCAD/FreeCAD/pull/8530" target="_blank" rel="noopener noreferrer">completed</a> our contract to <a href="https://forum.freecad.org/viewtopic.php?t=75950" target="_blank" rel="noopener noreferrer">improve spline construction</a> in sketdcher for the <a href="https://floss.social/@opentoolchain" target="_blank" rel="noopener noreferrer">Open Tool Chain Foundation</a>.</p><p>Yet another of our developers <a href="https://twitter.com/amrit3701" target="_blank" rel="noopener noreferrer">@amrit3701</a> has been building the infrastructure to support our eventual product — a subject you will hear much more about in the coming months.</p><p>We got eight pull requests merged into the FreeCAD master branch, including PRs for topo-naming and many quality-of-life improvements by <a href="https://twitter.com/pierrelouisboy" target="_blank" rel="noopener noreferrer">@pierrelouisboy</a>: <a href="https://github.com/FreeCAD/FreeCAD/pull/9173" target="_blank" rel="noopener noreferrer">9173</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9172" target="_blank" rel="noopener noreferrer">9172</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9143" target="_blank" rel="noopener noreferrer">9143</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9117" target="_blank" rel="noopener noreferrer">9117</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9080" target="_blank" rel="noopener noreferrer">9080</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9026" target="_blank" rel="noopener noreferrer">9026</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/9010" target="_blank" rel="noopener noreferrer">9010</a>, <a href="https://github.com/FreeCAD/FreeCAD/pull/8990" target="_blank" rel="noopener noreferrer">8990</a>.</p><p>We did all that in one-hundred days and I’m sure I’m missing many more things we did along the way.</p><p>I’m incredibly grateful, humbled, proud and excited.  I’m grateful for the support of our investors <a href="https://twitter.com/OpenCoreVenture" target="_blank" rel="noopener noreferrer">Open Core Ventures</a> and <a href="https://twitter.com/sytses" target="_blank" rel="noopener noreferrer">Sid Sijbrandij</a>.  I’m humbled by the support of the <a href="https://twitter.com/freecadnews" target="_blank" rel="noopener noreferrer">FreeCAD community </a>and leadership.  I’m proud of the stellar work of our people and partners.  </p><p>I hope you follow us because I’m excited to see what we can do when we REALLY get rolling!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ondsel">ondsel</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-268046dacab91c08f60ad70ae0045ce3.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/default-assembly-workbench-7">Assembly Workbench: What We Learned and What&#x27;s Coming Next</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-10T00:00:00.000Z" itemprop="datePublished">April 10, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We started this series with the <a href="https://ondsel.com/blog/default-assembly-workbench-1" target="_blank" rel="noopener noreferrer">assumption</a> that there is a strong community demand for a default assembly workbench in FreeCAD. The community discussion that followed that article confirmed our belief. We then researched existing options — <a href="https://ondsel.com/blog/default-assembly-workbench-2" target="_blank" rel="noopener noreferrer">Assembly 2</a>, <a href="https://ondsel.com/blog/default-assembly-workbench-3" target="_blank" rel="noopener noreferrer">A2plus</a>, <a href="https://ondsel.com/blog/default-assembly-workbench-4" target="_blank" rel="noopener noreferrer">Assembly 3</a>, and <a href="https://ondsel.com/blog/default-assembly-workbench-5" target="_blank" rel="noopener noreferrer">Assembly 4</a> — and even quickly studied <a href="https://ondsel.com/blog/default-assembly-workbench-6" target="_blank" rel="noopener noreferrer">related workbenches and macros</a>.</p><p>Our research had a number of limitations though. We avoided exploring the earliest solutions such as the <a href="https://forum.freecad.org/viewtopic.php?t=3828" target="_blank" rel="noopener noreferrer">original workbench</a> by Jürgen Riegel and <a href="https://forum.freecad.org/viewtopic.php?t=1523" target="_blank" rel="noopener noreferrer">FreeGCS</a> because they were incomplete. We also decided against studying both <a href="https://github.com/JMG1/ExplodedAssembly" target="_blank" rel="noopener noreferrer">Exploded Assembly</a> and <a href="https://github.com/microelly2/Animation" target="_blank" rel="noopener noreferrer">Animation</a> workbenches because this type of feature deserves dedicated attention.</p><p>From this research and the discussion that followed, we came away with a handful of important takeaways. We suggest that these ideas should influence the direction of the FreeCAD project.</p><p>In this article, we’ll describe what we learned. We’ve taken the liberty of making some specific recommendations for a way forward and we also discuss what we believe is Ondsel’s role.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-insights">Key Insights<a href="#key-insights" class="hash-link" aria-label="Direct link to Key Insights" title="Direct link to Key Insights">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-long-term-vision">The Long-Term Vision<a href="#the-long-term-vision" class="hash-link" aria-label="Direct link to The Long-Term Vision" title="Direct link to The Long-Term Vision">​</a></h3><p>We started this conversation by calling for a solution that covers 80% of use cases. Based on our research and community feedback, we conclude that there is strong consensus around the higher-level characteristics of this integrated assembly workbench:</p><ul><li>Both top-down and bottom-up approaches equally first-class citizens</li><li>Simple enough to make quick alignments, but powerful enough for complex projects with nested sub-assemblies</li><li>Ability to resolve assembly constraints automatically and eventually simulate multi-body dynamics</li><li>An easy way to animate the assembly and detect collisions</li><li>Built-in BOM generation</li><li>PDM-ready</li><li>Compatible with other parts of FreeCAD and alternative assembly workbenches</li><li>Same license as FreeCAD (LGPL v2.1)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-need-for-a-common-data-structure">The Need for a Common Data Structure<a href="#the-need-for-a-common-data-structure" class="hash-link" aria-label="Direct link to The Need for a Common Data Structure" title="Direct link to The Need for a Common Data Structure">​</a></h3><p>The existing assembly workbenches for FreeCAD are not mutually compatible. It isn’t possible for a user to switch between the options without losing data. This kind of compatibility is important and it starts with the data structure. Early in the forum discussion, Zolko noted the need for a standard, and we think he’s exactly right:</p><blockquote><p>…what we need is a default assembly DATA FORMAT that every assembly workbench can use. You can design solids in Part and PartDesign workbenches, where you begin with one, continue with the other, use Draft en-passant, and finish with some Part Booleans. You can even mix this with Curved Shape surfaces, Sheet Metal bending, and they all COOPERATE! Why should it be different for assemblies? What IS needed is to say: to be called a FreeCAD assembly workbench it needs to use the following data structure <!-- -->[…]<!-- --> and then let people implement the best approaches for that.</p></blockquote><p>We see the development of the common data structure as a priority requirement for an integrated solution. Users should be able to move between existing workbenches or migrate to newer ones without redoing an entire project.</p><p>A standardized data structure would also simplify developing in-house niche solutions where you need to run some extra simulations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-we-should-talk-about-solvers-separately">Why We Should Talk About Solvers Separately<a href="#why-we-should-talk-about-solvers-separately" class="hash-link" aria-label="Direct link to Why We Should Talk About Solvers Separately" title="Direct link to Why We Should Talk About Solvers Separately">​</a></h3><p>Past discussions about an assembly workbench have lumped the solver and the workbench into the same conversation. Separating the discussion has been helpful since these are, in fact, very different things. It is the solver which has been the most controversial part of previous discussions. Assembly 4 and Manipulator workbenches have demonstrated that, at least for some use cases, a solver isn’t even needed at all.</p><p>Among those who emphasize the need for a solver, agreement about requirements has been hard to find. The real world is messy and complex and full of unique problems that require custom solutions. One solver cannot possibly handle the variety of use cases that exist (think combined mechanical-thermal-electromagnetic simulations).</p><p>Some problems can be handled by 2D solvers, and we have some very nice options, including the one in the Sketcher workbench. </p><p>Other problems <em>require</em> a capable 3D solver and if we want FreeCAD to be competitive, it needs one. Unfortunately, we currently have no options at all. SolveSpace comes closest but its licensing (GPL v3+) makes it an unlikely choice for FreeCAD (LGPL v2.1). The development of solvers, both open and proprietary, is an area of rapid innovation. We have no way of knowing what will be available even five years from now.</p><p>Our insight is that the future integrated assembly workbench should have the following three essential characteristics with respect to a solver:</p><ul><li>Minimally functional and easy-to-use without any solver at all</li><li>Capable of using a solver if one exists</li><li>Solver-agnostic, with a possibility to use new solvers in the future</li></ul><p>Building the assembly workbench to be solver-independent provides the greatest flexibility for the project as a whole, users, and partners like Ondsel. It also provides the most options in the future.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-people-are-passionate-about-existing-solutions">Why People are Passionate About Existing Solutions<a href="#why-people-are-passionate-about-existing-solutions" class="hash-link" aria-label="Direct link to Why People are Passionate About Existing Solutions" title="Direct link to Why People are Passionate About Existing Solutions">​</a></h3><p>From past experience, we understood that this discussion might get emotional at times. Users are very passionate about the existing options. What we noticed was that their passion stems from two sources.</p><p><strong>Investment in climbing the learning curve.</strong> With three actively developed assembly workbenches today, users first have to learn enough to make a choice. Having made that choice, they don’t want to revisit it. Some users refuse to invest in even making the choice. They give up and move on. Here are a few examples from discussions about our initial proposal:</p><ul><li>“As a fairly new freeCAD user I have spent an innumerable amount of time attempting to choose which assembly workbench to use and more importantly learn how to use” (<a href="https://forum.freecad.org/viewtopic.php?p=667457&amp;sid=3bec9fb58279fa4feba78c322c3c6b43#p667457" target="_blank" rel="noopener noreferrer">FC forum</a>)</li><li>“I tried switching to FreeCAD a couple of years ago and the plethora of conflicting assembly solutions prevented me from doing so” (<a href="https://forum.freecad.org/viewtopic.php?p=669635#p669635" target="_blank" rel="noopener noreferrer">FC forum</a>)</li><li>“I haven’t explored any of the assembly benches as there is a big curve to even selecting one of them” (<a href="https://www.reddit.com/r/FreeCAD/comments/11r9j78/comment/jcajyiq/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3" target="_blank" rel="noopener noreferrer">Reddit</a>)</li><li>“It&#x27;s painful to train anyone if there are four different assembly plugins and they all work slightly or drastically different” (<a href="https://www.reddit.com/r/FreeCAD/comments/11r9j78/comment/jc9j3tu/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3" target="_blank" rel="noopener noreferrer">Reddit</a>)</li></ul><p>Users who made a choice also made a significant investment to become proficient, because they saw the benefits of the tool they use. As a result, they often have little or no knowledge of the other options and no interest in learning if the current option meets their needs. At the risk of oversimplifying:</p><ul><li>A2plus users think it has a simple, natural, and straightforward workflow</li><li>A3 users think it’s the most feature-complete workbench of all</li><li>A4 users like how robust the LCS-based workflow is</li></ul><p><strong>Investment in their current models and assemblies.</strong> Users also have a large collection of projects that are built using one particular workbench. They are naturally reluctant to switch solutions if it means losing or redoing that work from scratch. Basically, they made a huge investment in their assembly WB of choice, and because of the lack of compatibility, they are now in an unintended vendor lock-in situation.</p><p><strong>What about features?</strong> Surprisingly, one thing we didn’t hear much was users championing one solution or another because it offered specific features. While the different solutions had strengths and weaknesses, all of the options offer similar capabilities.</p><p>Our key insight is that protecting the investment users have made is extremely important. Change will be hard, but we believe users will be willing to adopt an integrated solution if it is robust, relatively easy to learn, well documented, and if existing models can be migrated to it with minimal rework. They shouldn’t be forced to make the change before they are ready or before an integrated solution is mature enough for their needs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-about-the-workflow-and-uxui">What About the Workflow and UX/UI?<a href="#what-about-the-workflow-and-uxui" class="hash-link" aria-label="Direct link to What About the Workflow and UX/UI?" title="Direct link to What About the Workflow and UX/UI?">​</a></h3><p>Once solvers and data format are removed from the discussion, what’s left to discuss is the workflow. Regardless of how passionate the users are, the reality is that none of the existing assembly workbenches has a perfect workflow or user interface:</p><ul><li>A2plus requires conversion of parts created with other WBs.</li><li>A3 has so many constraint types that even experienced users get confused.</li><li>A4 requires time to set up local coordinate systems for all features that should be attached.</li></ul><p>There are ideas to borrow from all of them, but we don’t consider the workflow and UX/UI of any of the existing options, in their present form, to meet the long-term goals. Assembly 4, by virtue of its simplicity and solid design, would be a good starting point.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="integrated-assembly-workbench">Integrated Assembly Workbench<a href="#integrated-assembly-workbench" class="hash-link" aria-label="Direct link to Integrated Assembly Workbench" title="Direct link to Integrated Assembly Workbench">​</a></h3><p>We suggest that FreeCAD must commit itself to an integrated assembly workbench — with great UX, documentation, translations, and compatibility with the rest of FreeCAD. </p><p>While the first iteration of the workbench can be feature-incomplete, this WB should support both simple and complex workflows. It should provide a solid foundation for future development of PDM integration, BOM extraction, collision detection, exploded assembly views, and animations.</p><p><strong>Ondsel’s role.</strong> We can participate in the planning, help organize the work, contribute code, test, and refine the solution. We can also contribute to the documentation and other essential parts of the project.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="standardized-data-structure">Standardized Data Structure<a href="#standardized-data-structure" class="hash-link" aria-label="Direct link to Standardized Data Structure" title="Direct link to Standardized Data Structure">​</a></h3><p>We already explained the importance of having a common data structure earlier. Our recommendation is simply that this should be the first step, and it should involve all key stakeholders: core developers, maintainers of the other Assembly workbenches (kbwbe, Realthunder, and Zolko), and Ondsel. This should be undertaken and completed early enough that other workbenches can either support the standard directly or provide migration tools.</p><p>The approach in Assembly 4 is a serious contender for a starting point. Zolko has some very sensible ideas like having only one root assembly element in the project, wrapped into a Part container, with parts and sub-assemblies available as child elements.</p><p>The working group should also investigate what ISO 10303 has to offer but regardless of what is found, the focus should be on providing the best solution for FreeCAD and its users.</p><p><strong>Ondsel’s role</strong>. Again, we can participate but we can’t impose a standard unilaterally. In this case, we feel Ondsel’s participation not only represents our own interests but the interest of other future partners. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="powerful-performant-3d-solver">Powerful, Performant, 3D Solver<a href="#powerful-performant-3d-solver" class="hash-link" aria-label="Direct link to Powerful, Performant, 3D Solver" title="Direct link to Powerful, Performant, 3D Solver">​</a></h3><p>Let’s reiterate: a 3D solver is critical to make FreeCAD competitive for professional and commercial work. No viable solutions that are license-compatible currently exist.</p><p>The solver has to be written in C++ or another compiled language for acceptable performance. The development of a 3D solver is a massive, time consuming, and expensive endeavor. It is, by far, the hardest part of doing assembly right.</p><p>For ease of distribution, it’s best to make the solver part of the core FreeCAD. This also gives us a better shot at maintaining it and also makes it available for use in other workbenches (think Robot).</p><p><strong>Ondsel’s role.</strong> We want a solution that is fast, powerful, and supports future functionality like multi-body dynamics. Ondsel intends to begin developing such a solution, release its code under an appropriately permissive license, and submit PRs to include it in the FreeCAD source. Based on our understanding of the <a href="https://opencoreventures.notion.site/Open-Core-Business-Model-525879f382cb430e81274f669a026c15#764604b5c6db4107bb84bbc427d81b87" target="_blank" rel="noopener noreferrer">‘Buyer-Based’ Open Core Model</a>, we think this is the right decision.</p><p>Having said that, it is essential to understand that Ondsel is a for-profit company and we are not profitable yet. We might fail before a solution is available. The project should not bet its future on our success. Moreover, the need to survive might force us to make the 3D solver or specific features available as paid options. This is also a risk area for the FreeCAD project. The community should prudently take steps to minimize the impact and ensure the viability of the integrated assembly workbench. </p><p>This aligns with our recommendation that the assembly workbench should be solver-agnostic, usable in solverless mode, supporting less powerful 2D solvers, but also able to take advantage of more powerful technology — including commercial options — if and when they are available.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shipping-the-mvp">Shipping the MVP<a href="#shipping-the-mvp" class="hash-link" aria-label="Direct link to Shipping the MVP" title="Direct link to Shipping the MVP">​</a></h3><p>We believe that a minimum viable assembly workbench (proof-of-workbench, if you will) should be shipped as part of FreeCAD as soon as possible to become a platform for testing the new 3D solver. The goal shouldn’t be feature completeness. Rather, we should focus on simplicity and stability and then iterate upon that to improve the workflow and user experience.</p><p><strong>Ondsel’s role.</strong> Once again, we can participate by providing leadership, organization, code, testing, and documentation but we cannot do it alone. We’re ready to start immediately.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-conclusion">In Conclusion<a href="#in-conclusion" class="hash-link" aria-label="Direct link to In Conclusion" title="Direct link to In Conclusion">​</a></h2><p>We thank everyone who participated in the discussion. Being able to test our ideas and expectations against feedback from avid users of existing assembly workbenches is priceless. </p><p>We know that the road to a world-class assembly system won’t be short and there will be plenty of bumps along the way. We also know we can’t do it alone. We look forward to collaborating with the FreeCAD community to bring this vision to life.</p><p>We are interested to hear your feedback on this plan. Please let us know what you think by commenting <a href="https://forum.freecad.org/viewtopic.php?t=76799" target="_blank" rel="noopener noreferrer">in the forum</a> or <a href="https://github.com/orgs/Ondsel-Development/discussions/2" target="_blank" rel="noopener noreferrer">on GitHub</a>. We will create a project in the GitHub tracker to plan the work and coordinate the many people it will require. Please let us know if you want to contribute to this effort.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly">assembly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-4cab46b747779382978a9af7e1922b16.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/default-assembly-workbench-6">Exploring BodyBuilder, Manipulator, and Part-o-magic</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-02T00:00:00.000Z" itemprop="datePublished">April 2, 2023</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In the previous posts in this series we’ve already discussed reasons to create a <a href="https://ondsel.com/blog/default-assembly-workbench-1" target="_blank" rel="noopener noreferrer">default assembly workbench</a> and then explored existing options: <a href="https://ondsel.com/blog/default-assembly-workbench-2" target="_blank" rel="noopener noreferrer">Assembly 2</a>, <a href="https://ondsel.com/blog/default-assembly-workbench-3" target="_blank" rel="noopener noreferrer">A2plus</a>, <a href="https://ondsel.com/blog/default-assembly-workbench-4" target="_blank" rel="noopener noreferrer">Assembly 3</a>, and <a href="https://ondsel.com/blog/default-assembly-workbench-5" target="_blank" rel="noopener noreferrer">Assembly 4</a>.</p><p>There are several more tools that provide a subset of their features, and these tools regularly come up in discussions on creating assemblies: the <a href="https://github.com/Freedman-CB1/BodyBuilder" target="_blank" rel="noopener noreferrer">BodyBuilder</a> macro, the <a href="https://github.com/easyw/Manipulator" target="_blank" rel="noopener noreferrer">Manipulator</a> workbench, and the <a href="https://github.com/DeepSOIC/Part-o-magic" target="_blank" rel="noopener noreferrer">Part-o-magic</a> workbench. Since none of them can realistically serve as a foundation for a potential default assembly workbench, in this review, we’ll focus on their interaction models to see what we can learn from them.</p><p>But before we do that, let’s quickly discuss the topic of exploded assemblies — a representation of the assembly design where parts are roughly in the right position, but at a certain distance from each other. We considered looking at the <a href="https://github.com/JMG1/ExplodedAssembly" target="_blank" rel="noopener noreferrer">Exploded Assembly</a> workbench in this post, because creating such a view is a very common use case. However, after a quick study we found the following.</p><p>First of all, it’s done differently across available commercial CAD offerings. It’s a part of the assembly toolset in Dassault Systèmes SolidWorks, Siemens NX, Ansys SpaceClaim, and BricsCAD Mechanical. It’s an additional default tool in PTC Creo and Onshape. And it’s part of the animation feature set in Autodesk Inventor, Autodesk Fusion 360, and T-FLEX CAD. So there’s no one right way to do that.</p><p>In FreeCAD, there are at least two 3rd-party workbenches for animation that have tools for exploding an assembly, Exploded Assembly and <a href="https://github.com/microelly2/Animation" target="_blank" rel="noopener noreferrer">Animation</a>. Another workbench, <a href="https://github.com/Francisco-Rosa/FreeCAD-Movie" target="_blank" rel="noopener noreferrer">Movie</a>, suggests using a <a href="https://github.com/Francisco-Rosa/ExplodedAssembly" target="_blank" rel="noopener noreferrer">fork</a> of the Exploded Assembly workbench. And there are <a href="https://jirivalasek.github.io/Animate/" target="_blank" rel="noopener noreferrer">other workbenches</a> that deal with animating moving parts.</p><p>On one hand, this indicates that the FreeCAD community is leaning towards seeing this as part of the animation feature set. On the other hand, there are perfectly sensible use cases like technical illustrations where you might want to place an isometric view of an exploded assembly onto a TechDraw page, and that’s probably outside the animation workbench’s jurisdiction. So it makes sense to revisit this topic later when we can give it our full attention.</p><p>And now let’s get on with additional assembly-like tools.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bodybuilder-macro">BodyBuilder macro<a href="#bodybuilder-macro" class="hash-link" aria-label="Direct link to BodyBuilder macro" title="Direct link to BodyBuilder macro">​</a></h2><p>According to the macro developer, ‘freedman’, the <a href="https://forum.freecad.org/viewtopic.php?style=5&amp;p=636992#" target="_blank" rel="noopener noreferrer">rationale</a> behind this project is this:</p><blockquote><p>I think many times new users and some of us need a model with just a few parts held together, we don&#x27;t need the full assembler that does everything <!-- -->[...]<!-- -->.</p></blockquote><p>Getting started with this tool can be a challenge.  There is no step-by-step tutorial. There’s a <a href="https://forum.freecad.org/viewtopic.php?t=72997" target="_blank" rel="noopener noreferrer">forum thread</a> with a couple of GIFs and a few test files, only. Here is how it works.</p><p>The general idea is that, while the BodyBuilder macro is <a href="https://wiki.freecad.org/Macros" target="_blank" rel="noopener noreferrer">running</a>, you select an object in the viewport, then a sketch in the tree view. As soon as you do that, the object in the viewport gets centered at that sketch’s origin.</p><p>But the points in sketches that you align objects to don’t all sit at (0;0;0) exactly, typically they are all over the place. So what you do when you create a sketch is you start it at the origin and then you use the Position property in Attachment Offset to move the sketch in the three dimensions. Once you set it up, you can align a body to that sketch.</p><p>Doing that means that the body’s Position (Placement) value changes to the point in space defined by the sketch&#x27;s attachment offset.</p><p><img loading="lazy" alt="BodyBuilder macro running in FreeCAD" src="/assets/images/freecad-bodybuilder-viewport-ddde0a9329c548178e535b3d747aaa6c.webp" width="2560" height="1440" class="img_ev3q"></p><p>You have several options for what to do next when you want to move that object.</p><ul><li>You can use the Positioning menu of the macro to set a relative offset that will increment the absolute values.</li><li>You can set its position in absolute values, and for that the Properties dock is fairly sufficient.</li><li>Or you can use the on-canvas Transform tool.</li></ul><p>The macro has a kind of a menu, but really, it’s a different set of controls in generally the same space. The main menu allows looking at the reference sketch’s origin (has to be selected), setting X-Ray mode to the selected body to look through it, and switching to positioning settings. The positioning menu has offset, rotation etc. controls for the attached body. And the binding menu is where you initiate the binding of a body to a sketch or delete an existing binding.</p><p><img loading="lazy" alt="BodyBuilder macro menu structure" src="/assets/images/freecad-bodybuilder-menu-cc93e08e393c29a2e7fc350b717f86e0.webp" width="1364" height="1146" class="img_ev3q"></p><p>Left to right: main menu, positioning menu, binding menu.</p><p>Once you get the hang of it, the macro works. It’s three clicks away if you have the Macro toolbar present, or a few more, if you have to use the menu. Workflow-wise, the main problem is repositioning the sketch origin, which takes some extra work. The trick is to open the macro menu, go to Positioning, double-click the sketch to start editing it, then add a point where the offset should be, enable the “Reposition Sketch origin” checkbox, then click on that newly added point. This will get you the desired attachment offset value.</p><p>So much like Assembly 4, BodyBuilder is built on top of existing core features, but it takes time to set everything up as compared to using constraints in Assembly 2/2+/3 workbenches.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-manipulator-workbench">The Manipulator workbench<a href="#the-manipulator-workbench" class="hash-link" aria-label="Direct link to The Manipulator workbench" title="Direct link to The Manipulator workbench">​</a></h2><p>This workbench focuses on moving and aligning objects and does not allow creating permanent attachments with fixed degrees of freedom. The three major groups of tools are <em>Mover</em> tools, <em>Align</em> tools, and <em>Measure</em> tools. All three have floating palettes that can be docked.</p><p>The Mover toolset is how you move and rotate selected objects along the selected axis using numeric input. All changes are relative and affect the absolute position of the object: e.g. if your part is already shifted and rotated, further changes will increment existing displacement and rotation.</p><p><img loading="lazy" alt="Mover tools in the Manipulator workbench" src="/assets/images/freecad-manipulator-mover-tools-3333fe850e825beb1ce472fc8d3729a2.webp" width="2560" height="1440" class="img_ev3q"></p><p>If it wasn’t for the option to align the view to a selected face and then rotate around this custom axis, the entire set of Mover tools could be considered a duplication of the existing Placement functionality that allows to adjust absolute values with expressions.</p><p>The Align tools allow attaching objects by points, edges, centers, and planes to each other. The user has control over a number of options, such as:</p><ul><li>whether the bounding box or the center of mass of the reference object should be used;</li><li>whether the alignment normal is inverted;</li><li>which axis the object should be centered on (any combination is possible).</li></ul><p><img loading="lazy" alt="Align tools in the Manipulator workbench" src="/assets/images/freecad-manipulator-align-tools-d51ee7c3a4a5ecf1ad96bcfd47a20c94.webp" width="2560" height="1440" class="img_ev3q"></p><p>And then there’s the Measure tool that can get the radius of an arc or a circle, the length of an edge, the angle between two edges, and more. It works pretty much the same way as in other software: you need to select the first and the second elements when measuring distances between two objects or an angle between two edges. A single click on an arc or a circle will get you the radius, and a single click on an edge will get you its length. The extra label is optional and can be disabled.</p><p><img loading="lazy" alt="Measure tools in the Manipulator workbench" src="/assets/images/freecad-manipulator-measure-tools-51aba437884566156314a9e1e1c0b83e.webp" width="2560" height="1440" class="img_ev3q"></p><p>This Measure tool has been modified and repurposed for the Assembly 4 workbench, so if you see similarities between them, this is not a coincidence.</p><p>The part of the feature set that deals with transforming and aligning objects has documentation and 3rd party video tutorials. Work with datum objects (points, lines, planes, LCSs), however, is entirely undocumented.</p><p>In a nutshell, despite its basic feature set and a certain overreliance on icons, the Manipulator workbench is a handy toolbox for making quick alignments. Moreover, the tools it provides are accessible in other workbenches like Sketcher, Part, and PartDesign. All you need to do is docking the floating palettes for your convenience.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-o-magic-workbench">Part-o-magic workbench<a href="#part-o-magic-workbench" class="hash-link" aria-label="Direct link to Part-o-magic workbench" title="Direct link to Part-o-magic workbench">​</a></h2><p>The main point of this workbench is saner automatic management of the project hierarchy. PoM plugs into the core of FreeCAD and makes sure that all new objects are added to the active container no matter what workbench is currently used.</p><p>But there are other features like autohiding all parts and bodies other than the one you are currently editing until you are done. Or duplicating objects, transferring them from one container to another, locating dependencies etc. All that has its use when working on complex assemblies, particularly with the top-down approach to designing.</p><p><img loading="lazy" alt="The Part-o-magic workbench" src="/assets/images/freecad-part-o-magic-workbench-fd504301412e20da0f9e82b04515eb4f.webp" width="2560" height="1440" class="img_ev3q"></p><p>As FreeCAD starts gaining some of the features that PoM provides, the workbench is likely to grow obsolete.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><p>The main takeaway from exploring BodyBuilder and Manipulator is that there is a demand for making quick attachments of a small number of parts. So further work on a default assembly workbench should include research focusing on two things. First of all, it’s useful to understand the exact reasons people try to avoid using full-blown assembly workbenches for such tasks. Given that the UX/UI of BodyBuilder and Manipulator are not particularly easier than those of all assembly workbenches we reviewed earlier, this has to do either with project hierarchy, or with using constraints and solvers, or both. Secondly, the future default assembly workbench should be designed in a way that would keep the workflow lightweight and straightforward for these “simple” use cases.</p><p>As for Part-o-magic, some of the tools, like the deep copy of containers, look like features that belong to upstream FreeCAD.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-up">Next Up<a href="#next-up" class="hash-link" aria-label="Direct link to Next Up" title="Direct link to Next Up">​</a></h2><p>We are concluding the series. In the next post, we will summarize our findings, as well as the takeaways from the public discussion, and suggest a way forward.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly">assembly</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/bodybuilder">bodybuilder</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/manipulator">manipulator</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/part-o-magic">part-o-magic</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-6b8e5b7358868063ae18e9c9724b7ab1.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/default-assembly-workbench-5">Exploring the Assembly 4 workbench</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-28T00:00:00.000Z" itemprop="datePublished">March 28, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In the previous posts in this series, we talked about the need for a <a href="https://ondsel.com/blog/default-assembly-workbench-1" target="_blank" rel="noopener noreferrer">default assembly workbench</a> in FreeCAD and reviewed <a href="https://ondsel.com/blog/default-assembly-workbench-2" target="_blank" rel="noopener noreferrer">Assembly 2</a>, <a href="https://ondsel.com/blog/default-assembly-workbench-3" target="_blank" rel="noopener noreferrer">A2plus</a>, and <a href="https://ondsel.com/blog/default-assembly-workbench-4" target="_blank" rel="noopener noreferrer">Assembly 3</a>. Let’s talk about Assembly 4.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a href="#history" class="hash-link" aria-label="Direct link to History" title="Direct link to History">​</a></h2><p>The project was started by Zolko in 2019 after some experiments with building assemblies without solvers. Zolko came to the community with extensive knowledge of other CAD programs such as Pro/E, Catia, and T-Flex, but he was very (and probably needlessly) humble about his programming skills.</p><p><img loading="lazy" alt="Assembly 4 commits" src="/assets/images/freecad-assembly-4-commits-03bf4b69f69316fe72612d0958b6db0d.png" width="1760" height="557" class="img_ev3q"></p><p>Just like with other assembly workbenches, much of the development has been affected by the user community, and a number of features have been contributed by other developers. So far, A4 is the only assembly workbench where the development pace is about the same as it was when the project started, and Zolko isn’t done yet.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-and-ease-of-use">Workflow and ease of use<a href="#workflow-and-ease-of-use" class="hash-link" aria-label="Direct link to Workflow and ease of use" title="Direct link to Workflow and ease of use">​</a></h2><p>Assembly 4 relies on several core principles.</p><p>First off, it is built around the <a href="https://wiki.freecad.org/App_Link" target="_blank" rel="noopener noreferrer">App:Link API</a> that we already mentioned in previous posts in the series. In a nutshell, rather than creating a full copy of a part, FreeCAD will reference it. This makes models cleaner, and you always work with up-to-date geometry. The workbench also has the concept of a variant link which allows referencing the same object multiple times and using different parameters for each of the linked instances.</p><p>Secondly, rather than aligning characteristics of two parts (e.g. vertex to vertex), the workbench maps one local coordinate system (LCS) to another. Each body in a part can have multiple local coordinate systems. For example, the part on the screenshot below has 5 of them:</p><p><img loading="lazy" alt="Multiple LCSs in a part" src="/assets/images/freecad-assembly-4-multiple-lcs-12ec72cd93b2bf559c95885d3e675868.png" width="2560" height="1440" class="img_ev3q"></p><p>When an LCS is originally created, it is attached to a very specific feature of a part. However, if the geometry of that part changes, the LCS stays where it was. Which makes it unaffected by the dreaded toponaming issue (now being finally taken care of in upstream FreeCAD). The kind of a feature an LCS is attached to defines what attachment options are available.</p><p><img loading="lazy" alt="Picking features to attach an LCS to" src="/assets/images/freecad-assembly-4-picking-features-for-lcs-7e5f1da6734e29ce645cf0dbed702135.png" width="1840" height="1205" class="img_ev3q"></p><p>Then when a new part is inserted into an assembly, the user specifies the parent part (which part to attach to), the source LCS (from the newly inserted part), and the target LCS (from the parent part):</p><p><img loading="lazy" alt="Mapping LCSs in Assembly 4" src="/assets/images/freecad-assembly-4-mapping-lcs-33e202f441562b00ea16e8c3b7dbbf17.png" width="1584" height="886" class="img_ev3q"></p><p>Once both LCSs are aligned, all six degrees of freedom are fixed, and thus parts stay attached no matter what. It is, however, possible to “release” a DOF by using the attachment offset property and expressions.</p><p>We’ve seen multiple testimonials that the approach to assembling a model through LCS proves to be more predictable and robust. </p><p>On the flip side, the process of setting all LCSs is rather tedious, and attaching one part to another means you have to make more clicks than what you typically get with regular constraints.</p><p>Finally, Assembly 4 supports both <a href="https://caeuniversity.com/bottom-up-and-top-down-approach/" target="_blank" rel="noopener noreferrer">top-down and bottom-up</a> design models. We do need to point out though that with the bottom-up approach, it is impossible to insert a part from an external file without opening it as a document.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2><p>Because of how the workflow is implemented, Assembly 4 doesn’t have rows and rows of buttons to go through when you need to align one part with another. A large part of the feature set is about managing your assembly: creating new bodies and groups, inserting parts (there’s also a simple integration with the Fasteners workbench), mapping LCSs to each other etc. Apart from LCS, A4 allows creating more datum types: plane, axis, and point. Internally, those are all PartDesign objects.</p><p>A4 comes with its own tools for creating mirrored, linear, and circular arrays, as well as a measure tool:</p><p><img loading="lazy" alt="Measure tool" src="/assets/images/freecad-assembly-4-measure-tool-a465016615cbcb387ba57a1decfebecb.png" width="2560" height="1440" class="img_ev3q"></p><p>For animation, Assembly 4 uses variables and <a href="https://wiki.freecad.org/Expressions" target="_blank" rel="noopener noreferrer">expressions</a>. For example, if you need to rotate a part, what you do is create a new variable and set it e.g. to 0, then use that variable in the <em>Angle</em> placement property of your part, then open the animation dialog, select the variable to animate, set min and max values to feed into the variable, as well as the increment value, and run the animation.  </p><p><img loading="lazy" alt="Animation in Assembly 4" src="/assets/images/freecad-assembly-4-animation-b5757dd5ee22b5359e5f2b0c9551739e.png" width="2560" height="1440" class="img_ev3q"></p><p>Theo Janssen’s <a href="https://www.strandbeest.com/" target="_blank" rel="noopener noreferrer">strandbeest</a>, <a href="https://github.com/Zolko-123/FreeCAD_Examples/tree/master/Asm4_Tutorial4" target="_blank" rel="noopener noreferrer">model by Zolko</a> (CC0-1.0 license) </p><p>The implementation is somewhat technical, but it works. The downside of all this is that due to the incomplete multithreading support in FreeCAD you can’t really stop the animation until the current cycle is over. Unfortunately, while animation does the trick in some cases, collision detection would still be really useful.</p><p>Despite the initial idea to not use a solver that got the entire Assembly 4 adventure going, Zolko did end up creating a solver to recompute all the links and placements in an assembly. In fact, as user ‘aapo’ <a href="https://forum.freecad.org/viewtopic.php?p=670464#p670464" target="_blank" rel="noopener noreferrer">explained in a recent discussion</a>, A4 has <em>multiple</em> solvers and can use custom external ones. Even more, there’s a branch called <a href="https://github.com/Zolko-123/FreeCAD_Assembly4/compare/master...solver" target="_blank" rel="noopener noreferrer">‘solver’</a> waiting to be completed and merged. It brings the A2plus solver to Assembly 4.</p><p>The workbench has good if somewhat scattered documentation. There are <a href="https://github.com/Zolko-123/FreeCAD_Assembly4/blob/master/INSTRUCTIONS.md" target="_blank" rel="noopener noreferrer">instructions</a> for new users that explain features, basic concepts, and workflow. There are also <a href="https://github.com/Zolko-123/FreeCAD_Examples" target="_blank" rel="noopener noreferrer">several tutorials</a> written by the principal developer in a dedicated GitHub repository. And some of the user documentation is in the <a href="https://github.com/Zolko-123/FreeCAD_Assembly4/tree/master/Examples" target="_blank" rel="noopener noreferrer">Examples</a> folder of the main GitHub repository.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consistency">Consistency<a href="#consistency" class="hash-link" aria-label="Direct link to Consistency" title="Direct link to Consistency">​</a></h2><p>Assembly 4 does nearly everything in dialogs in the Combo View, which is a fairly standard practice. No surprises there.</p><p>The workbench can work with parts created by other assemblies, although in our testing it seems like a good idea creating local coordinate systems in those parts prior to inserting them for simplicity’s sake.</p><p>There have been <a href="https://forum.freecad.org/viewtopic.php?style=10&amp;t=40363" target="_blank" rel="noopener noreferrer">a number of problems</a> getting A4 to work well with the TechDraw workbench. Most of them reportedly have been fixed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stability">Stability<a href="#stability" class="hash-link" aria-label="Direct link to Stability" title="Direct link to Stability">​</a></h2><p>From the Issues section on GitHub and the forum it appears that Assembly 4 is very stable. Users mostly have problems with the <a href="https://github.com/Zolko-123/FreeCAD_Assembly4/blob/master/Examples/ConfigBOM/README.md" target="_blank" rel="noopener noreferrer">Bill of Materials</a> feature (there have been <a href="https://github.com/Zolko-123/FreeCAD_Assembly4/pull/403" target="_blank" rel="noopener noreferrer">recent fixes</a> to address some of the issues). In our limited testing, A4 crashed a few times — mostly, when editing datum objects. The number of actual bug reports (rather than feature requests) on GitHub is very low (just 1 as of March 27). However, a number of bugs are known and reported to the forum.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h2><p>We found some complaints about A4 being slow with complex assemblies. One workaround that appears to improve the situation is disabling the preselection highlight (Edit &gt; Preferences &gt; Display &gt; Colors).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status">Development Status<a href="#development-status" class="hash-link" aria-label="Direct link to Development Status" title="Direct link to Development Status">​</a></h2><p>Assembly 4 is an active project with a growing share of new contributors. There have been multiple tagged releases, and the latest internal version update was in February 2023.
Collectively, the community around Assembly 4 keeps the number of pull requests to an absolute minimum (just 3 open out of 245 ever submitted, as of March 27). Zolko responds to most of the bug reports within a day or two, although fixing some of the bugs may take longer than that.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><p>Assembly 4 relies on local coordinate systems to attach parts to each other. The workbench is fairly robust, there are very few severe issues reported by users. However, the LCS approach — as implemented in A4 — is low-level and implies a somewhat tiresome process of setting everything up.</p><p>The project has a small active team of contributors who keep the amount of unresolved issues and unmerged patches as low as possible. We also found the user community to be really enthusiastic and passionate about the project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-up">Next up<a href="#next-up" class="hash-link" aria-label="Direct link to Next up" title="Direct link to Next up">​</a></h2><p>In the next installment, we’ll take a slight detour and explore several assembly-like solutions: the Manipulator and Part-o-Magic workbenches, as well as the BodyBuilder macro.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly">assembly</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly-4">assembly4</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-31d5663f356c89f6034ea0e0d24a94c1.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/default-assembly-workbench-4">Exploring the Assembly 3 workbench</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-23T00:00:00.000Z" itemprop="datePublished">March 23, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This is the fourth part in the series where we explore the possibility of creating a default assembly workbench for FreeCAD. We started out with a <a href="https://ondsel.com/blog/default-assembly-workbench-1" target="_blank" rel="noopener noreferrer">conversation</a> about why we need a default assembly workbench in the program, then <a href="https://ondsel.com/blog/default-assembly-workbench-2" target="_blank" rel="noopener noreferrer">reviewed Assembly 2</a> and <a href="https://ondsel.com/blog/default-assembly-workbench-3/" target="_blank" rel="noopener noreferrer">A2plus</a>. Now let’s talk about the Assembly 3 workbench.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a href="#history" class="hash-link" aria-label="Direct link to History" title="Direct link to History">​</a></h2><p>In 2013, Jonathan Westhues took the FOSS community by surprise releasing the source code of <a href="https://solvespace.com/index.pl" target="_blank" rel="noopener noreferrer">SolveSpace</a>, his parametric 2D/3D CAD software built around a very capable custom solver. Some 4 years later, Zheng Lei aka “realthunder” created a Python binding for the solver, then used it to create his own assembly workbench for FreeCAD.</p><p><img loading="lazy" alt="Commit to Assembly 3 over time" src="/assets/images/freecad-assembly3-commits-74dd6007bd2a4cd50c76d386f0c5e1dd.png" width="1761" height="554" class="img_ev3q"></p><p>Further changes in the workbench required <a href="https://github.com/realthunder/FreeCAD_assembly3/wiki/Link" target="_blank" rel="noopener noreferrer">patching FreeCAD</a>, so realthunder created a friendly fork of the entire program, which over time became his primary project with many other changes and add-ons not available in upstream FreeCAD by default: the pie menu, transparent docks, and others.</p><p>Some of the architectural changes have already been merged to upstream FreeCAD, others are getting there. The Assembly 3 workbench continues to be maintained and is available to users of upstream FreeCAD as an addon and is now part of this larger project, the ‘LinkStage’ fork.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-and-ease-of-use">Workflow and ease of use<a href="#workflow-and-ease-of-use" class="hash-link" aria-label="Direct link to Workflow and ease of use" title="Direct link to Workflow and ease of use">​</a></h2><p>Assembly 3 is substantially different from other assembly workbenches in multiple aspects. Here are some of its most significant characteristics.</p><p><strong>Project hierarchy.</strong> In A3, an assembly consists of constraints, elements, and parts. Elements are the features of parts that are used to create a constraint, e.g. a point of one part and a plane of another part. Assemblies can contain sub-assemblies, in which case each sub-assembly will carry its own set of constraints, elements, and parts. This approach makes navigating a complex project fairly straightforward.</p><p><img loading="lazy" alt="Project hierarchy in Assembly 3" src="/assets/images/freecad-assembly3-project-hierarchy-f069e78b9d5c0571aba74ae9865e8535.png" width="2560" height="1440" class="img_ev3q"></p><p><a href="https://github.com/Nemesis81/GraberI3_Freecad" target="_blank" rel="noopener noreferrer">Graber I3 model by Nemesis81</a></p><p><strong>Top-down design model.</strong> This approach is technically available in A2 and A2plus, but it is not a recommended way of using those workbenches. Assembly 3 makes the top-down design model a first-class citizen. You can create new parts, then drag them into the Parts section of the project tree, then they will become usable in the assembly.</p><p><strong>Bottom-up design model.</strong> This is likely how most A3 users approach creating assemblies. The workbench provides two ways to build an assembly from parts saved as external files: importing from STEP files or linking (see below) FreeCAD projects that are already opened in the program.</p><p><strong>Links.</strong> A3 is not the only assembly workbench to rely on the <a href="https://wiki.freecad.org/App_Link" target="_blank" rel="noopener noreferrer">App::Link API</a> to reference objects instead of copying them, Assembly 4 also does it. But A3 is what this API was designed for in the first place. The general idea is that if you have e.g. 4 screws of the same type to fix a motherboard to a plastic box, you don’t need 4 instances of the same screw geometry. You only need one part that you can reuse via links.</p><p>Creating a link, however, is all not at all obvious and requires performing a particular sequence of actions: selecting a part (Body object) in the project tree, then selecting an assembly document in the document tabs, then clicking a Link button in the toolbar. Figuring this out without reading documentation or watching a tutorial or asking on the forum is all but impossible.</p><p><strong>Fixing parts and freezing sub-assemblies.</strong> While fixing a part in A2plus is a property of a part, the A3 approach is to select a feature and assign a “Locked” constraint to it to eliminate all or some degrees of freedom (this depends on the type of the selected feature). The idea of locking something entirely goes even further. When working on a complex assembly, a particularly useful way to simplify computations is to freeze a sub-assembly. Such a sub-assembly is considered fixed by the solver and is therefore excluded from update calculations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2><p>Assembly 3 is the most feature-packed of all existing assembly WBs. It comes with over 40 constraint types, various helper tools, means to control workplanes, and more. It also has a dynamic solver, so you can move parts under constraints.</p><p>The workbench does its best to keep track of degrees of freedom to avoid overconstraining an assembly. However, in doing so, it doesn’t make it easy to indicate where the problem is exactly. All it does is notifying the user that there are inconsistent constraints. It is up to the user to locate the offensive elements and constraints.</p><p>There are more caveats. In particular, the vast amount of features in this workbench raises the expectations for UX/UI. Assembly 3 has an overwhelming UI. It comes with no less than six toolbars, three out of which are different groups of constraints.</p><p><img loading="lazy" alt="Assembly 3 toolbars" src="/assets/images/freecad-assembly3-toolbars-d58f25c6ecc6f4d694d53caa0a082150.png" width="1499" height="214" class="img_ev3q"></p><p>There’s the main constraints group and two additional groups of constraints. This takes a lot of getting used to. We’ve seen experienced users of the workbench making really useful elaborate tutorials about it and yet failing to locate the constraint they need on the first attempt.</p><p>Things don’t get much better with the <a href="https://wiki.freecad.org/ModernUI_Workbench" target="_blank" rel="noopener noreferrer">ModernUI</a> add-on that creates a Ribbon-like top toolbar. You get readable labels (something the late <a href="https://en.wikipedia.org/wiki/Jef_Raskin" target="_blank" rel="noopener noreferrer">Jef Raskin</a> would appreciate), but you also get a large scrollable area:</p><p><img loading="lazy" alt="Assembly 3 with a Ribbon-like toolbar" src="/assets/images/freecad-assembly3-with-ribbon-like-ui-b2272e0aaf11cb3df1e2d74cc428d4cc.png" width="2560" height="1440" class="img_ev3q"></p><p><a href="https://github.com/Nemesis81/GraberI3_Freecad" target="_blank" rel="noopener noreferrer">Graber I3 model by Nemesis81</a></p><p>Assembly 3 is not uniquely complex here. Arch, FEM, TechDraw, and a few other workbenches also have a similar or even larger amount of UI to deal with. This suggests that there may be a need for a general UX/UI review and a better strategy for organizing the user interface and designing the interaction — something that would be solved on the core level and then propagated to all workbenches, default and 3rd-party alike.</p><p>Three sorely missing features are collision detection, visual control over degrees of freedom, and the generation of BOM. Collision detection was <a href="https://forum.freecad.org/viewtopic.php?p=253170#p253170" target="_blank" rel="noopener noreferrer">planned</a> back in 2018, the idea was to use the <a href="https://pybullet.org/" target="_blank" rel="noopener noreferrer">Bullet</a> physics engine, but this hasn’t materialized yet. Regarding DOF control, it is virtually impossible to find out how many degrees of freedom a part has without trial-and-error by attempting to transform it and — sometimes — looking at the output log in the built-in console (A2plus solves that by optionally displaying an indicator for each part in the viewport). And as for BOM, realthunder already <a href="https://github.com/realthunder/FreeCAD_assembly3/wiki/Expression-and-Spreadsheet" target="_blank" rel="noopener noreferrer">explored in detail</a> the requirements for developing BOM generation two years ago, but there is no code yet.</p><p>The <a href="https://wiki.freecad.org/Assembly3_Workbench" target="_blank" rel="noopener noreferrer">wiki page</a> for the assembly at FreeCAD’s website provides some basic documentation on features, and the project’s <a href="https://github.com/realthunder/FreeCAD_assembly3/wiki" target="_blank" rel="noopener noreferrer">own wiki</a> explores basic concepts of A3 and provides several tutorials. However, neither can serve as a reference guide, hence finding out what some of the features do will require original research by users. Notably, there’s a lot of YouTube tutorials on using Assembly 3. Some of the most prolific A3 educators are <a href="https://www.youtube.com/@OficineRobotica/videos" target="_blank" rel="noopener noreferrer">Oficine Robotica</a> and <a href="https://www.youtube.com/@OficineRobotica/videos" target="_blank" rel="noopener noreferrer">Joko Engineeringhelp</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consistency">Consistency<a href="#consistency" class="hash-link" aria-label="Direct link to Consistency" title="Direct link to Consistency">​</a></h2><p>The workbench is generally consistent with how the rest of FreeCAD operates. In our testing, nothing stands out as particularly peculiar. A3 will also use parts created with other workbenches as long as the imported parts are moved into the Parts section of the assembly’s hierarchy.</p><p><img loading="lazy" alt="Assembly3 project in LinkStage branch" src="/assets/images/freecad-assembly3-graber-i3-model-3108054c6b6643471f01af9c22c78bef.png" width="2560" height="1440" class="img_ev3q"></p><p><a href="https://github.com/Nemesis81/GraberI3_Freecad" target="_blank" rel="noopener noreferrer">Graber I3 model by Nemesis81</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stability">Stability<a href="#stability" class="hash-link" aria-label="Direct link to Stability" title="Direct link to Stability">​</a></h2><p>Assembly 3 currently has over 300 unresolved bugs and feature requests filed to its <a href="https://github.com/realthunder/FreeCAD_assembly3/issues" target="_blank" rel="noopener noreferrer">issue tracker</a>. However, this cannot be used as a sole indicator of the maintainer’s responsiveness: for some reason, it’s fairly common for users to report bugs associated with FreeCAD itself rather than with the workbench in question. Given that the ‘Linkstage’ fork of FreeCAD also has over 300 unresolved bug reports and feature requests, this is obviously too much for one person to handle, even though he gets some help with triaging reports.</p><p>None of the currently open bug reports are crash reports for the Assembly 3 workbench. Having said that, we did experience a few random crashes when working with the WB. We also looked at workbench crashes reported in the past and found that realthunder pays a lot of attention to that and typically fixes those within several days.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h2><p>While it’s possible to exclude sub-assemblies from computation by freezing them and thus saving the resources for when they are needed, this will not be sufficient in all use cases. With complex assemblies (over a hundred parts), A3 can become really slow. </p><p>Moreover, even in simple use cases (two parts, two constraints), Assembly 3 will often fail to perform an axial rotation smoothly with 1 DOF left, while the rotation increment is as small as 1°.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status">Development Status<a href="#development-status" class="hash-link" aria-label="Direct link to Development Status" title="Direct link to Development Status">​</a></h2><p>Although there have been contributions from at least a dozen more people, realthunder remains the author of 92% of all commits to the workbench since project’s inception. The project is maintained, however its active development phase ended in 2019. The last workbench release was tagged in 2020 and the latest internal version is 0.11.4 from November 2022. We also found that the development remains uncoupled from the upstream SolveSpace project: multiple changes and new features related to constraints appear to have never made its way to the workbench.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="legal-status">Legal Status<a href="#legal-status" class="hash-link" aria-label="Direct link to Legal Status" title="Direct link to Legal Status">​</a></h2><p>Because Assembly 3 relies on a fork of SolveSpace’s source code, it’s available under the terms of GPLv3+. This makes its inclusion in the FreeCAD application problematic. Thus the workbench can only be installed separately in upstream FreeCAD as an addon.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><p>Assembly 3 is substantially more advanced than either A2 or A2plus workbenches: generally better workflow, better support for bottom-up design, better-designed project hierarchy, vastly more constraint options, and the list goes on. The project also has an avid user community and the developer is typically fast to respond to reports of severe bugs.</p><p>At the same time, A3 has a number of usability issues and important missing features such as BOM generation. The solver’s license also makes this workbench an unlikely choice for a foundation of a potential default workbench in FreeCAD.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-up">Next up<a href="#next-up" class="hash-link" aria-label="Direct link to Next up" title="Direct link to Next up">​</a></h2><p>Now that we’ve explored Assembly 3, we are getting closer to the end of the series. In the next installment, we’ll take a close look at the Assembly 4 workbench developed by Zolko.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development">development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly">assembly</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/assembly-3">assembly3</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer bg-transparent footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col flex footer-layout"><div><div class="footer__title">Contact Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:contact@ondsel.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">contact@ondsel.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">FreeCAD</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://freecad.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/FreeCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="footer__bottom copy_right text--center"><div class="footer__copyright">Copyright © 2023 Ondsel, Inc. </div></div></div></footer></div>
<script src="/assets/js/runtime~main.84dc5416.js"></script>
<script src="/assets/js/main.a1d46ae7.js"></script>
</body>
</html>