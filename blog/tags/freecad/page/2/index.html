<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-blog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">35 posts tagged with &quot;freecad&quot; | Ondsel</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ondsel.com/blog/tags/freecad/page/2/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="35 posts tagged with &quot;freecad&quot; | Ondsel"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ondsel.com/blog/tags/freecad/page/2/"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/tags/freecad/page/2/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/tags/freecad/page/2/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-37JG1KMTYS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-37JG1KMTYS",{anonymize_ip:!0})</script>


<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ondsel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ondsel Atom Feed">

<script src="https://boards.greenhouse.io/embed/job_board/js?for=ondsel"></script>
<script src="/js/get_os.js"></script><link rel="stylesheet" href="/assets/css/styles.bea8c7f7.css">
<link rel="preload" href="/assets/js/runtime~main.20203778.js" as="script">
<link rel="preload" href="/assets/js/main.a5f45b64.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar bg-grid-pattern navbar--fixed-top"><div class="wrapper"><div class="menu_button"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div><div class="navbar__inner"><div class="navbar__items navbar_layout"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items desktop text_gray"><a aria-current="page" class="text_gray navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="text_gray navbar__item navbar__link" href="/download/">Download</a><a class="text_gray navbar__item navbar__link" href="/pricing/">Pricing</a><a aria-current="page" class="text_gray navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Company</a><ul class="dropdown__menu"><li><a class="text_gray dropdown__link" href="/about/">About Us</a></li><li><a class="text_gray dropdown__link" href="/team/">Team</a></li><li><a class="text_gray dropdown__link" href="/careers/">Careers</a></li><li><a class="text_gray dropdown__link" href="/handbook/">Handbook</a></li><li><a class="text_gray dropdown__link" href="/contact/">Contact</a></li></ul></div></div><div class="navbar__items navbar__items--right desktop text_gray"><a href="https://github.com/Ondsel-Development" target="_blank" rel="noopener noreferrer" class="text_gray navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_H2mL"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introducing-ondsel-es/">Introducing Ondsel ES, an engineering suite with an open-source heart</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ondsel-365/">365 days of Ondsel</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/survey-engineers-architecture/">Survey: do engineers dream of architecture tools?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/interoperability/">CAD users want interoperability. Autodesk fails to lead</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/autodesk-enshittifies-fusion-360/">Autodesk continues to enshittify Fusion 360 with a 27% price increase</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>35 posts tagged with &quot;freecad&quot;</h1><a href="/blog/tags/">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-ec8529d8d8eac84191f0543b7add53a3.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/ondsel-made-constraining-sketches-faster-and-easier/">Ondsel made constraining sketches faster and easier</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-29T00:00:00.000Z" itemprop="datePublished">September 29, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>One of the hallmark features of FreeCAD is that various parts of its UI have a lot of similar options, which means a lot of cognitive load, especially for beginners. A very popular “offender” here is the geometry constraints toolbar in Sketcher. It has 18 different constraint options, more than most popular commercial CAD offerings like Fusion 360, Onshape, and Creo. That&#x27;s not a bad thing on its own, but it adds a lot of mileage when you need to dimension an entire complex sketch.</p><p><img loading="lazy" alt="Constraint options in FreeCAD 0.21" src="/assets/images/contextual-constraints-0-21-ca0c28f136d7c2b19885bcdfac503e46.webp" width="1812" height="932" class="img_ev3q"></p><p>Before joining Ondsel, Pierre-Louis Boyer (@paddle) started implementing a feature called <em>contextual constraints</em> to help users constrain faster. Since joining Ondsel, he has finished the <a href="https://github.com/FreeCAD/FreeCAD/pull/9810" target="_blank" rel="noopener noreferrer">patch</a>, and after some discussion and code review it was merged to become part of future FreeCAD 1.0. This new feature is quite nice and surpasses what many commercial CAD applicaitons are able to do. So let’s take it for a drive and kick the tires!</p><p>When you select a geometric feature in a sketch, there’s a finite number of constraints you apply once you select the second feature. For example, if you select a line and then an endpoint of another line, your most meaningful option is a distance constraint. But if you select a line and then another line that’s at an angle to the first one, the angle constraint is the most meaningful option, and your other option is to make those lines equal.</p><p>Once you know that, you can devise a system that looks at the selected features, suggests the most sensible option by default, and allows switching between possible options easily. This is what the new contextual constraints system does. It helps apply constraints based on the context of what the user has already done.  You select the new Dimension option (<strong>D</strong> shortcut) and go over your entire sketch to constraint and dimension various parts of it.</p><p>The new option combines various pre-existing other ones: constraining distances, radii, diameters, angles, and a constraint lock.</p><p>Here is a quick example. Take two lines that have different length and are at a random angle and distance to each other:</p><p><img loading="lazy" alt="Original state" src="/assets/images/contextual-constraints-step-0-5d05391d314dd9eaecbd7fe30f388611.webp" width="1792" height="1200" class="img_ev3q"></p><p>Then select the Dimension option and set the length of the first line:</p><p><img loading="lazy" alt="Length constraint" src="/assets/images/contextual-constraints-step-1-427a099a5d3ab3b750234d17830273bd.webp" width="1792" height="1200" class="img_ev3q"></p><p>Set a distance between the two lines by clicking the line and then the closer endpoint of the second line:</p><p><img loading="lazy" alt="Distance constraint" src="/assets/images/contextual-constraints-step-2-0ae4fd84ec5722aee371ff45753cb326.webp" width="1792" height="1200" class="img_ev3q"></p><p>Constraint their angle by clicking the first line and the second line:</p><p><img loading="lazy" alt="Angle constraining" src="/assets/images/contextual-constraints-step-3-14968feeaf87ffcfb733e6767264ecef.webp" width="1792" height="1200" class="img_ev3q"></p><p>And finally make both lines equal by clicking the first line and the second line and then pressing <strong>M</strong> to switch to the second contextual constraint option:</p><p><img loading="lazy" alt="Equal length lines" src="/assets/images/contextual-constraints-step-4-bd02c7fc09bd19b9a686943a532a89a4.webp" width="1792" height="1200" class="img_ev3q"></p><p>You can constrain this sketch further by clicking on an end point of one of the lines and setting a lock, all with the same Dimension option. Most importantly, all of the steps above are completed without needing to choose a different tool in the toolbar.</p><p>For cases, when you absolutely need to have quick access to individual constraint options (just like in v0.21 and earlier), you can continue using keyboard shortcuts or selecting those options in the drop-down list:</p><p><img loading="lazy" alt="Individual options" src="/assets/images/contextual-constraints-individual-options-eb9ba3a20823e766d2a23393a353714f.webp" width="1547" height="836" class="img_ev3q"></p><p><a href="https://github.com/FreeCAD/FreeCAD/pull/10463" target="_blank" rel="noopener noreferrer">Preserving that possibility</a> was one of the requests from users.</p><p>The new option also allows switching between complementary angles depending on the position of the mouse:</p><p><img loading="lazy" alt="Switching between complementary angles" src="/assets/images/contextual-constraints-complementary-angles-ab3f4c2bfba4f9f2062f4dafad2a28f0.gif" width="1792" height="1200" class="img_ev3q"></p><p>This implementation was possible thanks to active discussions both <a href="https://forum.freecad.org/viewtopic.php?style=4&amp;t=65521" target="_blank" rel="noopener noreferrer">on the forum</a> and in the issue tracker. More improvement is still possible.  Join us if you want to be part of making FreeCAD awesome and many thanks to users and contributors for their input!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/sketcher/">sketcher</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-fcc8fc80d63b5694ea2fe437ad10fbba.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/merge-meeting/">Live merge meetings: what we learned from merging 75 pull requests in 30 days</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-19T00:00:00.000Z" itemprop="datePublished">September 19, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/Rebecca-Dodd-profile.JPEG" alt="Rebecca Dodd"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rebecca Dodd</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Pull request rot is a quick way to turn off first-time and long-time contributors. The merge meeting is one way to get PRs moving again.</p><blockquote><p>“It isn’t just about the license, but the way that Hashicorp has maintained the Terraform project. … there are open issues and pull requests that just get ignored as Hashicorp clearly doesn’t see value in open source contributors.” – <a href="https://news.ycombinator.com/item?id=37135553" target="_blank" rel="noopener noreferrer">tedivm on Hacker News</a></p></blockquote><p>Tensions around the application of open source philosophy have been discussed a lot in recent weeks, and I want to touch on one of the objections to the recent <a href="https://news.ycombinator.com/item?id=37081306" target="_blank" rel="noopener noreferrer">Hashicorp news</a> here. We’ve talked about <a href="https://ondsel.com/blog/better-github-issues" target="_blank" rel="noopener noreferrer">stale issues</a> on this blog before, and we can see in the above quote that ignored issues and PRs do have a real impact on contributor motivation and sentiment towards a project. There are a lot of reasons why some PRs slip through the cracks, but there are things you can do to catch them.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-some-prs-fail-to-get-merged">Why some PRs fail to get merged<a href="#why-some-prs-fail-to-get-merged" class="hash-link" aria-label="Direct link to Why some PRs fail to get merged" title="Direct link to Why some PRs fail to get merged">​</a></h2><p>PRs can suffer death by neglect or by a thousand cuts. Maintainers that ignore PRs or let them get tangled up in dozens of comments (debating the right way to address a problem or implement a feature) can expect one-time or burned-out contributors, slower releases, and a lot of wasted effort on rebasing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-pr-is-too-large-to-effectively-review">The PR is too large to effectively review<a href="#the-pr-is-too-large-to-effectively-review" class="hash-link" aria-label="Direct link to The PR is too large to effectively review" title="Direct link to The PR is too large to effectively review">​</a></h3><p>PRs that do too many things or touch too much of the codebase at once pose a risk of unforeseen side effects. They’re just too unwieldy to review thoroughly (sometimes even <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#diff-limits" target="_blank" rel="noopener noreferrer">GitHub won’t render the entire diff in the PR</a>), so the reviewer doesn’t feel comfortable taking responsibility for merging.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-goals-of-the-pr-are-too-obscure">The goals of the PR are too obscure<a href="#the-goals-of-the-pr-are-too-obscure" class="hash-link" aria-label="Direct link to The goals of the PR are too obscure" title="Direct link to The goals of the PR are too obscure">​</a></h3><p>Some PRs don’t explain the original problem sufficiently for someone to be able to test their behavior. That’s one end of the spectrum—at the other, not everyone contributing to a project has the same use cases, goals, or needs. Once the project evolves beyond its initial purpose and scope, you can end up with PRs that touch or implement an obscure feature that maintainers don’t understand or feel confident in reviewing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="competing-solutions-exist">Competing solutions exist<a href="#competing-solutions-exist" class="hash-link" aria-label="Direct link to Competing solutions exist" title="Direct link to Competing solutions exist">​</a></h3><p>There are usually multiple ways to solve a problem. A PR that implements one solution can devolve into a debate about the merits of that approach over others, because no consensus on direction was reached ahead of time. Sometimes there is no precedent for the reviewer to fall back on, or they lack the institutional knowledge or context to make the call.</p><p>There’s a lot of overlap with our discussion of <a href="https://ondsel.com/blog/freecad-topological-naming/" target="_blank" rel="noopener noreferrer">why RealThunder’s branch with a topological naming fix for FreeCAD hasn’t been merged yet</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="solutions">Solutions<a href="#solutions" class="hash-link" aria-label="Direct link to Solutions" title="Direct link to Solutions">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bring-alignment-forward">Bring alignment forward<a href="#bring-alignment-forward" class="hash-link" aria-label="Direct link to Bring alignment forward" title="Direct link to Bring alignment forward">​</a></h3><p><a href="https://ondsel.com/blog/better-github-issues" target="_blank" rel="noopener noreferrer">Better issues</a> → better PRs. If you can find alignment (if not consensus) at the issue stage, you avoid a lot of the agonizing over philosophy and implementation in PRs. Documenting best practices and approaches in a project charter or requiring design documents upfront can help with alignment that preempts endless debate.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-realistic-expectations">Set realistic expectations<a href="#set-realistic-expectations" class="hash-link" aria-label="Direct link to Set realistic expectations" title="Direct link to Set realistic expectations">​</a></h3><p>Maintainers—even of small projects—need to communicate the expectations and process for successful contribution.</p><blockquote><p>“If you have no plans to maintain hobby code, you should discourage usage. Say it right up front:
‘TagTree is unsupported and not meant for use in a production Dart application, unless you&#x27;re willing to fork the code and fix any bugs you find yourself.’</p></blockquote><blockquote><p>Or if a project is widely used but difficult to contribute to, you should say so up front, like this:
‘Contributing code is one of the more difficult ways to contribute to Guava, and is almost never what the project really needs most <!-- -->[...]<!-- --> We know it&#x27;s tempting to submit code before the feature is accepted, but this is not always a good use of your time.’” - <a href="https://news.ycombinator.com/item?id=8713694" target="_blank" rel="noopener noreferrer">skybrian on Hacker News</a></p></blockquote><p>A <a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contributing policy</a> should, at the very least, tell contributors when to expect reviews and how to give their PR the best chance of getting merged.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reduce-the-burden-of-reviewing">Reduce the burden of reviewing<a href="#reduce-the-burden-of-reviewing" class="hash-link" aria-label="Direct link to Reduce the burden of reviewing" title="Direct link to Reduce the burden of reviewing">​</a></h3><p>You want reviewers to be able to focus on big-picture factors like the performance impact of a PR or alignment with project direction, not spending time on undifferentiated gruntwork. You can do this by ensuring you have extensive test coverage and automation wherever possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="communication">Communication<a href="#communication" class="hash-link" aria-label="Direct link to Communication" title="Direct link to Communication">​</a></h3><p>The PR (and related issue) is an act of communication. Both the contributor and the maintainers have a responsibility to communicate effectively.</p><p>Contributors should make very few assumptions about what the maintainers already know, and make it extremely easy to understand the context of the PR, the original problem, how the solution works, and any concerns.
Maintainers should ensure that communication is ongoing. Using bots to bump PRs for updates helps to remind reviewers that a PR is outstanding, but also reassures the PR author that it hasn’t been forgotten (<a href="https://github.com/GoogleCloudPlatform/magic-modules/pull/8671#issuecomment-1681197585" target="_blank" rel="noopener noreferrer">for example</a>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="progress-over-perfection">Progress over perfection<a href="#progress-over-perfection" class="hash-link" aria-label="Direct link to Progress over perfection" title="Direct link to Progress over perfection">​</a></h3><p>You can always iterate after merging. If you spend too much time trying to get the PR perfect, a new contributor may get discouraged and never come back.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-merge-meeting">The merge meeting<a href="#the-merge-meeting" class="hash-link" aria-label="Direct link to The merge meeting" title="Direct link to The merge meeting">​</a></h3><p>Even if you implement all of the above tactics successfully, sometimes knowing whether or not to merge a PR is hard. When people are uncertain, they will defer to others. Everyone can end up differing and nobody takes action.</p><p>To combat PR stagnation, FreeCAD has started having synchronous merge meetings including maintainers and contributors to discuss next steps on outstanding PRs. This live session is important and serves a number of purposes:</p><ul><li>Teasing out concerns and unspoken worry</li><li>Multiple contributors share the risk of merging a PR</li><li>Multiple perspectives put concerns into proper context</li><li>Multiple perspectives offer novel and productive outcomes</li></ul><p>Maintainers are referees in the meeting, making sure each contribution is evaluated according to the process. Did it start with an issue? Was there some consensus on the solution? Is the code passing CI?</p><p>We won’t hesitate to kick something back if a contributor blatantly ignores the process, but we try not to be militant and will merge good-faith contributions. Sometimes this means merging things we are (mildly) uncomfortable with because the contributor did everything by the book. When that happens, process says you merge.</p><p>What does this look like in practice?</p><ul><li>“Let’s ask <!-- -->[another contributor]<!-- --> for a code review, she knows about this module”</li><li>“This PR is really doing two different things. Let’s ask the author to split”</li><li>“This PR and that other one are in conflict. Let’s get those two people talking”</li><li>“This is low risk. Let’s merge it and see if anyone complains”</li><li>“This is a major feature and we’re close to a release. Let’s push this to the next milestone”</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="merge-meetings-help-us-move-faster-now-and-in-the-future">Merge meetings help us move faster now and in the future<a href="#merge-meetings-help-us-move-faster-now-and-in-the-future" class="hash-link" aria-label="Direct link to Merge meetings help us move faster now and in the future" title="Direct link to Merge meetings help us move faster now and in the future">​</a></h3><p>The value of these meetings is multifold. We clear a lot of our PR backlog quickly, avoiding the bystander effect that sometimes arises from having multiple reviewers assigned to a PR. We rely on early issues and the contributing policy to ‘push back’ on poorly implemented fixes and rushed code.</p><p>Apart from the immediate effects of getting more PRs merged faster, there are longer-term effects.</p><p>The merge meeting naturally encourages more discussion of milestone and release goals. We learn which maintainers have a ‘bigger picture’ of the project and community, and the ones who don’t get coaching by participating in the process. As you build consensus as a group, you expose and codify the implicit rules and standards that more experienced reviewers use in their assessment of PRs. By working together to agree on standards of what is acceptable, everyone builds their confidence.</p><p>The merge meeting is a good place for maintainers to learn:</p><ul><li>About the codebase</li><li>About the project’s policies and why they exist</li><li>To take appropriate risks</li><li>How to think about a contribution (maintainers learn from each other how to be better at evaluating code)</li><li>About the tools available in the platform</li></ul><p>It’s also a good place for contributors to learn about how merge decisions get made and to weigh in on others’ PRs (not just advocate for their own).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="join-us">Join us!<a href="#join-us" class="hash-link" aria-label="Direct link to Join us!" title="Direct link to Join us!">​</a></h2><p>The merge meetings are listed on <a href="https://www.freecad.org/events.php" target="_blank" rel="noopener noreferrer">FreeCAD community calendar</a> and are open to anyone.
Join the next merge meeting.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-55a9f2b2e4a19e0cd6b25a7a65e936ee.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/the-road-to-freecad-1-0-is-shorter-than-you-think/">The road to FreeCAD 1.0 is shorter than you think</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-05T00:00:00.000Z" itemprop="datePublished">September 5, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Historically, the duration of FreeCAD development cycles has been uneven, anywhere between a few months and 2+ years.</p><p><img loading="lazy" alt="Timeline of FreeCAD releases" src="/assets/images/release-timeline-a7119bd419c9407666e8f25caa72c935.webp" width="1161" height="76" class="img_ev3q"></p><p>We already talked about reasons and ways to make releases more predictable in <a href="https://ondsel.com/blog/freecad-unpredictable-release-schedule-hurts-users-and-developers" target="_blank" rel="noopener noreferrer">one of the recent posts</a>. But the truth is, this is a much older conversation that has been going on in the community for years now: at FOSDEM, in the forum, and in various other venues and social channels. The hackathon in Vancouver was a perfect opportunity for the developers community to set some boundaries for v1.0.</p><p>We ended up formalizing a list of <a href="https://freecad.github.io/DevelopersHandbook/roadmap/next.html" target="_blank" rel="noopener noreferrer">4 major items</a> for the v1.0 roadmap that we think are a must-have to constitute the next release. None of these items are big news, we’ve all known about them for a while: the complete topological naming fix, a default Assembly workbench, a new implementation of a materials system, and the first-run wizard.</p><p>So let’s cast a quick glance at these items and talk about respective challenges.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-toponaming-fix">The toponaming fix<a href="#the-toponaming-fix" class="hash-link" aria-label="Direct link to The toponaming fix" title="Direct link to The toponaming fix">​</a></h2><p>We’ve already discussed this topic in the past, the <a href="https://ondsel.com/blog/milestone-toponaming-fix-phase-2-done" target="_blank" rel="noopener noreferrer">latest post from July</a> covers the current state of affairs in detail. It looks like we’ve already done a very difficult part of this project. Further work is not going to be easy, but the foundation for the next phases of the fix is sound.</p><p>The team is now approaching the third phase of the fix (out of five), there’s an <a href="https://github.com/FreeCAD/FreeCAD/issues/8432#issuecomment-1676433915" target="_blank" rel="noopener noreferrer">initial plan available</a>. As the third phase is where FreeCAD actually starts using the new toponaming infrastructure, this will be a perfect opportunity for new contributors to get involved. The <a href="https://t.me/toponamingchat" target="_blank" rel="noopener noreferrer">dedicated Telegram chat</a> is the right place to start.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-default-assembly-workbench">The default Assembly workbench<a href="#the-default-assembly-workbench" class="hash-link" aria-label="Direct link to The default Assembly workbench" title="Direct link to The default Assembly workbench">​</a></h2><p>This is one of the more challenging items on the list of v1.0 deliverables. We think FreeCAD should have a capable assembly workbench and that really means two things:</p><ol><li>A workbench where the user configures the assembly, adding parts and establishing relationships between them.</li><li>A solver capable of resolving those relationships and moving the parts of the assembly appropriately.</li></ol><p>All that should be the default experience, no third-party add-ons.</p><p>Dr. Aik-Siong Koh, who is an employee at Ondsel, published the <a href="https://github.com/Ondsel-Development/OndselSolver" target="_blank" rel="noopener noreferrer">source code of his solver</a> during the hackathon. This will be one of the foundations of the coming Assembly workbench.</p><p>For the user-facing assembly workbench, a lot of work remains. One of the challenges will be coming up with a user interface and workflow that are both discoverable, straightforward, and expandable. It doesn’t need to cover every use case.  Remember that the existing assembly options are still viable and may serve different users well. Rather the integrated solution should strive to be robust, simple to use, consistent with the rest of FreeCAD, and an excellent platform for future expansion.</p><p>The main challenge here will be building a team similar to the one we have for the TNP fix — a mix of Ondsel employees, FreeCAD maintainers, and 3rd party contributors. This has proven to be a great balance between interested parties, and we want to replicate that success.</p><p>The project will be managed as a <a href="https://github.com/orgs/FreeCAD/projects/7/views/1" target="_blank" rel="noopener noreferrer">GitHub project in the FreeCAD organization</a>, with cards and issues.  Similarly to the toponaming project, we’ll work in small incremental pull requests and merge the changes directly to the master branch rather than wait until the workbench is fully functional. An initial barebone implementation has already been merged to the main development branch.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="materials">Materials<a href="#materials" class="hash-link" aria-label="Direct link to Materials" title="Direct link to Materials">​</a></h2><p>The existing materials system in FreeCAD is overly simplistic, all over the place, and doesn’t even scratch the surface of what users really need it to do. So the program absolutely needs a solid foundation.</p><p>Earlier this year, we posted an <a href="https://ondsel.com/blog/freecad-needs-a-better-materials-system/" target="_blank" rel="noopener noreferrer">implementation proposal</a> for a new materials system written in collaboration with Dave Carter who volunteered to actually do the work. Dave is, in fact, knee-deep in that project and has made a lot of progress (the branch with his code is <a href="https://github.com/davesrocketshop/FreeCAD/tree/post_21" target="_blank" rel="noopener noreferrer">public</a>). Moreover, users have been <a href="https://forum.freecad.org/viewtopic.php?t=78242" target="_blank" rel="noopener noreferrer">very supportive</a> of his effort.</p><p><img loading="lazy" alt="Editor for new material cards" src="/assets/images/materials-new-cards-editor-b1bae2dd4b5c40eea6bc33c2082c6ca8.webp" width="837" height="574" class="img_ev3q"></p><p>The first pull request <a href="https://github.com/FreeCAD/FreeCAD/pull/10368" target="_blank" rel="noopener noreferrer">has already been filed</a> and is undergoing review. Further plan with materials is to apply the toponaming development model: break all further work down into small pieces, so that any developer could be part of that effort. Once the initial patch has been merged and further work has been decomposed into small items, more developers can join the effort. All further work will be done in pull requests. This will make it possible to deliver the minimum viable implementation in time for v1.0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-run-wizard">First-run wizard<a href="#first-run-wizard" class="hash-link" aria-label="Direct link to First-run wizard" title="Direct link to First-run wizard">​</a></h2><p>FreeCAD has a difficult learning curve. Improving the initial user experiences is a topic that resurfaces regularly. We even covered that in a recent blog post. Here is the gist of the issue.</p><p>First of all, people can’t really agree on the scope of the first-run wizard. There are literally dozens of settings that users requested to be editable when you run the program for the first time. But when you dig deeper into the reasoning, several things become obvious.</p><p>First there are configuration settings for which a single default will never suffice. Language and the unit system are the two that come to mind.</p><p>Some configuration options appear to be personal preference but might also have more significant usability implications. For example themes and colors are personal preference, but they become extremely important if you suffer from color deficiency.  Users will never agree with each other about that, so those have to be easily configurable. </p><p>Other things that people want to configure should probably be solved in other ways. A great example of this is configuring which workbenches are available and active for a new user.
Should the system present a bewildering array of workbenches to a new user or should it hide potentially useful tools in an effort to be streamlined? Reasonable people disagree. In this case, the right answer might be to improve the Start workbench. This would provide a fast track to the workbench based on that task that they need to accomplish. Initial mockup was created and then turned into a <a href="https://github.com/FreeCAD/FreeCAD/pull/10171" target="_blank" rel="noopener noreferrer">pull request</a> by Qewer during the hackathon. This patch has already been accepted and will be part of v1.0.</p><p><img loading="lazy" alt="Updated start screen" src="/assets/images/updated-start-screen-43314754a338a6b5419904668bee5343.webp" width="2560" height="1440" class="img_ev3q"></p><p>On yet another level, this is a conversation about terminology. A much-discussed example here is the distinction between Part and PartDesign — users inevitably learn to understand the difference, but they are off to a rocky start, and there are some technical issues to take care of on the developers’ part.</p><p>Hence the plan is to come up with a minimal implementation of the first-run wizard, one that would deal with things that users are split over regardless of how sensible defaults are, and then see take a holistic approach to dealing with the rest.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="and-now-the-fun-part-can-we-get-v10-out-by-fosdem-2024">And now the fun part: can we get v1.0 out by FOSDEM 2024?<a href="#and-now-the-fun-part-can-we-get-v10-out-by-fosdem-2024" class="hash-link" aria-label="Direct link to And now the fun part: can we get v1.0 out by FOSDEM 2024?" title="Direct link to And now the fun part: can we get v1.0 out by FOSDEM 2024?">​</a></h2><p>We think that these goals are within reach and it should be possible to release FreeCAD 1.0 in time for the next FOSDEM. Here’s our thinking behind this goal.</p><p>The TNP fix and the new Materials system are at the stage where the nature and the amount of work yet to be done are fairly predictable, and a large part of the heavy-lifting has already been done.</p><p>The initial Assembly workbench will be a challenging project, but now that we have a solver, we can start working on designing UX/UI around common use cases.</p><p>The design and the implementation of the first-run wizard itself would be a minor development effort, and there are people in the community who already spent a considerable amount of time creating mockups and even writing code. The challenging part will be taking a holistic approach to dealing with configuration and improving initial user experience, but we can make this effort span across multiple releases, there is so much to improve anyway.</p><p>To reiterate, v1.0 will definitely have changes apart from these 4 items. What we are aiming for is to start making development more predictable. Gaining some focus will help the team with both planning their work and managing expectations of FreeCAD users.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-937b8ceecfc87f17e3d9a3e5d92f2482.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-needs-a-first-run-wizard/">FreeCAD needs a first-run wizard, but nobody knows what it should do</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-08-27T00:00:00.000Z" itemprop="datePublished">August 27, 2023</time> · <!-- -->13 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>FreeCAD is commonly criticized for being difficult to get started with. </p><p><img loading="lazy" alt="Quote 1" src="/assets/images/quote1-62e8e4811650f6e6373d08f546f83e18.webp" width="1421" height="199" class="img_ev3q"></p><p><img loading="lazy" alt="Quote 2" src="/assets/images/quote2-9bdfb35d09fdf1d321bb9843df2bbe1f.webp" width="1421" height="199" class="img_ev3q"></p><p>This criticism, while possibly overstated, is valid.</p><ul><li>Features get more development attention and the UX/UI design is usually an afterthought and “anything goes”. As a result, there’s not much consistency across the program.</li><li>The learning curve for modern CAD systems is a wall. There is even occasionally pushback against simplifying UX, because “CAD programs are <em>supposed</em> to be difficult and take a lot of time to learn&quot;. Effort to improve UI is seen as &quot;dumbing it down”.</li><li>The program is trying to be many things at once: a 2D drafting program, a 3D design program, an Arch/BIM program, a CNC program, a structural analysis program — and that’s just a subset of workbenches available by default. All the while not much thought has been given to help users navigate the options when they see it for the first time, or customize FreeCAD for their use cases.</li><li>Terminology used in the program is inconsistent and confusing. Part vs PartDesign is one of the recurring topics in the community. But also “path” could mean a toolpath, a sweep path, or a file path depending on where in the program the word is used. These are just a couple examples.</li></ul><p>For a long time there have been calls for a first-run wizard (FRW) as the way to fix some of these problems. If you are not familiar with the concept, the idea behind FRW is a feature that runs the first time a user launches a program and helps orient the user to the software by allowing them to choose how the program will look and behave or by onboarding them in other ways.</p><p>While investigating this feature request, we looked into what other programs have to offer, and our conclusion is that while something is needed, this request is problematic and the specific solution has poor consensus.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-wrong-with-the-feature-request">What’s wrong with the feature request?<a href="#whats-wrong-with-the-feature-request" class="hash-link" aria-label="Direct link to What’s wrong with the feature request?" title="Direct link to What’s wrong with the feature request?">​</a></h2><p>First and foremost, the <a href="https://github.com/FreeCAD/FreeCAD/issues/5772" target="_blank" rel="noopener noreferrer">issue</a> is poorly defined. This issue predates the current contributing policy, it doesn’t start by identifying the problem but jumps immediately to the solution. People have seen similar solutions in other applications and have an intuition about them. But the notion of a first-run wizard brings different ideas to mind. In fact, our research showed that these tools are employed to address at least three different problems:</p><ul><li>User preferences make a big difference to usability but the settings are difficult to find or scattered in many places.</li><li>The optimum configuration of the software varies depending on the specific task the user is undertaking.</li><li>Important features are occasionally overlooked by users leading to frustration and increased support demand on the forum.</li></ul><p>These are three very different problems and their solutions are unlikely to be the same thing. It makes sense to address them independently.</p><p>Even if we narrow the focus and assume the feature request is only about customizing the software for the user’s needs, we still have a challenge. Consider this bewildering list of things that people have suggested should be configurable when you first run FreeCAD. We call it The Problematic Wishlist:</p><ul><li>Simple vs advanced layout (e.g. don’t show FEM workbench to a newbie, show less buttons in toolbars etc.)</li><li>Which workbenches (WBs) should be visible in the UI, with presets (Mechanical CAD, Arch/BIM etc.)</li><li>What WB is selected on startup</li><li>UI language</li><li>Units and unit schemes</li><li>Theme (dark/light/classic)</li><li>Enabling/disabling Treeview Glass theme</li><li>Icon theme</li><li>Highlight color</li><li>Icon size</li><li>Font size</li><li>Viewport background color</li><li>Navigation style</li><li>Enabling/disabling warnings in weekly builds</li><li>Enabling/disabling “What’s This?” button</li><li>Monitor aspect ratio selection for optimized layouts</li><li>Panel layout options</li><li>Default file storage location</li><li>Autosave and backup policy</li><li>Authoring and license info</li></ul><p>While it may be technically possible to implement all this in a first-run wizard,  it would be a perfect example of creating a bigger problem by trying to fix a smaller one.  It would be overwhelming to the user trying to get started and would complicate development since configuration would have to be maintained in both the FRW and the system preferences.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-other-programs-do">What other programs do<a href="#what-other-programs-do" class="hash-link" aria-label="Direct link to What other programs do" title="Direct link to What other programs do">​</a></h2><p>As part of the research phase, we looked at what other programs offer in terms of customizing UX the first time you run a program. The question we asked was just this: do other teams solve the same issues by offering a first-run wizard or do they do something else?</p><p>We started with CAD programs and then moved to other kinds of applications (3D modeling, image editing, vector graphics editing, audio production). Basically, any sophisticated program with lots of configuration options, aimed at professionals and designed for multiple use cases is worth looking at.</p><p>Right off the bat, among non-FOSS <strong>CAD</strong> packages, only BricsCAD provides something that vaguely approaches a first-run wizard. Every time you launch the program, a dialog asks what kind of work the user wants to do: 2D drafting, 3D modeling, mechanical design, or BIM. The same launcher window also asks whether the user wants metric or imperial units. And this is it. </p><p><img loading="lazy" alt="Start screen in BricsCAD" src="/assets/images/bricscad-start-screen-7fab41fb6de424cef5f34bb217272b6b.webp" width="1420" height="946" class="img_ev3q"></p><p>But you don’t even need a dialog for that. Multiple programs provide a simple choice over the type of project you create. In some cases, it’s just a drop-down list of project types or a library of templates.</p><p>The only two programs that do have a first-run wizard are FOSS programs. LibreCAD asks for the default unit, GUI language, and command language. QCad asks for GUI language, default unit, default paper size, decimal point, and background color (black or white). Not too surprising, as the former is a fork of the latter.</p><p><img loading="lazy" alt="First-run wizard in LibreCAD" src="/assets/images/librecad-frw-3615f4974dfd0420b3b3bb9927b8051a.webp" width="1102" height="484" class="img_ev3q"></p><p>The situation is pretty much the same across other industries we looked at.</p><p>Blender seems to be the only major <strong>3D modeling</strong> package that has a first-run wizard. You can set UI language, shortcuts preset, right-click vs left-click for selection, spacebar behavior, UI theme.</p><p><img loading="lazy" alt="First-run wizard in Blender" src="/assets/images/blender-frw-82c25b3c77508dffe5df53091f099492.webp" width="884" height="825" class="img_ev3q"></p><p>None of the big boys in <strong>image editing</strong>, like Adobe Photoshop and Affinity Photo, have a first-run wizard. Ironically, GIMP is the program that used to have one, got rid of it, but is likely to have one again. In short, the original wizard asked questions that could be automatically detected from various system settings, and users found it annoying. But then developers made changes to defaults (enforced default dark theme and symbolic/colorless icons, as well as grouped tool icons in the toolbar), and that, too, annoyed half the user base. So they want to reintroduce the first-run wizard at some point in the future.</p><p>Similarly, Inkscape seems to be the only <strong>vector graphics</strong> program with a first-run wizard: you can choose canvas look (transparent checkerboard, white opaque etc.), shortcuts theme, icons theme, dark vs system UI theme.</p><p><img loading="lazy" alt="First-run wizard in Inkscape" src="/assets/images/inkscape-frw-7f8a721255348eae90c578fa4febd3d3.webp" width="1403" height="1333" class="img_ev3q"></p><p>Among proprietary <strong>digital audio workstations</strong> Cubase seems to be the only one that bothers users with questions, and even that during installation when you need to select a preferred audio interface. Once again, a FOSS program is an exception: the first time you run Ardour, a wizard asks for GUI and font scaling and the default folder for new sessions. The first part of that, however, is a toolkit limitation. Ardour still uses GTK2 for some part of its UI, and GTK2 is notoriously oblivious of HiDPI displays.</p><p><img loading="lazy" alt="First-run wizard in Ardour" src="/assets/images/ardour-frw-681f780085b156b00152d296962d0466.webp" width="760" height="542" class="img_ev3q"></p><p>Across many industries, developers recognize that learning to use their software efficiently takes time, so they build links to training materials into the user interface. This is something FOSS developers are beginning to do, too. For example, MuseScore has links to educational videos on YouTube, and FreeCAD has links to the wiki.</p><p><img loading="lazy" alt="Learning center in MuseScore" src="/assets/images/musescore-learning-center-76599ccbe989c6d526f0472515bbad3e.webp" width="2560" height="1440" class="img_ev3q"></p><p>So what did we learn from this?</p><ul><li><strong>Very few programs actually provide a first-run wizard.</strong> Proprietary programs typically enforce a certain choice of defaults even for controversial things like the look and feel, but, to their credit, usually make it rather easy to customize certain things.</li><li><strong>There are obvious polarizing topics.</strong> Some of the defaults are things that users just can’t stop arguing about. This is exactly what first-run wizards in FOSS programs like Blender and Inkscape focus on.</li><li><strong>Measure units surprisingly do not cause all that much controversy.</strong> Figuring out the right units from locale settings is perfectly doable, so it’s possible that this is why very few CAD programs even bother exposing those when you run them the first time or create a new project. Typically, there is a global configuration that applies to new projects and a simple way to override it on a per-project basis (an unfinished patch for the latter <a href="https://github.com/FreeCAD/FreeCAD/pull/9521" target="_blank" rel="noopener noreferrer">exists</a> for FreeCAD).</li><li><strong>There’s usually a very obvious way to get to the right tools.</strong> Applications like Inventor make it very easy to create a 2D design or a 3D model. Usually, it’s just one or two clicks away, and the UI for that is in a very obvious place.</li><li><strong>CAD programs usually have a learning center for newly arrived users.</strong> This is something FreeCAD already does, but there are ways to improve it. A topic for another day.</li></ul><p><img loading="lazy" alt="Learning center in Autocad LT" src="/assets/images/autocad-lt-learning-center-01cdd9a60a51c2e7812d8769545c5c43.webp" width="2560" height="1440" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="our-proposal">Our proposal<a href="#our-proposal" class="hash-link" aria-label="Direct link to Our proposal" title="Direct link to Our proposal">​</a></h2><p>Based on our findings, we think it’s best to attack the issue of suboptimal first user experience from three angles: minimal first-run wizard, better defaults, and continuous UX/UI improvement.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimal-first-run-wizard">Minimal first-run wizard<a href="#minimal-first-run-wizard" class="hash-link" aria-label="Direct link to Minimal first-run wizard" title="Direct link to Minimal first-run wizard">​</a></h3><p>Let’s learn from the experience of other projects. Right-click selection in Blender was a huge annoyance for new users right up to the point where left-click selection was finally implemented and the first-run wizard started offering the choice between the two options. The lesson here is that there will always be things that users are split over, we are not going to change everyone’s mind, ever.</p><p>Therefore the first part of the solution is to build a minimalistic first-run wizard that will cover just that: visual style, navigation style, units, GUI language. We can further refine the wizard based on feedback from users. Designing and implementing the dialog is not too complicated, and there have been several approaches to do so already.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="better-defaults">Better defaults<a href="#better-defaults" class="hash-link" aria-label="Direct link to Better defaults" title="Direct link to Better defaults">​</a></h3><p>Certain things on the wishlist above could absolutely be better defaults. For example, we can enable backups by default and set a sensible number of versions to be saved.</p><p>The tricky part here is coming up with a definition of what constitutes a sensible default. This is something we will have to further explore.</p><p>In our experience, it’s useful to keep each conversation about defaults narrowly focused. For example, we’ve already had a lively if slightly heated discussion over disabling some of the workbenches in the workbench selector by default. Breaking that conversation into several dedicated GitHub issues has helped to keep the discussion productive, so now there is a <a href="https://github.com/orgs/FreeCAD/projects/16" target="_blank" rel="noopener noreferrer">GitHub project</a> for cleaning up the workbench selector.</p><p>This task of making good defaults will likely never be 100% completed as FreeCAD keeps changing. So we should treat it as a continuous effort.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-uxui-improvement">Continuous UX/UI improvement<a href="#continuous-uxui-improvement" class="hash-link" aria-label="Direct link to Continuous UX/UI improvement" title="Direct link to Continuous UX/UI improvement">​</a></h3><p>This last part of the solution is a lot more interesting. Let’s analyze the rest and see how we can improve the UX/UI to deliver a better initial user experience and maybe remove the need for configuring certain things when users run the program for the first time.</p><p>Here is an example. One of the ideas for the first-run wizard is to allow users to configure what workbenches they want visible by default. To reiterate, someone who, for all we know, is probably looking at the program for the first time, is supposed to somehow guess what workbenches they actually need without having ever used them. That doesn’t sound like a very likely scenario.</p><p>And then some experienced users could have different uses for the program. You can be an architect who needs Draft, Arch/BIM, and just a few more WBs. But you also tinker with stuff in your spare time, so PartDesign and Path are no strangers to you.</p><p>Basically, FreeCAD needs to adapt the UI based on context. There are several established approaches to deal with that. Named workspaces is one of them. But another approach is to improve the start screen. If you create an architectural project, you automatically get a certain set of workbenches available to you. You can further refine that selection, if you want to, but the default user experience will already be streamlined for you to a large extent based on the type of a project you create.</p><p>The first step towards that has already been done. Thanks to <a href="https://github.com/FreeCAD/FreeCAD/pull/10171" target="_blank" rel="noopener noreferrer">Qewer</a>, v1.0 will be coming with an update start screen listing several typical new projects that are basically a fast track to a particular workbench.</p><p><img loading="lazy" alt="New start page in FreeCAD" src="/assets/images/freecad-new-start-page-8504802fe5942707cae5aaa1488034ec.webp" width="2560" height="1440" class="img_ev3q"></p><p>The full implementation of that would eliminate two items from the wishlist: 1) what WBs should be visible in the UI, and 2) what WB is selected on startup.</p><p>This kind of a holistic approach to designing UX/UI should serve the project much better than what we have had so far. We also don’t have to deliver the full UX/UI redesign of FreeCAD for v1.0, this kind of refinement can go on for as many development cycles as we can handle.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What’s next<a href="#whats-next" class="hash-link" aria-label="Direct link to What’s next" title="Direct link to What’s next">​</a></h2><p>Improving the user’s initial experience of FreeCAD is not a single work effort.  There has been good work done in this area already including an <a href="https://github.com/FreeCAD/FreeCAD/issues/5772" target="_blank" rel="noopener noreferrer">ongoing discussion</a> about the first-run wizard in the issue tracker, but discrete, solvable issues need to be extracted from that and solutions built for each of them.</p><p>The first issue to address is the narrowly defined set of configuration options  which users routinely disagree about: language, units, navigation style, and theme.</p><p>Tailoring the application to the task should be addressed by improving the start page and providing better defaults whenever possible.  As noted above, some work has already been done.</p><p>That leaves the more subjective work of explicitly educating the user about FreeCAD conventions, UI tools, shortcuts, and the general UX/UI improvements.   Both of these need more research and feedback from the community. This is an area where we need better and more actionable data from community power users and moderators about where users are confused.</p><p>There will likely be a GitHub project focusing on UX/UI cleanup. Stay tuned for more news on that.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-bef339104e38cfa01f647679864147bb.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/archeologists-will-study-the-bones-of-your-pull-request/">Someday an archeologist will study the bones of your pull request</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-08-10T00:00:00.000Z" itemprop="datePublished">August 10, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/Rebecca-Dodd-profile.JPEG" alt="Rebecca Dodd"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.thebasementoffice.co.uk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rebecca Dodd</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-we-see-a-lot-of-first-time-contributors-to-the-path-workbench">Why do we see a lot of first-time contributors to the Path Workbench?<a href="#why-do-we-see-a-lot-of-first-time-contributors-to-the-path-workbench" class="hash-link" aria-label="Direct link to Why do we see a lot of first-time contributors to the Path Workbench?" title="Direct link to Why do we see a lot of first-time contributors to the Path Workbench?">​</a></h2><p>Besides working on <a href="https://ondsel.com/" target="_blank" rel="noopener noreferrer">Ondsel</a>, I mostly work on the <a href="https://wiki.freecad.org/Path_Workbench" target="_blank" rel="noopener noreferrer">Path Workbench</a>. Path has a unique user base made up of hobbyists and machinists. These people are using Path to generate G-code for the CNC machines and the code almost always has to be tailored for a specific machine. Once you’ve edited the G-code once or twice, it’s natural to want to customize your postprocessor and that means editing a little Python code. Occasionally, one step leads to another and the user wants to contribute their changes ‘upstream’ so they can be used by others. It’s a common story and is, in fact, exactly how I got involved in open-source development.</p><p>As a maintainer of FreeCAD, I’ve spoken to lots of first-time contributors. I generally coach them through the PR process rather than doing it for them. Once they get a PR merged, they get a real thrill from it. It feels good to contribute something to a project.</p><p>Open-source projects are always encouraging users to step up and become contributors. Getting a contribution merged as an amateur or hobbyist is no small feat, and yet we rarely take the time to acknowledge and celebrate when this happens.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="you-pay-time-for-free-software">You pay time for free software<a href="#you-pay-time-for-free-software" class="hash-link" aria-label="Direct link to You pay time for free software" title="Direct link to You pay time for free software">​</a></h2><blockquote><p>“I sometimes have the feeling that far too much work went into explaining things to people who did not want to learn FreeCAD, but who wanted to have FreeCAD be like their favourite CAD system, which they were not willing to pay for.”—<a href="https://forum.freecad.org/viewtopic.php?p=577071#p577071" target="_blank" rel="noopener noreferrer">chrisb on the FreeCAD forum</a></p></blockquote><p>FreeCAD is not just a free to use version of your preferred CAD system. By choosing open source, especially younger projects, you accept that the product or tool may not be fully formed yet.</p><p>The experience of using an open-source alternative like FreeCAD vs. a proprietary product can be frustrating. The common objections are the absence of a slick and intuitive UI, and missing documentation. The nature of open-source projects is that they aren’t optimized for attracting new users:</p><blockquote><p>“FreeCAD has no goal of market penetration or profit, nor of training neophytes. FreeCAD has always been a sandbox. What the user sees is the current culmination of sandcastles people have built over the years. It is organic, so the sand castles aren’t necessarily designed to be completely stand alone … There is no holistic design or guidance...it is organic. Many see this as something built on a shifting base, but, somehow thousands of people around the world manage to get things done.</p><p>For better or worse, there are no bounds on what or how the sandcastles are built. It takes some time and effort to learn how to navigate the sandcastles, and in some cases the moats around them. Some are willing to put in this effort, others chafe, for many reasons.”—<a href="https://forum.freecad.org/viewtopic.php?p=577121#p577121" target="_blank" rel="noopener noreferrer">drmacro on the FreeCAD forum</a></p></blockquote><p>When you get software for free, you pay in effort and time instead. What do you get by making that trade? Whether you’re a hobbyist creator or trying to adopt FreeCAD for your workplace, the greater benefits of FreeCAD include:</p><ul><li>Not being <a href="https://ondsel.com/blog/freecad-adoption" target="_blank" rel="noopener noreferrer">locked into a subscription</a> model from a capricious vendor</li><li>Complete transparency to both inspect the code and see the roadmap for future developments</li><li>You can work on your local machine instead of being tied to a web application</li><li><em>You can influence the product</em> </li></ul><p>You can have an impact on the velocity and trajectory of the project. The inconvenience of an immature feature set or lack of finesse might be uncomfortable at first, but the things you create with FreeCAD are yours, forever. Beyond the practical and tangible benefits, you also might get:</p><ul><li>A sense of ownership</li><li>A sense of accomplishment</li><li>Your name written into the Git history of the project</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributing-to-open-source-isnt-easy">Contributing to open source isn’t easy<a href="#contributing-to-open-source-isnt-easy" class="hash-link" aria-label="Direct link to Contributing to open source isn’t easy" title="Direct link to Contributing to open source isn’t easy">​</a></h2><p>It’s not my intention to downplay the effort required. Contributing to open source and shaping the direction of a project can be fun and rewarding, but it’s also difficult and <a href="https://ondsel.com/blog/contribution-barriers" target="_blank" rel="noopener noreferrer">can be intimidating for newcomers</a>. A lot of open-source contributors are professional, formally trained developers. As an amateur or hobbyist, contributing is both technically challenging and a feat in overcoming imposter syndrome. </p><p>It takes courage to propose changes and improvements, especially to code contributed by people who do it for a living. Nobody wants to be shot down and told to go fork the project. We’ve discussed <a href="https://ondsel.com/blog/better-github-issues" target="_blank" rel="noopener noreferrer">the responsibility of project maintainers in fostering a more welcoming environment</a> on this blog before, and there’s an equal responsibility on the contributors to be humble and receptive to feedback. </p><p>Still, I have seen firsthand <a href="https://news.ycombinator.com/item?id=24514839" target="_blank" rel="noopener noreferrer">how meaningful and satisfying it is for newcomers to get their contributions merged</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="come-to-solve-your-own-problems-stay-for-the-legacy">Come to solve your own problems, stay for the legacy<a href="#come-to-solve-your-own-problems-stay-for-the-legacy" class="hash-link" aria-label="Direct link to Come to solve your own problems, stay for the legacy" title="Direct link to Come to solve your own problems, stay for the legacy">​</a></h2><p>For people used to working with proprietary software and hardware, it’s novel to be able to contribute a solution to a problem you’re having, and also make that solution available to others. Beyond the immediate dopamine hit of getting your fix merged for you and other FreeCAD users to enjoy, there’s a lasting impact. </p><p>For most of human history, when people worked together to build something, they had to be in the same place at the same time. They <a href="https://historycollection.com/not-average-neighborhood-graffiti-12-mysterious-graffiti-works-history-mean/9/" target="_blank" rel="noopener noreferrer">left behind</a> <a href="https://en.wikipedia.org/wiki/Adventure_(1980_video_game)#Easter_egg" target="_blank" rel="noopener noreferrer">traces of their work</a> and archeologists study those traces to understand what life was like. We’re in the very earliest days of remote collaborative work—where hundreds or thousands of people contribute to creating something. They span cultures, languages, time, and place.</p><p>The nature of the Git repo is that the commit history is permanent and there’s a million copies of it. We’ve only been working on software like this for a few decades and with the millions of copies, some of them are likely to survive for a very, VERY long time.</p><p>In the far distant future, the equivalent of archeologists will sift through old data to reconstruct the history of what happened in the past. Just like <a href="https://en.wikipedia.org/wiki/Garbology" target="_blank" rel="noopener noreferrer">William Rathje studies modern garbage</a>, someone will eventually get the idea to systematically study Git histories to understand the culture of distributed work and collaborative software development.</p><p>Our contributions may be more timeless than we realize.</p><p><img loading="lazy" alt="Laptop with Stickers" src="/assets/images/laptopstickers-d49faf5314671ebbd674ecc03552cc8c.jpg" width="1274" height="834" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="addendum-heres-something-i-would-love-to-see">Addendum: Here’s something I would love to see...<a href="#addendum-heres-something-i-would-love-to-see" class="hash-link" aria-label="Direct link to Addendum: Here’s something I would love to see..." title="Direct link to Addendum: Here’s something I would love to see...">​</a></h2><p>If there’s anyone from GitHub or GitLab reading, you could make it easier for open-source projects to reward contributors. As a maintainer of FreeCAD I would love to be able to push a button and send a coupon to a first-time contributor. They could redeem the coupon for a sticker with the FreeCAD (Ondsel) logo. This sticker wouldn’t be available to just anyone. Nope. The only way to get one is to contribute to the project. It’s special.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-ca3c9934d2cbae907ba97727c52b000e.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-021-is-a-major-milestone-for-the-community/">FreeCAD version 0.21 is a major milestone for the community</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-08-02T00:00:00.000Z" itemprop="datePublished">August 2, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>FreeCAD 0.21 has just been released with numerous new features and improvements. Some of the Ondsel team members have been regular contributors to FreeCAD for many years, but this is the first time we participated in a development cycle as a commercial entity. Let’s take this opportunity to step back and reflect on it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="working-with-the-freecad-community">Working with the FreeCAD community<a href="#working-with-the-freecad-community" class="hash-link" aria-label="Direct link to Working with the FreeCAD community" title="Direct link to Working with the FreeCAD community">​</a></h2><p>We’ve known people who are active in the community for many years, and our interactions have been great for the most part. But at the back of our minds there was this nagging thought: can we keep it that way as a company?</p><p><img loading="lazy" alt="Jedi PR merging" src="/assets/images/sw-meme-dc45ba5e15e664a34fc773b599e5a8a0.webp" width="500" height="500" class="img_ev3q"></p><p>Now that we’ve had this (however short) run with 0.21 development and release, it looks like the answer is a very definite ‘yes’. The user community has been nothing short of awesome. The maintainers have been professional, supportive and responsive, same as usual.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concerns-and-response">Concerns and Response<a href="#concerns-and-response" class="hash-link" aria-label="Direct link to Concerns and Response" title="Direct link to Concerns and Response">​</a></h2><p>As a commercial company, our biggest concern was predictability in the development process.  We wanted to know … <em>needed</em> to know… that effort we spend on development wouldn’t be wasted. We also had to have some assurance that releases would happen in time to support our corporate goals. </p><p>Early on, we raised our concern that the development methodology was too unpredictable.  It wasn’t clear which pull requests would be accepted or even who would make the decision. Pull requests would often get stuck in limbo or even denied after significant work was done. For a new startup, the risk of that happening was too great. The core developers and maintainers responded by implementing a <a href="https://github.com/FreeCAD/FreeCAD/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">clear policy for contributing</a> to the FreeCAD source and defined how those contributions would be handled.</p><p>Another major concern was how dependent the project had become on individual expertise.  Many important things were not documented and only lived in the minds of key people. In some cases only a few people knew how to do key tasks, and losing those people from the project was a major risk. The community agreed, and that’s one of the reasons we are heavily invested in building the <a href="https://freecad.github.io/DevelopersHandbook/" target="_blank" rel="noopener noreferrer">Developer’s Handbook</a> in collaboration with Chris Hennes, WandererFan, and other FreeCAD contributors and members of the <a href="https://fpa.freecad.org/" target="_blank" rel="noopener noreferrer">FreeCAD Project Association</a>.</p><blockquote><p>I think as a team we made tremendous strides during the 0.21 cycle, particularly in formalizing the role of a maintainer and setting clearer expectations about what maintainers are responsible for. The creation of the Developer Handbook was a major step forward for all of us, as was the creation of CONTRIBUTING.md. We still have more work to do actually implementing the ideals in those documents, but at least having the goals written down is a big step forward. — Chris Hennes, FreeCAD maintainer, the FPA board member and founder</p></blockquote><p>Implementing the policies and starting the handbook helped, but even with the best intentions and tools, development is <em>hard</em>. The FreeCAD project has a lot of contributors, just keeping track of the release, issues, and pull requests was taxing everyone.  </p><p>We started investigating the functionality GitHub provides to manage <a href="https://docs.github.com/en/issues/planning-and-tracking-with-projects/learning-about-projects/about-projects" target="_blank" rel="noopener noreferrer">projects</a> and <a href="https://docs.github.com/en/discussions" target="_blank" rel="noopener noreferrer">discussions</a>.  We used this first for the <a href="https://github.com/orgs/FreeCAD/projects/2" target="_blank" rel="noopener noreferrer">toponaming project</a> and then, with the addition of Milestones, we started the <a href="https://github.com/orgs/FreeCAD/projects/4" target="_blank" rel="noopener noreferrer">Release Dashboard</a> to give everyone a clear picture of where we are on the current release.</p><p><img loading="lazy" alt="1.0 release dashboard on GitHub" src="/assets/images/release-dashboard-4f81a69a64acfb23b460a85e1896ac30.webp" width="2687" height="1157" class="img_ev3q"></p><p>The dashboard is helping to focus attention but PRs still sit too long.  Even with clear accountability for maintainers, it is often difficult to know if a given PR <em>should</em> be merged. Nobody is expert on everything, and merge decisions often come with a certain amount of risk. Lately the maintainers have started addressing this by reviewing the outstanding PR queue as a group in live meetings. Individual PRs are discussed and decisions made in realtime. Often PRs get merged immediately. Others get flagged for followup or moved to a later milestone. The decision about how to proceed is shared with many people contributing wisdom.  </p><blockquote><p>Now we have a much, much clearer, predictable, foreseeable and transparent process that can be (and has been) undertaken by more people. This is a very important step towards having more regular releases in the future. — Yorik Van Havre, Arch and BIM maintainer, the FPA chairperson and founder</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-freecad-truly-needs-is-a-shared-vision">What FreeCAD truly needs is… a shared vision<a href="#what-freecad-truly-needs-is-a-shared-vision" class="hash-link" aria-label="Direct link to What FreeCAD truly needs is… a shared vision" title="Direct link to What FreeCAD truly needs is… a shared vision">​</a></h2><p>FreeCAD development still has its challenges. We still don’t have broad consensus on where the application goes from here. Since its beginning, the project has proceeded forward with developers working on whichever features they were interested in. That’s part of the appeal of an open-source project, and we hope it never changes. A clear roadmap, however, would give some structure and help avoid conflict. There are some humble beginnings of a <a href="https://freecad.github.io/DevelopersHandbook/roadmap/" target="_blank" rel="noopener noreferrer">roadmap</a>, but it still needs further work.</p><p>Lots of discussion happened during the 0.21 development cycle that helped clarify the road to v1.0. Some of these topics we’ve already written about extensively on this blog, including <a href="https://ondsel.com/blog/default-assembly-workbench-7/" target="_blank" rel="noopener noreferrer">assembly</a> and <a href="https://ondsel.com/blog/freecad-needs-a-better-materials-system/" target="_blank" rel="noopener noreferrer">materials</a>. Other ideas, like a first-run wizard, have gotten some preliminary attention but need more planning and discussion. We are looking forward to the upcoming hackathon in Vancouver as an opportunity to further refine the roadmap.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wins-and-challenges-for-the-entire-freecad-team">Wins and challenges for the entire FreeCAD team<a href="#wins-and-challenges-for-the-entire-freecad-team" class="hash-link" aria-label="Direct link to Wins and challenges for the entire FreeCAD team" title="Direct link to Wins and challenges for the entire FreeCAD team">​</a></h2><p><strong>The FreeCAD community is getting bigger and more spread-out.</strong> We now have a wide range of experts on many topics, which is great for a better understanding of problems users have and thus finding better solutions. At the same time, it’s now harder to get consensus and to get the word out about initiatives.</p><blockquote><p>There were several high points for me in 0.21. One of those was the help I got from members of the community: some contributed code, some did testing, some explained the arcania of technical drawing. — WandererFan, TechDraw maintainer, the FPA board member and founder</p></blockquote><p><strong>The FPA really came into its own.</strong> Donations from end users have been strong and reflect how much the greater community wants to see FreeCAD succeed. But an important challenge for the FPA going forward is managing these donations effectively. There’s no doubt that paid-development and contract work will be part of the future.</p><blockquote><p>I think we are making a better work of organizing for a release. The presence of the FPA and the development grants are opening up opportunities that where previously not there and it’s giving some good initial results, I expect this to only get better next cycle! — Adrián Insaurralde Avalos, maintainer and release manager of FreeCAD</p></blockquote><p><strong>The project is getting better at taking feedback.</strong> Improving the contribution process made us focus much more on getting good feedback from users: Conversations are now happening increasingly often in pull requests and issues on GitHub. The team also did a very successful <a href="https://forum.freecad.org/viewtopic.php?p=658200#p658200" target="_blank" rel="noopener noreferrer">complaints session</a> at FOSDEM this year. Overall, the improvement is in the quality of discussions. Once you formulate an issue as a problem to be solved, you end up with atomic tasks that are easier to accomplish. The inevitable challenge here is that now the project has a backlog of existing issues that need to be refactored and tailored to this new way of dealing with issues.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-ondsel-is-doing-and-whats-next">What Ondsel is doing and what’s next<a href="#what-ondsel-is-doing-and-whats-next" class="hash-link" aria-label="Direct link to What Ondsel is doing and what’s next" title="Direct link to What Ondsel is doing and what’s next">​</a></h2><p>Ondsel is building a service that makes FreeCAD more usable and useful to commercial users and teams.  We absolutely need FreeCAD to be the kind of software that people rave about and can’t recommend enough. So we spend a lot of time improving it for users.</p><p>Our visible contributions to v0.21 were mostly improving the user interface and workflow.  We made contributions to the Preferences dialog, improved the UX/UI of Fillet, Chamfer, Draft, and Thickness tools in the Part Design workbench. We redesigned the image plane settings and fixed bugs in the core and the Path workbench.</p><p>Many of our contributions are less visible.  We have also been working on larger projects that will also benefit the entire ecosystem but will take longer to bear fruit.</p><p>We’re leading the project to integrate RealThunder’s fix for the notorious toponaming issue. The first 2 phases out of 5 are now complete (see this <a href="https://ondsel.com/blog/milestone-toponaming-fix-phase-2-done" target="_blank" rel="noopener noreferrer">recent blog post</a> about it).</p><p>After <a href="https://ondsel.com/blog/default-assembly-workbench-7" target="_blank" rel="noopener noreferrer">researching existing options</a> for creating and solving assemblies in FreeCAD, we settled on writing a solver of our own. Dr. Aik-Siong Koh has made significant progress towards a assembly solver based on his existing code originally written in Smalltalk. So far, the new solver can create an assembly and perform kinematics of a piston-crank system. We are also looking for ways to integrate <a href="https://www.mbdyn.org/" target="_blank" rel="noopener noreferrer">MBDyn</a> for multi-body dynamics.</p><p>Ajinkya Dahale has a working prototype of a native custom data elements system, one that doesn’t require using 3rd party workbenches or abusing PropertyBag from the Path workbench (see our original research for an <a href="https://ondsel.com/blog/build-system-for-custom-data-elements" target="_blank" rel="noopener noreferrer">overview of available options</a>).</p><p>In conclusion, what we can say with absolute certainty is that, as a company, we feel that working on FreeCAD is fulfilling and rewarding. We hope that more companies creating FreeCAD-based products and services will join the development. There is no shortage of things to do and a lot to gain for everyone.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-you-can-contribute-to-v10-development">How you can contribute to v1.0 development<a href="#how-you-can-contribute-to-v10-development" class="hash-link" aria-label="Direct link to How you can contribute to v1.0 development" title="Direct link to How you can contribute to v1.0 development">​</a></h2><p>There are many ways users, developers, and companies which rely on FreeCAD can help make the next phase possible: </p><ul><li>You can <a href="https://fpa.freecad.org/#donations" target="_blank" rel="noopener noreferrer">donate</a> to the FreeCAD project association. Funds will be spent on getting grants to developers who improve the software and its ecosystem.</li><li>If you are a developer in the Vancouver area, interested in making FreeCAD better, please come to the <a href="https://blog.freecad.org/2023/05/24/freecad-hackathon-11-13-august-2023/" target="_blank" rel="noopener noreferrer">hackathon</a> that is taking place on August 11-13.</li><li>There’s always a lot of work to moderate discussions in the community, translate and test the program, write documentation, and make video tutorials. Here is an <a href="https://wiki.freecad.org/Help_FreeCAD" target="_blank" rel="noopener noreferrer">introduction</a> for people who can provide non-programming help.</li></ul><p>Finally, if you are a company that uses FreeCAD, you can join the community. Much of FreeCAD’s progress until now has been made by individuals. Commercial users are becoming increasingly important. Their needs and expertise will drive the next phase of development even faster.</p><p>At Ondsel, we  would be excited to talk to you and better understand what problems and frustrations you have with the software. Please reach us at <a href="mailto:contact@ondsel.com" target="_blank" rel="noopener noreferrer">contact@ondsel.com</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-9c600c988efb52ccfaac0749f87f4cb3.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/milestone-toponaming-fix-phase-2-done/">Milestone: Ondsel and FreeCAD team complete phase 2 of the toponaming fix</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-24T00:00:00.000Z" itemprop="datePublished">July 24, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Back in February, we <a href="https://ondsel.com/blog/freecad-topological-naming/" target="_blank" rel="noopener noreferrer">posted</a> an explanation of the toponaming issue in FreeCAD and a proposal of getting this fixed in the upstream project, with RealThunder’s LinkStage3 fork as a guideline. Since then, we’ve made a lot of progress, but even more work is yet to be done.</p><p>In this post, we’d like to explain how we are separating this work into stages, why FreeCAD 0.21 is not going to be much different from previous releases in terms of toponaming, and what our plan for the next development cycle is.</p><p>While this progress is cause to celebrate, we also caution users to understand that models can (and will) break for reasons besides toponaming even after this project is done.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-this-toponaming-thing-anyway">What’s this toponaming thing anyway?<a href="#whats-this-toponaming-thing-anyway" class="hash-link" aria-label="Direct link to What’s this toponaming thing anyway?" title="Direct link to What’s this toponaming thing anyway?">​</a></h2><p>As models evolve, their geometry changes. Doing a boolean sum of the same object with a different object will create new faces and vertices. So if a feature is attached to an element that no longer exists, the model will break. Topological naming is a way to store all element names in a persistent manner to avoid that scenario. You can read a much more detailed explanation in the <a href="https://ondsel.com/blog/freecad-topological-naming/" target="_blank" rel="noopener noreferrer">previous post</a>. The important thing here is that making topology names persistent implies changing FreeCAD’s source code in many places and the changes are not trivial. This is not a fix you can do on a lazy Sunday afternoon.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-tnp-team">The TNP team<a href="#the-tnp-team" class="hash-link" aria-label="Direct link to The TNP team" title="Direct link to The TNP team">​</a></h2><p>Before we go any further, let&#x27;s introduce the team that has been working on the fix all year so far.</p><p>John Dupuy is an Ondsel employee. He’s project coordinator, does code review, as well as his own share of programming.</p><p>Chris Hennes is FreeCAD maintainer who also writes code and does code review from other contributors. He did a large part of programming in phases 1 and 2 of the TNP fix (more on that below).</p><p>Pesc0 is a new arrival to FreeCAD. When the call for participation at fixing the TNP issue was posted, he picked a few tasks he was interested in, started hacking and — most importantly — didn’t drop the ball. He also turned out to be really great at communication with the team.</p><p>Zheng Lei aka RealThunder (or RT) developed the fix for the toponaming issue in his fork of FreeCAD. His patchset made it possible for the upstream team to study the issue in much more detail, explore possible solutions, and come up with a roadmap. The TNP team uses a lot of his code and the classes he developed. RealThunder was involved in a consulting role and provided some really useful insight.</p><p>Ajinkya Dahale is an active contributor to the project, and employee at Ondsel. His involvement so far is creating the fix for sketch objects.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="staging-the-fix">Staging the fix<a href="#staging-the-fix" class="hash-link" aria-label="Direct link to Staging the fix" title="Direct link to Staging the fix">​</a></h2><p>After studying the issue and the existing fix in RealThunder’s fork, we came up with a plan to introduce topological naming in five phases.</p><p>Phase 1: To begin, we need a way to store and manipulate short references names of elements and names serialized from the element mapping. We also need a way to handle element naming as a whole and store all descriptive elements in one place for easy reference. So this is where we wrote several classes — <code>IndexedName.cpp</code> (save the name of an element), <code>MappedName.cs</code> (store and manipulate the more-complex mapped-name used by elements and the toponaming algorithm), <code>MappedElement.cpp</code> class (save the name parts of an element), <code>ElementMap.h</code> (store all descriptive elements in one place for easy reference).</p><p>Phase 2: The main objective of this phase is to create a way to generatively express the history of an item, create new names and mappings, but not actually rely on them. This phase mainly touches Sketch and Part workbenches.</p><p>This is where we are now. Version 0.21 is coming out soon with stage 1 and stage 2 implemented. Some smaller items remain to be completed.</p><p>Phase 3: This is where we will start applying new names and mappings to geometry elements. We expect that at this point, until optimizations are done, FreeCAD will become somewhat slower. This expected performance regression is one of the main reasons we are not waiting for the entire work to be done to release a new FreeCAD version.</p><p>Phase 4: At this stage, we are planning to start using the new names when recalculating objects in all workbenches.</p><p>Phase 5: This final stage is where we do all the optimization to make FreeCAD fast and snappy while toponaming-safe.</p><p>The plan is to do phases 3 through 5 in the next development cycle leading up to releasing v1.0 some time next year.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="will-toponaming-solve-all-the-problems-with-models-breaking-nope">Will toponaming solve all the problems with models breaking? Nope.<a href="#will-toponaming-solve-all-the-problems-with-models-breaking-nope" class="hash-link" aria-label="Direct link to Will toponaming solve all the problems with models breaking? Nope." title="Direct link to Will toponaming solve all the problems with models breaking? Nope.">​</a></h2><p>There are multiple other opportunities for models to break even when toponaming is not involved. A common reason for that is using relative rather than absolute references when constraining elements of sketches. With relative references, FreeCAD will likely try to solve constraints in a different order, which will change geometry.</p><p>A certain combination of parameters can cause inversion of a part of a sketch. So when you e.g. change a parameter driven via spreadsheet, it will break your model forever, and you won&#x27;t be able to undo and/or recompute.</p><p>FreeCAD also does no validation of user input by itself. It will obediently do whatever the user asks it to do, even if it makes the model explode. This can be worked around by using conditional expressions to normalize user-submitted values that don&#x27;t make sense.</p><p>Brodie Fairhall covered these and a few other cases in a <a href="https://www.youtube.com/watch?v=Yp6cIMA7LsI" target="_blank" rel="noopener noreferrer">video</a> for FreeCAD User Conference 2023. We highly recommend watching it!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-work-on-the-tnp-fix-changed-the-project">How work on the TNP fix changed the project<a href="#how-work-on-the-tnp-fix-changed-the-project" class="hash-link" aria-label="Direct link to How work on the TNP fix changed the project" title="Direct link to How work on the TNP fix changed the project">​</a></h2><p>As a developers community, we’ve already made complex changes to FreeCAD in the past, like switching from Python 2.7 to Python 3, or porting the user interface from Qt 4 to Qt5. But the way we planned that work wasn’t great. Fixing the toponaming issue rivals past challenging projects in virtually every aspect, so it was time to change our approach to planning our work.
To do that, we decided to use GitHub’s projects feature, break the entire project into phases, and, most importantly, avoid trying to complete the entire project within one development cycle.</p><p>Another major change was making unit tests the norm. Until fairly recently, FreeCAD had zero unit tests. It was really bad, because it made discovering and fixing regressions quite a bit of a nightmare. Some work on that had started shortly before our work on TNP began, but we made it the rule that all new code should come with unit tests.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-conclusion">In conclusion<a href="#in-conclusion" class="hash-link" aria-label="Direct link to In conclusion" title="Direct link to In conclusion">​</a></h2><p>Seeing a new contributor pick up rather complex tasks and work on them until the job is done has been one of the most rewarding experiences in this project so far. We would definitely appreciate more people following in the footsteps of Pesc0.</p><p>Here is what you can do. Most of the project conversation is taking place in a <a href="https://t.me/toponamingchat" target="_blank" rel="noopener noreferrer">dedicated Telegram group</a>. The group has be-weekly teleconferences discussing progress and issues. The task list is discussed and built in <a href="https://github.com/FreeCAD/FreeCAD/issues/8432" target="_blank" rel="noopener noreferrer">GitHub issue 8432</a> and new issues are made for each task. You can volunteer for one of those, create a PR, copy in the code from the toponaming branch, then start writing tests to build your understanding of what the code is doing, and iteratively accomplish the task.</p><p>This isn’t the easiest project to accomplish, and as FreeCAD v1.0 release is directly dependent on finalizing the toponaming fix, we encourage all interested developers to join us!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-adab0c05b35430fb64284bc82724f61e.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/software-bounties-are-a-dumb-idea/">Software bounties are a dumb idea</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-11T00:00:00.000Z" itemprop="datePublished">July 11, 2023</time> · <!-- -->13 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bounties-dont-help-users-fund-foss-projects">Bounties don’t help users fund FOSS projects<a href="#bounties-dont-help-users-fund-foss-projects" class="hash-link" aria-label="Direct link to Bounties don’t help users fund FOSS projects" title="Direct link to Bounties don’t help users fund FOSS projects">​</a></h2><p>Funding free/libre software projects is difficult. For the last 5+ years, the knee jerk reaction has been to say “just do what Blender Foundation does, they got everything right”. But contributors come with different backgrounds. Some are perfectly fine about thinking like entrepreneurs, others would rather stick to programming, or designing interfaces, or bug triaging, or writing documentation etc.</p><p>So there are various ideas on how to work around that and still help teams earn a living. One idea we come across really often is bounties. The general idea of a bounty is this: someone identifies an issue and offers some money to fix it, other people can bring more money, then someone implements a fix or a feature and takes the money.</p><p>FreeCAD has a mixed history with bounties. People absolutely mean well when they suggest bounties as a way to foster development of free and open-source software (FOSS), but bounties fail way too often. Nevertheless, there&#x27;s a popular notion that they are actually great. And thus bounties distract people from trying more realistic solutions.</p><p>Let&#x27;s talk about why bounties fail and what approaches to funding FOSS developers are better and why.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-bounties-and-where-do-they-actually-work">What are the bounties and where do they actually work?<a href="#what-are-the-bounties-and-where-do-they-actually-work" class="hash-link" aria-label="Direct link to What are the bounties and where do they actually work?" title="Direct link to What are the bounties and where do they actually work?">​</a></h2><p>First and foremost, let’s clarify that the bounties we are referring here to are the bounties typically proposed by users. The bounties paid by corporations for finding e.g. security vulnerabilities in their products are a whole different topic.</p><p>The unsophisticated look at bounties, that you can find on forums and elsewhere, is basically this: we think there’s a great feature to implement, we are willing to pay what we think is a fair amount of money to cover the cost of its development, someone will absolutely volunteer, because, well, here is our money for the taking.</p><p>As far as these simple agreements go, it works in a limited amount of scenarios:</p><ul><li><strong>Small bug fixes.</strong> Many large software projects have hundreds of small issues that the core team just never has the time to fix. It could be incomplete file format support or a number of sorely missing settings. In other words, nothing that requires digging a ten thousand feet deep hole into the source code just to find out that half of the application needs to be rewritten, possibly in a new fancy programming language.</li><li><strong>Small features.</strong> Similarly, a new feature that doesn’t affect workflows in any major way and doesn’t impose major internal redesign, could be subject to a bounty.</li><li><strong>3rd party add-ons.</strong> Developing an add-on or a macro that automates a daunting task could be a bounty material, especially if the use case in question is not a typical one and thus would likely not be covered by what a program does by default.</li></ul><p>Everything else typically becomes a problem with bounties. Here is why.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-a-more-realistic-scenario">What’s a more realistic scenario?<a href="#whats-a-more-realistic-scenario" class="hash-link" aria-label="Direct link to What’s a more realistic scenario?" title="Direct link to What’s a more realistic scenario?">​</a></h2><p>When you start treating anything as a bounty material, in a large project like FreeCAD, the bounty scenario needs to be more like this:</p><ol><li>Someone singles out an issue that could be fixed with a bounty.</li><li>The stakeholders agree that it is indeed a bounty material.</li><li>Someone spends time to evaluate the cost of a project, with a realistic error margin.</li><li>The evaluation is then adjusted for the time spent on the preliminary evaluation before any real work starts.</li><li>Both the stakeholders and the community agree that the evaluation is ok.</li><li>The community puts their money where their mouth is.</li><li>Work gets done.</li><li>The community accepts the results after some or no development iterations.</li><li>The evaluation is then adjusted for actual development expenses, and the community accepts that and pays for it too, because the developer shouldn&#x27;t be punished for things out of their control.</li></ol><p>You’ll notice that in this scenario, real-life expenses are taken into account (and paid in full), because figuring out the right solution is often 80% of the entire work. Moreover, everyone seems to agree on everything, which is so often not the case. An even more unthinkable thing happens: the bounty is adjusted for actual expenses — most bounty platforms don’t even handle that, and the protocol of the adjustment is pretty much unheard of.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-why-do-bounties-fail-exactly">So why do bounties fail exactly?<a href="#so-why-do-bounties-fail-exactly" class="hash-link" aria-label="Direct link to So why do bounties fail exactly?" title="Direct link to So why do bounties fail exactly?">​</a></h2><p>There are so many reasons. Let’s dig into some of them.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="financial-reasons">Financial reasons<a href="#financial-reasons" class="hash-link" aria-label="Direct link to Financial reasons" title="Direct link to Financial reasons">​</a></h3><p>Things start to break at the very beginning. When a bounty is initiated by a user, their idea of development cost will likely be way off. <strong>It takes a certain amount of familiarity with the source code</strong> in question to be able to make a fair estimation, and even then there’s no guarantee that larger underlying issues won’t be discovered.</p><p>One example here would be canvas rotation in <a href="https://www.gimp.org/" target="_blank" rel="noopener noreferrer">GIMP</a>. This feature was originally implemented in a fork called <a href="https://github.com/seagetch/gimp-painter" target="_blank" rel="noopener noreferrer">GIMP-Painter</a>. A popular online platform <a href="https://bountysource.com/" target="_blank" rel="noopener noreferrer">BountySource</a> had a bounty for that exact feature, with close to EUR 75.00 waiting for someone to backport the patch. But when one of GIMP developers started looking into this, he found out he would have to pretty much write that feature from scratch — it was <em>that</em> much easier than normalizing the patch. What looked like a ‘git cherry-pick’ material turned out to be a hack lasting several days and looking more like a EUR 750.00 job. So when he, an experienced developer, picked the bounty, it was less than minimum per-hour wage in his country of residence. That is simply not sustainable.</p><p>An even more staggering example of a financial failure of a bounty are MIDI tracks in <a href="https://ardour.org/" target="_blank" rel="noopener noreferrer">Ardour</a>. This essential feature was available as a bounty and was eventually developed over the course of two Google Summer of Code seasons, with multiple people participating (GSoC student, his mentor and lead developer of the project, a UX/UI designer). They spent close to 3 years working on this on and off. How much money was pledged? $1,380.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="organizational-reasons">Organizational reasons<a href="#organizational-reasons" class="hash-link" aria-label="Direct link to Organizational reasons" title="Direct link to Organizational reasons">​</a></h3><p><strong>Bounties rarely scale.</strong> While some patches only need understanding the source code and being able to design a solution, others require getting more people like UX/UI architects involved.</p><p><strong>Efforts can be duplicated.</strong> With bounties, developers are asked to take all the risks. Several people can work on the same solution at once, only one of them will be paid.</p><p><strong>Payment is not guaranteed.</strong> We already mentioned it above, but this is worth repeating: with bounties, a lot of the research work has to be done upfront. If you are willing to do that, you better be prepared to cover the research expenses somehow.</p><p><strong>Decision-making can be paralyzing.</strong> Teams where decision-making among stakeholders is broken generally have a much bigger fish to fry. Still, with multiple stakeholders who rarely agree on anything, who will make the decision whether a bounty patch should be accepted?</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="communication-issues">Communication issues<a href="#communication-issues" class="hash-link" aria-label="Direct link to Communication issues" title="Direct link to Communication issues">​</a></h3><p>Part of the problem is also in <strong>finding the right words</strong>. Even when developers themselves set bounty ideas, they still tend to have a hard time communicating the amount of work it takes to do something and therefore the cost of it. Non-technical users have a very vague idea about the implications of writing new code or even reusing existing code. A very common request is to add a new feature by “just reusing” code written in Python in a program written in C++, because “it’s open source, so you already have everything you need”. This isn’t anyone’s fault, it’s just explaining technical intricacies to people with less or no programming experience takes some time and practice.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-reasons">Technical reasons<a href="#technical-reasons" class="hash-link" aria-label="Direct link to Technical reasons" title="Direct link to Technical reasons">​</a></h3><p><strong>Bounties typically start from one person&#x27;s use case</strong> and thus commonly don&#x27;t take the big picture into account. The idea might work for this one person, but could it be done better? Or is it even an actual problem? The use case might be stupid, because the user is trying to do something in a non-orthogonal way while easier solutions already exist and would work just as well. Or the workaround that is requested in the bounty might have a better implementation as a core feature. And the list goes on.</p><p><strong>Bounties don’t encourage incremental solutions.</strong> The very idea of bounties is that someone does the entire work in one go, as a quick solution, takes the money, and leaves. But when the feature implies digging into the architecture, this basically means two things: either the developer works on a deep fix for a very long time and thus has a hard time rebasing to changes in the upstream branch (think of RealThunder’s LinkStage branch), or they have to submit work in small batches over a long period of time, but that’s not what bounties are generally expected to be.</p><p><strong>Bounties favor outcomes that maximize bounty for minimum effort.</strong> So they don’t encourage elegant, testable code or unit testing. In the end, this bites everyone in the neck — both users and developers.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="if-not-bounties-then-what">If not bounties, then what?<a href="#if-not-bounties-then-what" class="hash-link" aria-label="Direct link to If not bounties, then what?" title="Direct link to If not bounties, then what?">​</a></h2><p>Finally, let’s talk about some of the better approaches at community funding of development. No single way is perfect, but that’s not the point. By trying things that actually work we all can come up with new, better solutions. We are not talking about the “paid support” model here though, plenty has already been said about that over the past few decades.</p><p>One of the very basic ideas here is that — especially in large projects — development ideas in any form should be verified by respective core teams. So it&#x27;s best when the project has a process of idea verification between multiple stakeholders.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="crowdfunding-and-stretch-goals">Crowdfunding and stretch goals<a href="#crowdfunding-and-stretch-goals" class="hash-link" aria-label="Direct link to Crowdfunding and stretch goals" title="Direct link to Crowdfunding and stretch goals">​</a></h3><p>One example of idea verification is what the Krita team does whenever they run a crowdfunding campaign (<a href="https://www.kickstarter.com/projects/krita/krita-free-paint-app-lets-make-it-faster-than-phot/description" target="_blank" rel="noopener noreferrer">it’s been a while though</a>). They collect user requests, sit down, go through each of them, take the ones that make sense, figure out how much time each would take to implement, then take the ones that passed validation as relatively easy fixes/features and group them into stretch goals and set a price to it. That price is already adjusted for the time it took them to do the verification. So far, their estimations have been very close to actual expenses.</p><p>If they would not get sponsoring for stretch goals, the verification expenses would be covered by other sources of income like sales on <a href="https://store.steampowered.com/app/280680/Krita/" target="_blank" rel="noopener noreferrer">Steam</a> and <a href="https://apps.microsoft.com/store/detail/krita/9N6X57ZGRW96?hl=en-rs&amp;gl=rs&amp;rtc=1" target="_blank" rel="noopener noreferrer">Microsoft Store</a>. This means that any team following in their footsteps better have a stable source of income to cover the expenses of the work they do upfront. This works best in teams that organized themselves into a non-commercial organization and have a diversified pool of income sources (think Blender Foundation and, well, FreeCAD now).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="developer-fund">Developer fund<a href="#developer-fund" class="hash-link" aria-label="Direct link to Developer fund" title="Direct link to Developer fund">​</a></h3><p>A developer fund can be created and used in multiple ways. It can be very similar to crowdfunding, especially if you look at what the Kdenlive team <a href="https://kdenlive.org/en/fund/" target="_blank" rel="noopener noreferrer">has been doing</a>.</p><p>They chose who would be working on features and decided to hire people who are already active in the project and had the opportunity to devote part of their time to this work without jeopardizing their other obligations.</p><p>Then they came up with a short list of really useful features to implement. They balanced them between roadmap items and things that users requested in their discussion rooms. They also only chose tasks that they knew they would be able to solve based on their team’s expertise.</p><p>Then they estimated the price by decomposing proposed features into smaller tasks and deciding to fund 50% of the time that accomplishing that work would require.</p><p>The campaign was launched with KDE e.V. and their Donorbox-based system. Funds were collected within the first month of the campaign, while it was supposed to run for three months. Some of their 2023 goals outlined on the fund page have already been reached.</p><p>But a fund can also be used to hire full-time developers or issue part-time development grants. Blender Foundation famously <a href="https://fund.blender.org/grants/" target="_blank" rel="noopener noreferrer">does both</a>. Blender’s fund is also filled from <a href="https://fund.blender.org/about/" target="_blank" rel="noopener noreferrer">multiple sources</a> — both corporate sponsorships and personal donations, one-time as well as recurring.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grants">Grants<a href="#grants" class="hash-link" aria-label="Direct link to Grants" title="Direct link to Grants">​</a></h3><p>The idea behind a grant is that an organization behind a FOSS project builds a relationship with one or more community members by hiring them to do a specific one-time job: implement a feature, modernize an aging part of the source code, write documentation, design new UI etc.</p><p>We’ve already mentioned Blender Foundation as one of the organizations that issue grants, but there’s obviously more. The Inkscape team has recently hired a full-time senior developer to work on the GTK4 port of the vector graphics editor for several months. And the FreeCAD Project Association is no stranger to grants either: <a href="https://fpa.freecad.org/programs/fpadf-announcement" target="_blank" rel="noopener noreferrer">two grants</a> were issued last year, to RealThunder (the toponaming fix) and to Ajinkya Dahale (spline handling in Sketcher).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contract-development">Contract development<a href="#contract-development" class="hash-link" aria-label="Direct link to Contract development" title="Direct link to Contract development">​</a></h3><p>There’s a certain peace-of-mind element in doing contracted work as compared to working for a bounty. It’s easier to discuss scope, you can charge for the work in a <a href="https://en.wikipedia.org/wiki/Time_and_materials" target="_blank" rel="noopener noreferrer">time-and-materials</a> fashion etc. You still have to wrangle stakeholders — there’s no way around that (and there likely shouldn’t be), but all your extra expenses will typically be covered by a clause in the contract.</p><p>If you want an example, look no further: the Path workbench in FreeCAD was originally the subject of a contracted job. This project involved a lot of upfront conversation with FreeCAD maintainers about changing the core to allow for rendering toolpaths. The core features were specifically implemented in a way that would allow 3rd-party workbenches and alternative user interfaces to be created for CNC-related use cases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-paid-binaries-model">The paid binaries model<a href="#the-paid-binaries-model" class="hash-link" aria-label="Direct link to The paid binaries model" title="Direct link to The paid binaries model">​</a></h3><p>To some extent, the Ardour project pioneered this approach to funding development: they came up with an idea that users who can’t build Ardour for themselves (it’s more difficult on Windows and macOS) can pay a small monthly fee that is a fraction of what users pay for proprietary digital audio workstations. This alone pays the bills of two full-time developers and some occasionally helpful contributors.</p><p>Two more similar projects, <a href="https://www.zrythm.org/en/index.html" target="_blank" rel="noopener noreferrer">Zrythm</a> and <a href="https://users.notam02.no/~kjetism/radium/" target="_blank" rel="noopener noreferrer">Radium</a>, use the same funding model — most likely with less success. But this has more to do with oversaturation of the digital audio workstation market.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-open-core-model">The open-core model<a href="#the-open-core-model" class="hash-link" aria-label="Direct link to The open-core model" title="Direct link to The open-core model">​</a></h3><p>Finally, core team members can start an LLC and provide a fork/modification of the original project with added value. </p><p>Some of the very obvious if geeky examples here are <a href="https://about.gitlab.com/" target="_blank" rel="noopener noreferrer">GitLab</a>, <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a>, and <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a>. On a less technical side, that would definitely be the <a href="https://musescore.com/" target="_blank" rel="noopener noreferrer">MuseScore.com</a> service built for the community of <a href="https://musescore.org/" target="_blank" rel="noopener noreferrer">MuseScore</a> users, or the <a href="https://audio.com/" target="_blank" rel="noopener noreferrer">audio.com</a> cloud storage service that has been integrated into Audacity. We are doing a very similar thing with Ondsel, except we don’t own FreeCAD but merely contribute to it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-conclusion">In conclusion<a href="#in-conclusion" class="hash-link" aria-label="Direct link to In conclusion" title="Direct link to In conclusion">​</a></h2><p>Bounties are a lousy foundation for sustainable development of large projects like FreeCAD. They typically represent a gross underestimation of real work required to solve a problem, commonly miss a bigger picture, and encourage worst software development practices.</p><p>Growing larger is fun but also really overwhelming. Most ambitious projects that aim to stay afloat will have to experiment with different approaches to getting funded on a regular basis and come up with their own mix of solutions. It’s that or perish.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-aec697e58940fac3ff4e3fc8a94c2fb0.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/build-system-for-custom-data-elements/">Let’s Build a Core System for Custom Data Elements in FreeCAD</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-06-24T00:00:00.000Z" itemprop="datePublished">June 24, 2023</time> · <!-- -->13 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/AjinkyaDahale" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ajinkya Dahale</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>One of the sorely missing features in FreeCAD is a convenient system for creating custom data elements and interacting with them.</p><p>A common use case is constraining multiple features in a sketch to the same value. Instead of tweaking every instance of a horizontal distance constraint, you would create a custom data element (or property) called “Length” and then reference it via the Expression Engine. Then every time you change the value of that custom element, the entire sketch is updated automatically.</p><p>This is an extremely handy feature, so there is a strong community demand for this. Most recently, it was brought up twice during the <a href="https://forum.freecad.org/viewtopic.php?t=75768" target="_blank" rel="noopener noreferrer">&quot;Complaint Session&quot;</a> at FOSDEM. And even a quick glance at the larger CAD market suggests that it’s useful for more than just a group of FreeCAD users: Inventor, SolidWorks, NX, Creo all have a way to create a custom data element and use it with expressions.</p><p>Much like with <a href="https://ondsel.com/blog/default-assembly-workbench-1" target="_blank" rel="noopener noreferrer">assemblies</a>, the community made several attempts to create a solution, but all of them have various shortcomings which we’ll discuss below.</p><p>Fixing this benefits the entire FreeCAD ecosystem. Users would get a convenient tool for manipulating their designs, it would be immediately available and maintained as an inherent part of the project. For companies like Ondsel who want to build around FreeCAD, this system is the prerequisite for integrating it into external services.</p><p>A large part of this system is therefore parameters introspection. This is a complicated topic that probably deserves a separate discussion. But the basic idea is this. When you design a real-life part, some of the custom data elements you create are convenience tools like in the use case above. They contribute to making the design truly parametric yet do not need to be accessed and manipulated externally. But when FreeCAD is used in headless mode in a pipeline, whatever external tools you rely on better be able to tell which properties they need to expose to the user (dimensions, color, material etc.) and which ones have to be omitted. Essentially, custom parameters need to carry some useful context.</p><p>So let’s talk about existing options, where they shine and fail, and what we think a sensible solution would look like based on what we learned.</p><p>In this post, we are also introducing another new author. Ajinkya Dahale has been a FreeCAD contributor since 2016. His contributions are mostly in the Sketcher, PartDesign, and FEM workbenches. Ajinkya’s latest major involvement, improving B-spline <a href="https://forum.freecad.org/viewtopic.php?t=71130" target="_blank" rel="noopener noreferrer">constraints</a> and <a href="https://forum.freecad.org/viewtopic.php?t=75950" target="_blank" rel="noopener noreferrer">construction</a>, was sponsored by the FreeCAD community both directly and <a href="https://blog.freecad.org/2022/09/26/first-fpa-sponsored-development/" target="_blank" rel="noopener noreferrer">via the FreeCAD Project Association</a>. He also received a <a href="https://opentoolchain.org/2023/02/26/FOSDEM-2023/" target="_blank" rel="noopener noreferrer">grant from the Open Toolchain Foundation</a>. Since early 2023, he has been working for Ondsel and continues hacking on FreeCAD.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="elements-or-properties">Elements or Properties?<a href="#elements-or-properties" class="hash-link" aria-label="Direct link to Elements or Properties?" title="Direct link to Elements or Properties?">​</a></h2><p>Before we get to the gist of the topic, we need to explain why we use the terminology “custom data elements” and not “custom properties” when we talk about the future system. Calling this type of data a property implies a particular solution — storing this data in the project tree and making it accessible for editing in the Combo View dock. But we are not yet certain this is exactly the way to do this. For now, we are using the term “custom data elements”.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark">Benchmark<a href="#benchmark" class="hash-link" aria-label="Direct link to Benchmark" title="Direct link to Benchmark">​</a></h2><p>To understand how well various existing solutions work, we need a kind of a benchmark — a realistic workflow that allows working with custom data elements efficiently. We can describe it with a <a href="https://en.wikipedia.org/wiki/User_story" target="_blank" rel="noopener noreferrer">user story</a>:</p><ol><li>The user begins to set the constraint and realizes they would like to make the value a custom field. The constraint panel would have a button to add a custom field.</li><li>The button would allow the user to add a new item to a collection of custom data elements.</li><li>The result would be returned and inserted via the Expression Engine.</li></ol><p>This workflow obviously applies to the Sketcher workbench, but there are many more use cases for custom data elements. You could be using them when designing a house, a 3D-printable part, or a part for CNC milling, or a thousand more things. So this better be a core feature.
There are multiple possible approaches to exposing custom data elements to users in the UI — pressing a shortcut to activate a floating window, editing an object in the document tree, or editing a value in a new tab in the property viewer. But for now, let’s call this a benchmark and see how existing solutions stack up against it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="existing-solutions">Existing solutions<a href="#existing-solutions" class="hash-link" aria-label="Direct link to Existing solutions" title="Direct link to Existing solutions">​</a></h2><p>We found 4 attempts to implement this feature.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-spreadsheet-workbench">The Spreadsheet workbench<a href="#the-spreadsheet-workbench" class="hash-link" aria-label="Direct link to The Spreadsheet workbench" title="Direct link to The Spreadsheet workbench">​</a></h3><p>This WB was designed for many uses, so it’s not entirely fair to call it a custom data elements system. The workbench has two major benefits: it’s both powerful (e.g. cells in the spreadsheet can contain expressions) and it’s already part of FreeCAD, available immediately after program’s installation.</p><p><img loading="lazy" alt="The Spreadsheet workbench in FreeCAD" src="/assets/images/spreadsheet-wb-in-freecad-3b7d1d264cd5b4fd6c87e83319c2df71.png" width="753" height="571" class="img_ev3q"></p><p>The way spreadsheets work in FreeCAD, this is the assumed workflow:</p><ol><li>The user exits Sketcher</li><li>Switches to the Spreadsheet workbench</li><li>Creates a spreadsheet</li><li>Double-clicks the spreadsheet in the tree</li><li>Selects a cell and enters a value</li><li>Selects the cell a second time</li><li>Clicks the button to set an alias</li><li>Types in the alias name and presses OK</li><li>Double-clicks the sketch icon in the tree to reopen Sketcher</li><li>Selects the constraint and uses the Expression Engine to reference the aliased cell</li></ol><p>Compared to the benchmark above, this isn’t very user-friendly. FreeCAD contributors attempted to make their life easier by <a href="https://wiki.freecad.org/Macro_EasyAlias" target="_blank" rel="noopener noreferrer">simplifying alias creation</a>, but that fixes only a small portion of issues with spreadsheets. While we definitely can improve its subpar performance and UX/UI, tables are still not very convenient for extracting values without launching FreeCAD and using its GUI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="property-bag-in-path">Property Bag in Path<a href="#property-bag-in-path" class="hash-link" aria-label="Direct link to Property Bag in Path" title="Direct link to Property Bag in Path">​</a></h3><p>This feature is part of the default FreeCAD’s Path workbench. You can create groups of properties, which is convenient when you have a lot of those, and there is a sensible choice of property types available.</p><p><img loading="lazy" alt="Groups of properties in Property Bag" src="/assets/images/propertybag-groups-of-properties-206907fbd34728d83da07c360ceecfe5.png" width="832" height="676" class="img_ev3q"></p><p>But while custom properties in the “bag” are perfectly accessible from other workbenches via the Expression Engine, you can only create and modify properties when you are in the Path workbench. So it’s not competitive against the benchmark. This feature is also written in Python, so it’s entirely possible it would have to be ripped out of Path and rewritten in C++.</p><p><img loading="lazy" alt="Editing properties in Property Bag" src="/assets/images/property-bag-editing-properties-46df2f5d64594309adf6c9db5f91e280.png" width="832" height="676" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-dynamicdata-workbench">The DynamicData workbench<a href="#the-dynamicdata-workbench" class="hash-link" aria-label="Direct link to The DynamicData workbench" title="Direct link to The DynamicData workbench">​</a></h3><p>This is a <a href="https://github.com/mwganson/DynamicData" target="_blank" rel="noopener noreferrer">3rd party add-on</a> that allows creating project-level custom properties accessible through the Expression Engine from any workbench. You can create any number of containers of properties, one per each object if you like. There is a very long list of property types available.</p><p><img loading="lazy" alt="The DynamicData workbench in FreeCAD" src="/assets/images/dynamic-data-ui-6803e93f6ef98291a70b54086d310aac.png" width="2560" height="1440" class="img_ev3q"></p><p>Workflow-wise, this is not a very convenient solution. There are some cosmetic UX issues (e.g. you have to switch to this workbench first for the toolbar to show in other workbenches), but we can deal with those. What’s worse is that properties can’t be added on the fly, while you are sketching in 2D.</p><p>Theoretically, DynamicData could work as a foundation for a better solution. However:</p><ul><li>The WB is written in Python, but FreeCAD needs this as a core feature, hence it should most likely be C++ code.</li><li>The entire feature set is only accessible via GUI, which is not great for running FreeCAD in headless mode.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="userdata-in-assembly-4">UserData in Assembly 4<a href="#userdata-in-assembly-4" class="hash-link" aria-label="Direct link to UserData in Assembly 4" title="Direct link to UserData in Assembly 4">​</a></h3><p>The variables system in the Assembly 4 workbench is designed primarily for creating animations in the viewport. Here is how it works:</p><ol><li>Create a variable like “rotation”</li><li>Pick a part, set its rotation value to use the variable via the Expression Engine</li><li>Open the animation dialog, set start/end values, set step size</li><li>Run the animation</li></ol><p><img loading="lazy" alt="UserData in Assembly 4" src="/assets/images/assembly4-user-data-469f7d9f9e45e9799dea9f4c6574f684.png" width="1065" height="609" class="img_ev3q"></p><p>The core system behind this feature is capable. The list of possible data types can (and should) be extended, but it’s good for a start. There are some small issues. E.g. there’s no way to edit an existing variable, the user can only create and delete them.</p><p>A much larger issue is that the feature is workbench-specific and written in Python. Thus, it would have to be extracted from the Assembly 4 code and most likely rewritten in C++. Then we’d have to write an entirely new UI on top of it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h3><p>Reusing any of the existing solutions we explored seems unlikely for the following reasons:</p><ol><li><p>For the most part, they are not part of the FreeCAD core. The DynamicData and Assembly 4 workbenches need to be installed separately, and in case of Property Bag, the functionality needs to be moved out of the Path workbench and generalized.</p></li><li><p>None of the 4 solutions here are accessible from C++ code, so no core feature can use custom data elements. So far, this hasn&#x27;t really been an issue, but it’s best to build future-proof core features.</p></li><li><p>For the Python interface, there should be some sort of keyword-based system to set these values to these custom data elements. This way users can skip certain parameters like description.</p></li><li><p>Custom data elements in existing solutions carry no context. This makes it difficult for an external tool to sift through available parameters and pick the ones that should be exposed to users in the UI of that external tool. This can be resolved by making the user create a specific kind of document object or name it a certain way, but it would put an unnecessary cognitive burden on users.</p></li><li><p>The Spreadsheet workbench is the only core feature among the ones we studied. Spreadsheet serves and important role and isn’t going anywhere.  However its UX is so far from the assumed workflow and so inaccessible from CLI that we shouldn’t try to force it to serve this purpose.  In fact, Spreadsheet may be come even more useful in conjunction with a core data element feature.</p></li></ol><p>In a nutshell, there’s no existing solution that can be used as-is.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-the-solution-should-look-like">What The Solution Should Look Like<a href="#what-the-solution-should-look-like" class="hash-link" aria-label="Direct link to What The Solution Should Look Like" title="Direct link to What The Solution Should Look Like">​</a></h2><p>After analyzing existing solutions (including those of proprietary CAD programs), some obvious use cases, as well as user requests, we came up with the following list of requirements for a native custom data elements system in FreeCAD.</p><p>Architecturally, there should be a single container with a possibility to create groups of data elements inside it.
Secondly, there’s the topic of element types. The system should support all core data types: Length, Angle, Enum, String etc.</p><p>When we start thinking about this from users’ standpoint, this is where things get a little vague. There are benefits to having elements as properties in the project tree, but a kind of a dedicated registry or central management tool  (SolidWorks-style) makes about as much sense. What we are certain of is that:</p><ul><li>Adding new data elements from Sketcher and other WBs should be simple and obvious.</li><li>Tooltips for data elements should be possible so that collaborators could figure out your project easily.</li><li>Expression Engine should be supported.</li></ul><p>When we talk about adding data elements easily, what we mean is that users should be able to create those from anywhere in the application and in the middle of a transaction like editing a sketch. Think of the way you can create named parameters in Inventor by just typing “Length=530mm” in the constraint input box to create a linked “Length” property and setting it to 530mm.</p><p>Moreover, users should be able to create and access custom data elements through CLI so that models could be adjusted when FreeCAD is running remotely, and possibly automated as macros. Example: load a gridfinity template, set the number of height units, choose a color, output an STL, send it to OctoPrint.</p><p>Finally, on a more technical note, users should be able to create and access custom data elements from code in either C++ or Python. That is, the feature should be accessible for core features, default workbenches, and 3rd party workbenches. This can be ensured by creating the framework in C++ and adding Python bindings.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="our-proposal">Our Proposal<a href="#our-proposal" class="hash-link" aria-label="Direct link to Our Proposal" title="Direct link to Our Proposal">​</a></h2><p>We see this as a multi-stage project with work on expanding the FreeCAD file format accordingly, programming a C++ class and Python bindings, as well as designing and implementing the user interface. We have already settled on the document structure for our proposal — a single container with custom data elements, just like we mentioned above.
3rd-party developers would be able to use C++ or Python to access custom data elements: get a list of them, create a new data element, or get an existing one and then set a value to it. This is how we picture the custom data elements can be accessed through Python:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my_doc = App.ActiveDocument()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData # The container for Custom Data elements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData.setProperty(“App::PropertyFloat”, name=”myDim”, 1.23) # Setting a double</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData.getProperty(“myDim”) # Getting the value of the property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData.setProperty(“App::PropertyString”, “myText”, “hello”, desc=”Text to be printed on name plate”) # Setting a string with description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData.setProperty(“App::PropertyEnum”, “myEnum”, value=0, enum_values=[“Option1”, “Option2”, “Option3”]) # Setting an enum along with the values it can take. Selected value is “Option1”.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_doc.CustomData.setProperty(“App::PropertyEnum”, “myEnum”, value=”Option1”, enum_values=[“Option1”, “Option2”, “Option3”]) # Setting an enum along with the values it can take (alternative)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An (incomplete) example implementation is available in <a href="https://github.com/Ondsel-Development/FreeCAD/tree/core-custom-data" target="_blank" rel="noopener noreferrer">this branch</a>.
We think that users who rely on external tools for interacting with FreeCAD projects should be able to make a choice which custom data elements should be seen as private and which should be seen as public. This distinction is somewhat artificial, because everything is open in FreeCAD files. But it provides a simple way for external tools to expose only a subset of custom data elements — the ones that are supposed to be interacted with in UI. This is what we want Ondsel’s cloud service to do when it comes to mass customization of designs.</p><p>We are still figuring out the interaction model and the UI. The quick and dirty solution is to add those to a new tab called “Custom” right next to “View” and “Data” in the left dock. This can work as a simple temporary solution, but we think the View/Data separation is a superficial one and needs to be done away with (a story for another day). When a user uploads a document to our web view and sets only one dimension of the project to ‘public’ (e.g. only the length of a box but not its width or height), we expect that other users viewing this document would get to control only that dimension.</p><p>Here is an early UI wireframe:</p><p><img loading="lazy" alt="Early UI wireframe for custom data elements" src="/assets/images/preliminary-ui-wireframe-00cd20ff132cec30b2fbe28fa7df223b.png" width="1660" height="784" class="img_ev3q"></p><p>There are other approaches to designing the interaction, like what Inventor and Fusion 360 do with the properties table.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-you-can-get-involved">How You Can Get Involved<a href="#how-you-can-get-involved" class="hash-link" aria-label="Direct link to How You Can Get Involved" title="Direct link to How You Can Get Involved">​</a></h2><p>We are interested in general feedback about our proposal, but we are also specifically looking for your input on these two topics:</p><ul><li>What are your use cases for custom data elements? What kind of problems do you try to solve with those?</li><li>What are your frustrations with both existing solutions in FreeCAD and other CAD programs?</li></ul><p>This would help us build a sensible interaction model and user interface for custom data elements in FreeCAD. Please provide your feedback in the <a href="https://github.com/Ondsel-Development/FreeCAD/issues/5" target="_blank" rel="noopener noreferrer">issue tracker</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-b87cffa156af0fd62d7287d6469ca5ba.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/freecad-needs-a-better-materials-system/">FreeCAD Needs A Better Materials System</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-06-09T00:00:00.000Z" itemprop="datePublished">June 9, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/davesrocketshop" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Dave Carter</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>FreeCAD has a basic implementation of a materials system. While it works in some scenarios, we think it can be vastly improved to become a lot more useful. Let’s discuss what’s already available, what’s missing, and what’s a possible way forward with this. But first, why are we even discussing it?</p><p>We are introducing a new co-author in this post. Dave Carter has been a FreeCAD user since v0.16 (primarily for rocketry and 3D printing). He worked over 40 years as a software developer in government, supply chain, and automotive industries. He is the main person behind the <a href="https://github.com/davesrocketshop/Rocket" target="_blank" rel="noopener noreferrer">Rocket</a> workbench that helps design model and amateur rockets and components for them. Dave volunteered to lead the effort creating an updated materials system for FreeCAD and has been actively working towards that goal for the past several weeks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-a-good-materials-system-is-important">Why A Good Materials System Is Important<a href="#why-a-good-materials-system-is-important" class="hash-link" aria-label="Direct link to Why A Good Materials System Is Important" title="Direct link to Why A Good Materials System Is Important">​</a></h2><p>Materials are a lot more than the color of solids in the viewport. As engineers, we need basic mechanical properties like density to calculate mass. We need advanced mechanical properties, as well as thermal and electrical properties to run various simulations (think finite element analysis). We need vendor-specific data to make an estimation of material cost. We also need materials to make commercial-grade rendering easy.</p><p>So a good materials system needs a database of materials with mechanical, thermal, electrical, architectural, and other properties. But it goes even further than that.</p><p>We know that materials behave differently depending on environment conditions. For example, we know that Young&#x27;s modulus of metals decreases when temperature increases. So a materials system has to provide tools to build relationships between different material properties. Otherwise simulations won’t provide usable results.</p><p>Is that all? Nope. A concrete wall will have a first coat and then a finish. A model rocket will have a primer paint on top of the body, and then a coat of spray paint on top of parts of the primer paint. So a good materials system has to be able to deal with compound materials / multi-materials.</p><p>It’s also a great idea to have a more or less uniform UX/UI for working with materials in different scenarios. An architect by trade can be a tinkerer in their spare time, making Arduino-based devices, small home automation projects, and the like. They would appreciate not having to re-learn everything just because it’s a different set of tools in the same CAD system they use.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-whats-wrong-with-what-we-already-have">So What’s Wrong With What We Already Have?<a href="#so-whats-wrong-with-what-we-already-have" class="hash-link" aria-label="Direct link to So What’s Wrong With What We Already Have?" title="Direct link to So What’s Wrong With What We Already Have?">​</a></h2><p>Let’s take a closer look at what’s currently available in FreeCAD. A major part of the existing materials system is the Material Editor:</p><p><img loading="lazy" alt="Existing materials editor" src="/assets/images/current-materials-editor-ef0301422381273b27ee5989224849cc.png" width="1308" height="1135" class="img_ev3q"></p><p>It relies on a small catalog of materials (slightly over 100) available throughout FreeCAD. For each material, it’s possible to set properties in several categories:</p><ul><li>Mechanical</li><li>Thermal</li><li>Electrical</li><li>Architectural</li><li>Rendering</li><li>Vector Rendering (hatching)</li><li>Cost (vendor-specific)</li><li>User-defined</li></ul><p>Custom properties can be added to the user-defined category to accommodate for workflow specifics.</p><p>The existing materials system is currently used in FEM and Arch workbenches that are available by default, as well as in 3rd-party workbenches like <a href="https://wiki.freecad.org/Rocket_Workbench" target="_blank" rel="noopener noreferrer">Rocket</a> and <a href="https://github.com/FreeCAD/FreeCAD-render" target="_blank" rel="noopener noreferrer">Render</a>.</p><p>All this is a great start. But there are also various issues. Here are just some of the more obvious ones:</p><ul><li>It is impossible to set a different material to every face of a part. You can have a piece of metal or block of concrete with a coating on one side and nothing at all on the other one.</li><li>Multi-materials are only possible in the Arch workbench, but that is not enough. Any metallic or plastic solid and a paint job already make it <em>at least</em> two materials.</li><li>It should be possible to override properties set in the material card in a more or less uniform way. Maybe a variation of a material has slightly different mechanical or thermal properties, or maybe a building materials supplier is setting a different cost on a per-project basis.</li><li>Material cards do not account for real-life behavior of materials, e.g. some physical properties may vary with temperature. A common use case is <a href="https://forum.freecad.org/viewtopic.php?p=461640&amp;sid=cb795e11170e14ba824af3b437645500#p461640" target="_blank" rel="noopener noreferrer">describing different CTEs at different temperatures for FEM</a>. Moreover, the existing system only allows for isotropic materials that behave consistently regardless of direction. Orthotropic materials, such as wood, have different characteristics depending on direction: against the grain is stronger than with the grain.</li><li>Texture mapping is separate from the material settings and only allows loading a texture file, with no positioning settings.</li><li>Material information is not accounted for when importing/exporting from/to some file formats.</li><li>There are no built-in functions to use the material data to make basic calculations such as weight, or cost.</li><li>There’s no easy way to tell which part of an assembly doesn’t have an assigned material.</li><li>The material editor has no UI for categories. It works as long as the list of materials is relatively small, but this will become a problem once the list is expanded.</li></ul><p>This is just scratching the surface.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="previous-attempt-at-fixing-the-materials-system">Previous Attempt at Fixing The Materials System<a href="#previous-attempt-at-fixing-the-materials-system" class="hash-link" aria-label="Direct link to Previous Attempt at Fixing The Materials System" title="Direct link to Previous Attempt at Fixing The Materials System">​</a></h2><p>The topic of improving the existing materials system has been brought up before. Around 2016, a contributor named Eivind Kvedalen attempted to fix some of the issues, in particular: arbitrary properties, per-face materials, infrastructure for a material database. He made two commits in a public fork on GitHub, and continued the discussion. But eventually this initiative went into slumber. Right now, the fork needs further work to even compile.</p><p>As is usual in the FreeCAD ecosystem, people also attempted to come up with various workarounds. The 3rd-party <a href="https://github.com/furti/FreeCAD-ArchTextures" target="_blank" rel="noopener noreferrer">Arch Textures</a> workbench exists solely to work around the limitations of the built-in texture mapper. The <a href="https://github.com/andreasBihlmaier/FreeCAD" target="_blank" rel="noopener noreferrer">FCinfo</a> macro helps make basic calculations based on mechanical properties.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-the-updated-materials-system-should-be-like">What The Updated Materials System Should Be Like<a href="#what-the-updated-materials-system-should-be-like" class="hash-link" aria-label="Direct link to What The Updated Materials System Should Be Like" title="Direct link to What The Updated Materials System Should Be Like">​</a></h2><p>Having studied the subject, here’s the gist of what we think the new system should be like.</p><p>FreeCAD needs a <strong>way to store materials data</strong> in the project. If you created an assembly and used materials with custom properties (even if it’s just the material cost because you got a discount from your supplier), your team or contractors should be able to open that file and see assigned materials and related data.</p><p>There have to be <strong>per-face / per-solid materials and multi-materials</strong>. This shouldn’t be an Arch-specific feature like it is now, it has to be available for all workbenches.</p><p>There needs to be a <strong>more uniform UX/UI for selecting material and overriding its properties</strong> one way or another. The set of properties may vary between workbenches, but UI for overriding should follow the same design pattern.</p><p>It would be an absolute must to have an easily<strong> accessible calculation of basic part properties</strong>. Users should be able to easily see the weight of one part or an entire assembly.</p><p>We definitely see interest in having <strong>texture mapping and probably hatching</strong> as part of a material, with advanced settings. Advanced UV editing could be done by 3rd-party tools, but the basics of texture mapping should be there.</p><p>The <strong>material editor has to be enhanced</strong>: materials should be pre-organized into categories, have tags, rendering preview etc. The list of materials should be searchable.</p><p>There’s a strong requirement to be able to <strong>set relationships between properties for realistic simulations</strong>. There are multiple approaches to do that. We can do it with curves (like SolidWorks does) or by making multiple entries with an associated temperature range (or pressure, or whatever).</p><p>It’s generally a good idea to have <strong>easy access to up-to-date vendor data on materials</strong> where possible. There are many existing materials systems, <a href="https://github.com/Moult/IfcClassification" target="_blank" rel="noopener noreferrer">here</a> are just some of those in the architecture department. We know that accessing up-to-date information won’t be easy. When APIs even exist, they are typically not public or documented. And even there we’d be extremely cautious, because setting cost implies responsibility, and FreeCAD needs to be very clear where that responsibility is.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-forward">The Way Forward<a href="#the-way-forward" class="hash-link" aria-label="Direct link to The Way Forward" title="Direct link to The Way Forward">​</a></h2><p>Because of how far-reaching the implications of the materials system are, we think bringing it to the state of the art needs to be a community project with all major stakeholders involved.</p><p>There’s a small task force building around this project.</p><p>Ondsel made a start on analyzing what makes a materials system great, explored implementations in various other CAD programs (SolidWorks, Inventor, Onshape, Revit, Archicad), studied the existing implementation in FreeCAD, and put together an initial list of requirements.</p><p>Dave Carter, the developer behind the Rocket workbench, volunteered to lead the effort and already <a href="https://forum.freecad.org/viewtopic.php?style=4&amp;p=685834#p685834" target="_blank" rel="noopener noreferrer">made good progress</a> towards designing a better material editor and replacing the old material cards storage system with human-readable YAML files.</p><p><img loading="lazy" alt="New materials editor" src="/assets/images/new-materials-editor-alpha-380ee9be228aa714739f575845c94782.png" width="852" height="747" class="img_ev3q"></p><p>The first stage of this project is just that: new materials editor UI, new file format for material cards, and over 600 categorized materials. It’s a work in progress, you can see the updated material card UI on the screenshot above. </p><p>The second stage will involve physical properties, relationships between those, and appearance settings.</p><p>After that, work has to be done on finalizing the UI, polishing icons, writing documentation etc.</p><p>There are also a number of considerations to be made, depending on feedback from users and developers. More on that below.</p><p>Once we collect more information, we will analyze it and submit a public proposal in FreeCAD’s issue tracker for everyone to see and comment on. We’ll then do our best to help all interested parties to complete this project. We discussed it with the FPA, and a grant is possible.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-ondsels-interest-in-a-materials-system">What’s Ondsel’s Interest In A Materials System<a href="#whats-ondsels-interest-in-a-materials-system" class="hash-link" aria-label="Direct link to What’s Ondsel’s Interest In A Materials System" title="Direct link to What’s Ondsel’s Interest In A Materials System">​</a></h2><p>There are multiple reasons for Ondsel to be involved with (and lead) this initiative.</p><p>Ondsel’s platform is primarily FreeCAD users, so the better FreeCAD is, the more users it has, the more customers the company gets (and thus the more Ondsel can invest into improving FreeCAD further). So the company needs FreeCAD to be excellent in every aspect. A great materials system is part of that.</p><p>Ondsel is also considering implementation of some features like commercial-grade ray-tracing in the online service that will directly depend on a materials system.</p><p>Thus the company is interested in working with anyone willing to implement a better materials system and support them as much as we can. Dave made an impressive start on revamping the entire system, but he will need help.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-you-can-do">What You Can Do<a href="#what-you-can-do" class="hash-link" aria-label="Direct link to What You Can Do" title="Direct link to What You Can Do">​</a></h2><p>There definitely are ways you can be part of this initiative.</p><p>If you are a user, we are interested to know more about your workflow specifics:</p><ul><li>How do you use materials in FreeCAD or elsewhere?</li><li>What materials-dependent simulations do you run? What material properties do they rely on?</li><li>What type of materials do you deal with on a daily basis? What’s their variety? How often do you add custom materials?</li><li>Are there specific material vendors you deal with? Do they make it easy to access materials data?</li><li>Do you use the Appearance dialog to change the look of parts? How would replacing it with something actually based on materials’ appearance settings affect your workflow? </li><li>What file formats do you import/export that require materials support?</li><li>What are your appearance/texturing requirements for materials?</li><li>What are your sources of material physical properties?</li><li>Would you be more comfortable with a purely offline materials database, an online materials database like <a href="https://materialsproject.org/" target="_blank" rel="noopener noreferrer">Materials Project</a>, or a combination of both?</li></ul><p>If you are a workbench/macro developer, what specific requirements for a materials system does the materials team need to know about? If you are a developer with experience programming materials’ look and feel, please contact Dave.</p><p>We’d love to have you join the <a href="https://forum.freecad.org/viewtopic.php?style=4&amp;t=78242" target="_blank" rel="noopener noreferrer">discussion</a>. If you agree that better materials will help make FreeCAD great and don&#x27;t have any feedback to offer, please consider <a href="https://wiki.freecad.org/Donate" target="_blank" rel="noopener noreferrer">donating to the FPA</a> so that more contributors get support for improving FreeCAD.</p><p>And last but not least, Dave Carter’s initiative to take matters into his own hands is precisely the kind of practical approach to improving FreeCAD that we’d love to see more of. If you are a user who shares this view, please consider donating to FreeCAD Project Association’s <a href="https://fpa.freecad.org/programs/fpadf-announcement" target="_blank" rel="noopener noreferrer">developer fund</a>, so that active contributors getting funding would become the norm.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/development/">development</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/tags/freecad/"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/tags/freecad/page/3/"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer bg-transparent footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col flex footer-layout"><div><div class="footer__title">Contact Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:contact@ondsel.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">contact@ondsel.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item" title="Follow us on X"><svg viewBox="0 0 24 24" width="18px"><g><path fill="white" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module" style="vertical-align: text-top;"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/privacy/">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/tos/">Terms of Service</a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">FreeCAD</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://freecad.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/FreeCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="footer__bottom copy_right text--center"><div class="footer__copyright">Copyright © 2024 Ondsel, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.20203778.js"></script>
<script src="/assets/js/main.a5f45b64.js"></script>
</body>
</html>