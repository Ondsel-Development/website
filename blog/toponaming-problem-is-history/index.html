<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-blog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">FreeCAD&#x27;s topological naming problem is (officially) history | Ondsel</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ondsel.com/blog/toponaming-problem-is-history/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="FreeCAD&#x27;s topological naming problem is (officially) history | Ondsel"><meta data-rh="true" name="description" content="Unstable FreeCAD builds now ship with toponaming fixes. Let’s talk about the amazing work that the community did there."><meta data-rh="true" property="og:description" content="Unstable FreeCAD builds now ship with toponaming fixes. Let’s talk about the amazing work that the community did there."><meta data-rh="true" property="og:image" content="https://ondsel.com/assets/images/titlecard-081142bd6cf0da00b52ef7639441b89f.png"><meta data-rh="true" name="twitter:image" content="https://ondsel.com/assets/images/titlecard-081142bd6cf0da00b52ef7639441b89f.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-05-22T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/sliptonic,https://github.com/prokoudine"><meta data-rh="true" property="article:tag" content="ondsel,es,freecad,toponaming"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ondsel.com/blog/toponaming-problem-is-history/"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/toponaming-problem-is-history/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ondsel.com/blog/toponaming-problem-is-history/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-37JG1KMTYS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-37JG1KMTYS",{anonymize_ip:!0})</script>


<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ondsel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ondsel Atom Feed">

<script src="https://boards.greenhouse.io/embed/job_board/js?for=ondsel"></script>
<script src="/js/get_os.js"></script><link rel="stylesheet" href="/assets/css/styles.25708633.css">
<link rel="preload" href="/assets/js/runtime~main.2dd45ef2.js" as="script">
<link rel="preload" href="/assets/js/main.43182b8a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar bg-grid-pattern navbar--fixed-top"><div class="wrapper"><div class="menu_button"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div><div class="navbar__inner"><div class="navbar__items navbar_layout"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Ondsel Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items desktop text_gray"><a aria-current="page" class="text_gray navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="text_gray navbar__item navbar__link" href="/pricing/">Pricing</a><a aria-current="page" class="text_gray navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a class="text_gray navbar__item navbar__link" href="/support/">Support</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Company</a><ul class="dropdown__menu"><li><a class="text_gray dropdown__link" href="/about/">About Us</a></li><li><a class="text_gray dropdown__link" href="/team/">Team</a></li><li><a class="text_gray dropdown__link" href="/careers/">Careers</a></li><li><a class="text_gray dropdown__link" href="/handbook/">Handbook</a></li><li><a class="text_gray dropdown__link" href="/contact/">Contact</a></li></ul></div></div><div class="navbar__items navbar__items--right desktop text_gray"><a href="https://lens.ondsel.com" target="_blank" rel="noopener noreferrer" class="text_gray navbar__item navbar__link">Lens<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item"><form action="https://google.com/search"><input type="hidden" name="sitesearch" value="ondsel.com"><input id="searchInput" placeholder="Search" type="search" results name="q"><button id="searchSubmit" type="submit"><svg viewBox="0 0 16 16" height="16" width="16" style="vertical-align: middle;"><g transform="translate(0 -1036.4)"><ellipse style="color-rendering:auto;shape-rendering:auto;stroke-width:2;fill:none;" rx="5.0368" ry="5.0368" cy="1042.4" cx="9.9632"></ellipse><path style="stroke-width:3;fill:none" d="m1.0607 1051.3 5.114-5.114"></path></g></svg></button></form></div><div class="searchBox_H2mL"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_brwN thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_r4Q1 margin-bottom--md">Recent posts</div><ul class="sidebarItemList_QwSx clean-list"><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/reloadable-step-files/">Introducing reloadable STEP files in Ondsel ES</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/new-in-lens-addon-ui-search/">New in the Ondsel Lens addon: revamped UI, search, and more</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/libre-space-foundation-mbd-solver/">Simulating multi-body dynamics in zero gravity with Ondsel Solver</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/ondsel-svg-postprocessor/">Streamlining laser cutter workflows with Ondsel postprocessor</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/blog/gd-and-t-as-core-feature/">Let’s make GD&amp;T support a core feature</a></li></ul><hr style="margin-top:0;margin-bottom:1rem"><a class="bold_nfrR" href="/blog/archive/">Archive</a><br><a class="bold_nfrR" href="/blog/tags/">Tags</a></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ondsel.com/assets/images/titlecard-081142bd6cf0da00b52ef7639441b89f.png"><header><h1 class="title_f1Hy" itemprop="headline">FreeCAD&#x27;s topological naming problem is (officially) history</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-05-22T00:00:00.000Z" itemprop="datePublished">May 22, 2024</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/538057?v=4" alt="Brad Collette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sliptonic" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brad Collette</span></a></div><small class="avatar__subtitle" itemprop="description">Ondsel Core Team</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/57467?v=4" alt="Alexandre Prokoudine"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/prokoudine" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Alexandre Prokoudine</span></a></div><small class="avatar__subtitle" itemprop="description">Contributing Writer</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>One of the questions we&#x27;ve been getting from users regarding the release of Ondsel ES 2024.2 is whether we are shipping it with all the recent toponaming fixes enabled. The answer is &#x27;no&#x27;. While most of the work in the TNP project is done, the code is largely untested by the larger community, so we don&#x27;t feel comfortable shipping it in an actual release of Ondsel ES. However, let&#x27;s take this opportunity to talk about TNP and the amazing work that the community did there.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-has-been-done">What has been done<a href="#what-has-been-done" class="hash-link" aria-label="Direct link to What has been done" title="Direct link to What has been done">​</a></h2><p>Just to reiterate, the toponaming problem is an inherent side effect of parametric modeling. Models are built up progressively with later features depending on the geometry from earlier steps. If the user goes back to an earlier step and changes it, later steps can break because the base feature they depend on changes. To avoid that, the CAD software needs to keep track of all geometry features you create and provide a way to recover when a certain geometry feature is taken from under another one. </p><p>RealThunder developed a solution for the toponaming problem in his own fork of FreeCAD, known as the LinkStage branch. While the code worked (and continues to work), there were two major problems with it: 1) the fork went out of sync with upstream FreeCAD, so LinkStage users couldn’t benefit from newer FreeCAD features, and vice versa, 2) the code wasn’t written in a way that was maintainable by anybody other than RealThunder. So a task force formed to migrate RealThunder&#x27;s patches back to the upstream project. If you’re curious to learn more, we <a href="https://ondsel.com/blog/freecad-topological-naming/" target="_blank" rel="noopener noreferrer">wrote about the problem and the solution</a> last year.</p><p>After more than a year of work, the last phase of the toponaming project is now complete. While the team is still finding missing bits of code for Sketcher and PartDesign and adding them, anyone can rebuild the program with the toponaming fix and see that things are beginning to work as expected.</p><p>Because the application is doing more work to keep track of the geometry, we expected some performance impact. The team has been watching this closely and investigating potential performance regressions. So far, things actually look really good. Performance impact appears to be negligible. Much of that is thanks to RealThunder&#x27;s extensive optimization.</p><p>The upstream team will not ship FreeCAD 1.0 without TNP fixes enabled. On Monday, they <a href="https://github.com/FreeCAD/FreeCAD/issues/8432#issuecomment-2121349967" target="_blank" rel="noopener noreferrer">enabled</a> the mitigation patchset in weekly builds by default to start getting the new code to a wider user base (as compared to the team that worked on the toponaming code).</p><p><img loading="lazy" alt="TNP announcement on GitHub" src="/assets/images/announcement-91b6b8214383214abb0497641c5cc54c.webp" width="1660" height="347" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-we-have-learned">What we have learned<a href="#what-we-have-learned" class="hash-link" aria-label="Direct link to What we have learned" title="Direct link to What we have learned">​</a></h2><p>FreeCAD hasn’t had to tackle very many large-scale initiatives like this in the past. Only two come to mind: the Python3 port and the Qt5 port. So this was also an opportunity to learn and improve. Big projects like this aren’t sexy. They don’t add cool new features or UI/UX polish that thrills users. They are often bigger than a single contributor can achieve working alone and carry a lot of risk. All that means that big projects tend to languish. One answer is professional, paid development.</p><p>The model where paid contributors <em>and</em> volunteers work on the same project actually works. In some ways it provides the best of both worlds. We get an army of volunteers who can bring domain expertise, testing, and many small contributions while also encouraging a professional style of development, consistency, and scale.</p><p>We also witnessed just how much FreeCAD needs paid contributors. This might seem obvious to you, but there&#x27;s a lot of FOSS lore around the idea that business interests and paid development corrupt free software projects. It doesn&#x27;t have to be the case! </p><p>Paid development opens up a lot of possibilities for the project. While a team of volunteers might be able to deliver good results while working in their spare time, there is no guarantee that solutions will be forthcoming or that contributions will be maintainable when they arrive. We think a hybrid solution is the best way forward and we congratulate the entire team on their success: both RealThunder, Chris Hennes, and Pesc0, who contributed uncountable hours as volunteers, and bgbsww, CalligaroV, and John Dupuy (Ondsel), who did paid development. </p><p>But we also should be thanking the legions of users who donated to the FPA and made the FPA grants for CalligaroV and bgbsww possible. Without financial resources, this kind of development is really hard and often impossible. </p><p>Finally, starting to use <a href="https://github.com/orgs/FreeCAD/projects/2/views/1" target="_blank" rel="noopener noreferrer">GitHub projects</a> was a rather smart move to improve how larger projects are managed. This brought clarity and better organization. The FPA is continuing to <a href="https://fpa.freecad.org/programs/fpadf-announcement" target="_blank" rel="noopener noreferrer">expand the use of grants</a>. Supported projects now include work on Sketcher, a brand new components library, better infrastructure for the project, and more.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s next" title="Direct link to What&#x27;s next">​</a></h2><p>For Ondsel ES users, we will enable the TNP code in the next stable release, 2024.3, as well as in weekly builds leading up to that.</p><p>Meanwhile, let&#x27;s remember that model stability is a complex topic, and TNP mitigation helps only for a specific kind of model breakage. Models can still break for reasons that have nothing to do with topological naming. That&#x27;s not even FreeCAD-specific. SolidWorks does that, Siemens NX does that, and so do other CAD programs: all CAD software can be used to design brittle models and there’s no substitute for good design principles.</p><p>If you are interested in learning more about those principles, you can start with <a href="https://wiki.freecad.org/Feature_editing#Advice_for_creating_stable_models" target="_blank" rel="noopener noreferrer">this list</a> of suggestions. Following them might sound like doing things backwards, but it will actually make you a better designer.</p><p>Finally, we encourage you to <a href="https://www.freecad.org/sponsor.php" target="_blank" rel="noopener noreferrer">donate to the FPA</a> so that more complex projects could be tackled, there is no shortage of those in FreeCAD.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ondsel/">ondsel</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/es/">es</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/freecad/">freecad</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/toponaming/">toponaming</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/hunt-uncaught-freecad-errors/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">FreeCAD bug hunt has begun! Crush silly bugs. Win awesome swag</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/ondsel-es-2024-2/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Ondsel ES 2024.2 released: more assembly tools and UX/UI polish</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-has-been-done" class="table-of-contents__link toc-highlight">What has been done</a></li><li><a href="#what-we-have-learned" class="table-of-contents__link toc-highlight">What we have learned</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s next</a></li></ul></div></div></div></div></div><footer class="footer bg-transparent footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col flex footer-layout"><div><div class="footer__title">Contact Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:contact@ondsel.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">contact@ondsel.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item">facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/ondsel" target="_blank" rel="noopener noreferrer" class="footer__link-item" title="Follow us on X"><svg viewBox="0 0 24 24" width="18px"><g><path fill="white" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module" style="vertical-align: text-top;"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Ondsel-Development/FreeCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ondsel ES<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Ondsel-Development/OndselSolver" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ondsel Solver<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Ondsel-Development/Ondsel-Lens" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lens add-on<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/privacy/">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/tos/">Terms of Service</a></li></ul></div></div><div class="col footer__col flex footer-layout"><div><div class="footer__title">FreeCAD</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://freecad.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/FreeCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="footer__bottom copy_right text--center"><div class="footer__copyright">Copyright © 2024 Ondsel, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2dd45ef2.js"></script>
<script src="/assets/js/main.43182b8a.js"></script>
</body>
</html>