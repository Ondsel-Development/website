"use strict";(self.webpackChunkondsel=self.webpackChunkondsel||[]).push([[7134],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>m});var r=o(67294);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,s=function(e,t){if(null==e)return{};var o,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(s[o]=e[o]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}var i=r.createContext({}),p=function(e){var t=r.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):n(n({},t),e)),o},c=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var o=e.components,s=e.mdxType,a=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(o),h=s,m=u["".concat(i,".").concat(h)]||u[h]||d[h]||a;return o?r.createElement(m,n(n({ref:t},c),{},{components:o})):r.createElement(m,n({ref:t},c))}));function m(e,t){var o=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=o.length,n=new Array(a);n[0]=h;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:s,n[1]=l;for(var p=2;p<a;p++)n[p]=o[p];return r.createElement.apply(null,n)}return r.createElement.apply(null,o)}h.displayName="MDXCreateElement"},24398:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>n,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=o(87462),s=(o(67294),o(3905));const a={slug:"ondsel-svg-postprocessor",title:"Streamlining laser cutter workflows with Ondsel postprocessor",description:"Laser cutters are a staple in maker spaces and are often the first exposure users have to CNC equipment. We developed a postprocessor to create SVG files for laser cutters",authors:[{name:"Brad Collette",title:"Ondsel Core Team",url:"https://github.com/sliptonic",image_url:"https://avatars.githubusercontent.com/u/538057?v=4"}],tags:["ondsel","es","cnc","cam","svg"],image:"./titlecard.jpg",draft:!1},n=void 0,l={permalink:"/blog/ondsel-svg-postprocessor",source:"@site/blog/2024-09-27/svg-postprocessor.mdx",title:"Streamlining laser cutter workflows with Ondsel postprocessor",description:"Laser cutters are a staple in maker spaces and are often the first exposure users have to CNC equipment. We developed a postprocessor to create SVG files for laser cutters",date:"2024-09-27T00:00:00.000Z",formattedDate:"September 27, 2024",tags:[{label:"ondsel",permalink:"/blog/tags/ondsel"},{label:"es",permalink:"/blog/tags/es"},{label:"cnc",permalink:"/blog/tags/cnc"},{label:"cam",permalink:"/blog/tags/cam"},{label:"svg",permalink:"/blog/tags/svg"}],readingTime:5.88,hasTruncateMarker:!0,authors:[{name:"Brad Collette",title:"Ondsel Core Team",url:"https://github.com/sliptonic",image_url:"https://avatars.githubusercontent.com/u/538057?v=4",imageURL:"https://avatars.githubusercontent.com/u/538057?v=4"}],frontMatter:{slug:"ondsel-svg-postprocessor",title:"Streamlining laser cutter workflows with Ondsel postprocessor",description:"Laser cutters are a staple in maker spaces and are often the first exposure users have to CNC equipment. We developed a postprocessor to create SVG files for laser cutters",authors:[{name:"Brad Collette",title:"Ondsel Core Team",url:"https://github.com/sliptonic",image_url:"https://avatars.githubusercontent.com/u/538057?v=4",imageURL:"https://avatars.githubusercontent.com/u/538057?v=4"}],tags:["ondsel","es","cnc","cam","svg"],image:"./titlecard.jpg",draft:!1},prevItem:{title:"Simulating multi-body dynamics in zero gravity with Ondsel Solver",permalink:"/blog/libre-space-foundation-mbd-solver"},nextItem:{title:"Let\u2019s make GD&T support a core feature",permalink:"/blog/gd-and-t-as-core-feature"}},i={image:o(51527).Z,authorsImageUrls:[void 0]},p=[{value:"Typical challenges",id:"typical-challenges",level:2},{value:"Offsetting",id:"offsetting",level:3},{value:"Feed Rate and Laser Power",id:"feed-rate-and-laser-power",level:3},{value:"Part Placement",id:"part-placement",level:3},{value:"Multiple Passes",id:"multiple-passes",level:3},{value:"Existing solutions",id:"existing-solutions",level:2},{value:"Ondsel SVG Postprocessor",id:"ondsel-svg-postprocessor",level:2},{value:"Setting it up",id:"setting-it-up",level:2},{value:"How to use the SVG post-processor",id:"how-to-use-the-svg-post-processor",level:2}],c={toc:p};function u(e){let{components:t,...a}=e;return(0,s.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Laser cutters are a staple in maker spaces and are often the first exposure users have to CNC equipment. They are fast and accurate. They produce usable parts from inexpensive materials. They can cut and engrave and are intuitive to use. "),(0,s.kt)("p",null,"However, laser cutters typically have a different workflow compared to other CNC machines. Instead of G-code, the input for laser cutters is usually 2D geometry files such as SVG, DXF, or image files. The control software then automatically generates the G-code internally. This means that users need to prepare their SVG files before feeding them to laser cutters, and the procedure is different for every cutter."),(0,s.kt)("p",null,"To make things easier, we developed a post-processor for the CAM workbench that generates SVG files automatically. It helps streamline the workflow and cuts down the time it usually takes to go from design to product."),(0,s.kt)("p",null,"SVG isn\u2019t intended for machine control. Using it for that purpose is convenient but introduces some problems that the user needs to resolve. Let\u2019s take a look at them."),(0,s.kt)("h2",{id:"typical-challenges"},"Typical challenges"),(0,s.kt)("h3",{id:"offsetting"},"Offsetting"),(0,s.kt)("p",null,"With an SVG, the geometry describes the desired part. If we push the laser beam along that line, the kerf (material removed by the laser) will be divided on either side and the final part will be slightly smaller than designed. Interior holes will be slightly larger. Laser cutter beams are usually very narrow and, for some applications, the user can simply ignore the kerf. But if the user wants highly accurate parts, the SVG has to be scaled up or down to account for it."),(0,s.kt)("p",null,"CAM tools like FreeCAD\u2019s CAM workbench handle kerf automatically. They offset the toolpath from the part model by the radius of the cutter. The resulting parts and holes are accurately cut. "),(0,s.kt)("h3",{id:"feed-rate-and-laser-power"},"Feed Rate and Laser Power"),(0,s.kt)("p",null,"In CAM tools, controlling the feed rate and the spindle speed is done with explicit G-code commands. SVG and DXF files don\u2019t have such commands so the desired feed rate and laser power settings are implied through layers and colors. The user makes certain lines red and other lines blue. The laser control is then configured to interpret a red line as a cutting line and runs the laser at a pre-specified feed rate and power level. There\u2019s no universal standard for these colors. Some laser cutters ignore color entirely and instead use different layers of the SVG file to correspond to different operations. It falls on the user to know what the laser controller needs and to carefully create the image accordingly."),(0,s.kt)("h3",{id:"part-placement"},"Part Placement"),(0,s.kt)("p",null,"The ideal position of a part for fabrication is seldom the same as the ideal position for modeling. Consider a simple box where the user has designed cut pieces to fit together. The assembly position is radically different from the cut -sheet. CAM tools allow for creating cut sheets and optimizing the cut layout without disturbing the original assembly."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Assembly cut sheet",src:o(79239).Z,width:"1351",height:"719"})),(0,s.kt)("h3",{id:"multiple-passes"},"Multiple Passes"),(0,s.kt)("p",null,"There are times when the user wants the laser to follow the same pass multiple times. Cutting through particularly thick material is one. With an SVG file, this is done by having multiple identical edges. It works but is impossible for a human to see and verify. With CAM, passes are shown as distinct tool paths. As long as the Z-depth value is different, the user can see them."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Step downs and offsets",src:o(98431).Z,width:"1060",height:"934"})),(0,s.kt)("p",null,"Unfortunately, CAM tools usually produce G-code. Wouldn\u2019t it be nice if the user could set up a traditional CAM job, lay out the parts the way they want for cutting, configure the feed rate and power, and then automatically produce an SVG file that the laser cutter could read?"),(0,s.kt)("h2",{id:"existing-solutions"},"Existing solutions"),(0,s.kt)("p",null,"The ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/FreeCAD/FreeCAD-macros/blob/master/TechDraw/LasercutterSVGExport.FCMacro"},"LasercutterSVGExport")," macro available in the FreeCAD Addon Manager is one solution that a lot of people turn to. It works well but still requires repositioning the parts for cutting on a TechDraw page."),(0,s.kt)("h2",{id:"ondsel-svg-postprocessor"},"Ondsel SVG Postprocessor"),(0,s.kt)("p",null,"To simplify working with laser cutters while leveraging the regular CNC workflow, we\u2019ve developed a new SVG-specific postprocessor. This tool streamlines the process and integrates seamlessly with the existing CAM workbench."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Available for download"),": The Ondsel SVG postprocessor is now available in our weekly builds that you can ",(0,s.kt)("a",{parentName:"p",href:"https://lens.ondsel.com/download-and-explore"},"download from Lens")," and will be part of the upcoming v2024.3 release."),(0,s.kt)("h2",{id:"setting-it-up"},"Setting it up"),(0,s.kt)("p",null,"Once you created your design as usual, including assemblies, do the one-time setup:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"In the CAM workbench, create a 'Toolbit' to represent the laser. Since the beam is cylindrical, use the end mill tool shape."),(0,s.kt)("li",{parentName:"ol"},"Set the diameter to the beam width of your laser."),(0,s.kt)("li",{parentName:"ol"},"Add the tool bit to your tool library"),(0,s.kt)("li",{parentName:"ol"},"Download the postprocessor and put it with the other posts or in your CAM default directory.")),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"post location",src:o(2745).Z,width:"1166",height:"985"})),(0,s.kt)("p",null,"The postprocessor is a single Python file and can be edited in any text editor. You might not need to do this unless you need to customize the colors for your laser. The post-processor has some simple global variables at the beginning. If you need to configure which colors are assigned to the different operations, you can easily edit these values."),(0,s.kt)("p",null,"To give you something to play with, here is a simple FCStd file you can export from Lens:"),(0,s.kt)("iframe",{width:"560",height:"315",src:"https://lens.ondsel.com/share/66f6c7b3b3ad9c1ce78e03b5",title:"Ondsel"}),(0,s.kt)("p",null,"It's completely set up for the CAM job:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Logo example",src:o(41206).Z,width:"2560",height:"1440"})),(0,s.kt)("p",null,"And here is the post-processed SVG file:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"SVG file",src:o(44985).Z,width:"2952",height:"2952"})),(0,s.kt)("p",null,"You can right-click and download it as a file to inspect."),(0,s.kt)("h2",{id:"how-to-use-the-svg-post-processor"},"How to use the SVG post-processor"),(0,s.kt)("p",null,"Here are the steps when you are using the post-processor for the first time:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"Create a CAM job and select the SVG post-processor."),(0,s.kt)("li",{parentName:"ol"},"Set the file output name, ensuring the extension is .svg."),(0,s.kt)("li",{parentName:"ol"},"Position the parts within a stock boundary. CAM can automatically generate a stock, or you can configure a custom stock."),(0,s.kt)("li",{parentName:"ol"},"Create a Tool Controller for each way you want to use the laser (e.g., Cutting, Engraving). Name the tool controllers appropriately (e.g., TC: CUTTING, TC: ENGRAVING)."),(0,s.kt)("li",{parentName:"ol"},"Create a profile operation to cut out the parts. If multiple passes are needed, configure the step-down values to create multiple toolpath passes. Use the cutting tool controller.")),(0,s.kt)("p",null,"For engraving, create an engraving operation and select the engraving tool controller."),(0,s.kt)("p",null,"Optionally, save the job as a job template for future use."),(0,s.kt)("p",null,"Once you\u2019ve done it the first time, every other time just do this:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"With the tools and operations set up, select the job and post-process to output an SVG file."),(0,s.kt)("li",{parentName:"ol"},"Options include creating multiple layers in the document, with each layer corresponding to an operation and having a similar name.")),(0,s.kt)("p",null,"By following the steps, you can streamline your laser cutting process, making it more efficient and integrated with your existing CNC workflows. The Ondsel SVG postprocessor ensures a smoother transition from CAD to laser cutting, enhancing your productivity and precision."),(0,s.kt)("p",null,"We would love to hear how this works for you. If you have ideas for further improvement, let us know by joining our ",(0,s.kt)("a",{parentName:"p",href:"https://discord.gg/7jmzezyyfP"},"Discord server")," or opening an issue in ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/Ondsel-Development/FreeCAD/issues"},"our tracker"),"."))}u.isMDXComponent=!0},79239:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/assembly-cut-sheet-5bfcb444221438ba5a95a9f49818030d.webp"},44985:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/ondsel-logo-example-c83ba4f80b1ffda32afe62dba4eaeda3.svg"},41206:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/ondsel-logo-example-98b3b16b561f4487e44d0a765d237c4f.webp"},2745:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/postlocation-1b0424df7f9942f10be78641e46192f5.webp"},98431:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/stepdowns-and-offsets-23a564005982e3a3b5a86acbda44b3ea.webp"},51527:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/titlecard-185b0f950b6bfb771be7d36c20581beb.jpg"}}]);